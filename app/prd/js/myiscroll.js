/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ({

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(18);


/***/ },

/***/ 11:
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/*!\n * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org\n * Released under MIT license, http://cubiq.org/license\n */\n(function(window, doc){\nvar m = Math,\n\tdummyStyle = doc.createElement('div').style,\n\tvendor = (function () {\n\t\tvar vendors = 't,webkitT,MozT,msT,OT'.split(','),\n\t\t\tt,\n\t\t\ti = 0,\n\t\t\tl = vendors.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tt = vendors[i] + 'ransform';\n\t\t\tif ( t in dummyStyle ) {\n\t\t\t\treturn vendors[i].substr(0, vendors[i].length - 1);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})(),\n\tcssVendor = vendor ? '-' + vendor.toLowerCase() + '-' : '',\n\n\t// Style properties\n\ttransform = prefixStyle('transform'),\n\ttransitionProperty = prefixStyle('transitionProperty'),\n\ttransitionDuration = prefixStyle('transitionDuration'),\n\ttransformOrigin = prefixStyle('transformOrigin'),\n\ttransitionTimingFunction = prefixStyle('transitionTimingFunction'),\n\ttransitionDelay = prefixStyle('transitionDelay'),\n\n    // Browser capabilities\n\tisAndroid = (/android/gi).test(navigator.appVersion),\n\tisIDevice = (/iphone|ipad/gi).test(navigator.appVersion),\n\tisTouchPad = (/hp-tablet/gi).test(navigator.appVersion),\n\n    has3d = prefixStyle('perspective') in dummyStyle,\n    hasTouch = 'ontouchstart' in window && !isTouchPad,\n    hasTransform = vendor !== false,\n    hasTransitionEnd = prefixStyle('transition') in dummyStyle,\n\n\tRESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize',\n\tSTART_EV = hasTouch ? 'touchstart' : 'mousedown',\n\tMOVE_EV = hasTouch ? 'touchmove' : 'mousemove',\n\tEND_EV = hasTouch ? 'touchend' : 'mouseup',\n\tCANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup',\n\tTRNEND_EV = (function () {\n\t\tif ( vendor === false ) return false;\n\n\t\tvar transitionEnd = {\n\t\t\t\t''\t\t\t: 'transitionend',\n\t\t\t\t'webkit'\t: 'webkitTransitionEnd',\n\t\t\t\t'Moz'\t\t: 'transitionend',\n\t\t\t\t'O'\t\t\t: 'otransitionend',\n\t\t\t\t'ms'\t\t: 'MSTransitionEnd'\n\t\t\t};\n\n\t\treturn transitionEnd[vendor];\n\t})(),\n\n\tnextFrame = (function() {\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(callback) { return setTimeout(callback, 1); };\n\t})(),\n\tcancelFrame = (function () {\n\t\treturn window.cancelRequestAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\t\twindow.mozCancelRequestAnimationFrame ||\n\t\t\twindow.oCancelRequestAnimationFrame ||\n\t\t\twindow.msCancelRequestAnimationFrame ||\n\t\t\tclearTimeout;\n\t})(),\n\n\t// Helpers\n\ttranslateZ = has3d ? ' translateZ(0)' : '',\n\n\t// Constructor\n\tiScroll = function (el, options) {\n\t\tvar that = this,\n\t\t\ti;\n\n\t\tthat.wrapper = typeof el == 'object' ? el : doc.getElementById(el);\n\t\tthat.wrapper.style.overflow = 'hidden';\n\t\tthat.scroller = that.wrapper.children[0];\n\n\t\t// Default options\n\t\tthat.options = {\n\t\t\thScroll: true,\n\t\t\tvScroll: true,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tbounce: true,\n\t\t\tbounceLock: false,\n\t\t\tmomentum: true,\n\t\t\tlockDirection: true,\n\t\t\tuseTransform: true,\n\t\t\tuseTransition: false,\n\t\t\ttopOffset: 0,\n\t\t\tcheckDOMChanges: false,\t\t// Experimental\n\t\t\thandleClick: true,\n\n\t\t\t// Scrollbar\n\t\t\thScrollbar: true,\n\t\t\tvScrollbar: true,\n\t\t\tfixedScrollbar: isAndroid,\n\t\t\thideScrollbar: isIDevice,\n\t\t\tfadeScrollbar: isIDevice && has3d,\n\t\t\tscrollbarClass: '',\n\n\t\t\t// Zoom\n\t\t\tzoom: false,\n\t\t\tzoomMin: 1,\n\t\t\tzoomMax: 4,\n\t\t\tdoubleTapZoom: 2,\n\t\t\twheelAction: 'scroll',\n\n\t\t\t// Snap\n\t\t\tsnap: false,\n\t\t\tsnapThreshold: 1,\n\n\t\t\t// Events\n\t\t\tonRefresh: null,\n\t\t\tonBeforeScrollStart: function (e) { e.preventDefault(); },\n\t\t\tonScrollStart: null,\n\t\t\tonBeforeScrollMove: null,\n\t\t\tonScrollMove: null,\n\t\t\tonBeforeScrollEnd: null,\n\t\t\tonScrollEnd: null,\n\t\t\tonTouchEnd: null,\n\t\t\tonDestroy: null,\n\t\t\tonZoomStart: null,\n\t\t\tonZoom: null,\n\t\t\tonZoomEnd: null\n\t\t};\n\n\t\t// User defined options\n\t\tfor (i in options) that.options[i] = options[i];\n\t\t\n\t\t// Set starting position\n\t\tthat.x = that.options.x;\n\t\tthat.y = that.options.y;\n\n\t\t// Normalize options\n\t\tthat.options.useTransform = hasTransform && that.options.useTransform;\n\t\tthat.options.hScrollbar = that.options.hScroll && that.options.hScrollbar;\n\t\tthat.options.vScrollbar = that.options.vScroll && that.options.vScrollbar;\n\t\tthat.options.zoom = that.options.useTransform && that.options.zoom;\n\t\tthat.options.useTransition = hasTransitionEnd && that.options.useTransition;\n\n\t\t// Helpers FIX ANDROID BUG!\n\t\t// translate3d and scale doesn't work together!\n\t\t// Ignoring 3d ONLY WHEN YOU SET that.options.zoom\n\t\tif ( that.options.zoom && isAndroid ){\n\t\t\ttranslateZ = '';\n\t\t}\n\t\t\n\t\t// Set some default styles\n\t\tthat.scroller.style[transitionProperty] = that.options.useTransform ? cssVendor + 'transform' : 'top left';\n\t\tthat.scroller.style[transitionDuration] = '0';\n\t\tthat.scroller.style[transformOrigin] = '0 0';\n\t\tif (that.options.useTransition) that.scroller.style[transitionTimingFunction] = 'cubic-bezier(0.33,0.66,0.66,1)';\n\t\t\n\t\tif (that.options.useTransform) that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px)' + translateZ;\n\t\telse that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px';\n\n\t\tif (that.options.useTransition) that.options.fixedScrollbar = true;\n\n\t\tthat.refresh();\n\n\t\tthat._bind(RESIZE_EV, window);\n\t\tthat._bind(START_EV);\n\t\tif (!hasTouch) {\n\t\t\tif (that.options.wheelAction != 'none') {\n\t\t\t\tthat._bind('DOMMouseScroll');\n\t\t\t\tthat._bind('mousewheel');\n\t\t\t}\n\t\t}\n\n\t\tif (that.options.checkDOMChanges) that.checkDOMTime = setInterval(function () {\n\t\t\tthat._checkDOMChanges();\n\t\t}, 500);\n\t};\n\n// Prototype\niScroll.prototype = {\n\tenabled: true,\n\tx: 0,\n\ty: 0,\n\tsteps: [],\n\tscale: 1,\n\tcurrPageX: 0, currPageY: 0,\n\tpagesX: [], pagesY: [],\n\taniTime: null,\n\twheelZoomCount: 0,\n\t\n\thandleEvent: function (e) {\n\t\tvar that = this;\n\t\tswitch(e.type) {\n\t\t\tcase START_EV:\n\t\t\t\tif (!hasTouch && e.button !== 0) return;\n\t\t\t\tthat._start(e);\n\t\t\t\tbreak;\n\t\t\tcase MOVE_EV: that._move(e); break;\n\t\t\tcase END_EV:\n\t\t\tcase CANCEL_EV: that._end(e); break;\n\t\t\tcase RESIZE_EV: that._resize(); break;\n\t\t\tcase 'DOMMouseScroll': case 'mousewheel': that._wheel(e); break;\n\t\t\tcase TRNEND_EV: that._transitionEnd(e); break;\n\t\t}\n\t},\n\t\n\t_checkDOMChanges: function () {\n\t\tif (this.moved || this.zoomed || this.animating ||\n\t\t\t(this.scrollerW == this.scroller.offsetWidth * this.scale && this.scrollerH == this.scroller.offsetHeight * this.scale)) return;\n\n\t\tthis.refresh();\n\t},\n\t\n\t_scrollbar: function (dir) {\n\t\tvar that = this,\n\t\t\tbar;\n\n\t\tif (!that[dir + 'Scrollbar']) {\n\t\t\tif (that[dir + 'ScrollbarWrapper']) {\n\t\t\t\tif (hasTransform) that[dir + 'ScrollbarIndicator'].style[transform] = '';\n\t\t\t\tthat[dir + 'ScrollbarWrapper'].parentNode.removeChild(that[dir + 'ScrollbarWrapper']);\n\t\t\t\tthat[dir + 'ScrollbarWrapper'] = null;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'] = null;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!that[dir + 'ScrollbarWrapper']) {\n\t\t\t// Create the scrollbar wrapper\n\t\t\tbar = doc.createElement('div');\n\n\t\t\tif (that.options.scrollbarClass) bar.className = that.options.scrollbarClass + dir.toUpperCase();\n\t\t\telse bar.style.cssText = 'position:absolute;z-index:100;' + (dir == 'h' ? 'height:7px;bottom:1px;left:2px;right:' + (that.vScrollbar ? '7' : '2') + 'px' : 'width:7px;bottom:' + (that.hScrollbar ? '7' : '2') + 'px;top:2px;right:1px');\n\n\t\t\tbar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:opacity;' + cssVendor + 'transition-duration:' + (that.options.fadeScrollbar ? '350ms' : '0') + ';overflow:hidden;opacity:' + (that.options.hideScrollbar ? '0' : '1');\n\n\t\t\tthat.wrapper.appendChild(bar);\n\t\t\tthat[dir + 'ScrollbarWrapper'] = bar;\n\n\t\t\t// Create the scrollbar indicator\n\t\t\tbar = doc.createElement('div');\n\t\t\tif (!that.options.scrollbarClass) {\n\t\t\t\tbar.style.cssText = 'position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);' + cssVendor + 'background-clip:padding-box;' + cssVendor + 'box-sizing:border-box;' + (dir == 'h' ? 'height:100%' : 'width:100%') + ';' + cssVendor + 'border-radius:3px;border-radius:3px';\n\t\t\t}\n\t\t\tbar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:' + cssVendor + 'transform;' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);' + cssVendor + 'transition-duration:0;' + cssVendor + 'transform: translate(0,0)' + translateZ;\n\t\t\tif (that.options.useTransition) bar.style.cssText += ';' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)';\n\n\t\t\tthat[dir + 'ScrollbarWrapper'].appendChild(bar);\n\t\t\tthat[dir + 'ScrollbarIndicator'] = bar;\n\t\t}\n\n\t\tif (dir == 'h') {\n\t\t\tthat.hScrollbarSize = that.hScrollbarWrapper.clientWidth;\n\t\t\tthat.hScrollbarIndicatorSize = m.max(m.round(that.hScrollbarSize * that.hScrollbarSize / that.scrollerW), 8);\n\t\t\tthat.hScrollbarIndicator.style.width = that.hScrollbarIndicatorSize + 'px';\n\t\t\tthat.hScrollbarMaxScroll = that.hScrollbarSize - that.hScrollbarIndicatorSize;\n\t\t\tthat.hScrollbarProp = that.hScrollbarMaxScroll / that.maxScrollX;\n\t\t} else {\n\t\t\tthat.vScrollbarSize = that.vScrollbarWrapper.clientHeight;\n\t\t\tthat.vScrollbarIndicatorSize = m.max(m.round(that.vScrollbarSize * that.vScrollbarSize / that.scrollerH), 8);\n\t\t\tthat.vScrollbarIndicator.style.height = that.vScrollbarIndicatorSize + 'px';\n\t\t\tthat.vScrollbarMaxScroll = that.vScrollbarSize - that.vScrollbarIndicatorSize;\n\t\t\tthat.vScrollbarProp = that.vScrollbarMaxScroll / that.maxScrollY;\n\t\t}\n\n\t\t// Reset position\n\t\tthat._scrollbarPos(dir, true);\n\t},\n\t\n\t_resize: function () {\n\t\tvar that = this;\n\t\tsetTimeout(function () { that.refresh(); }, isAndroid ? 200 : 0);\n\t},\n\t\n\t_pos: function (x, y) {\n\t\tif (this.zoomed) return;\n\n\t\tx = this.hScroll ? x : 0;\n\t\ty = this.vScroll ? y : 0;\n\n\t\tif (this.options.useTransform) {\n\t\t\tthis.scroller.style[transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + this.scale + ')' + translateZ;\n\t\t} else {\n\t\t\tx = m.round(x);\n\t\t\ty = m.round(y);\n\t\t\tthis.scroller.style.left = x + 'px';\n\t\t\tthis.scroller.style.top = y + 'px';\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\tthis._scrollbarPos('h');\n\t\tthis._scrollbarPos('v');\n\t},\n\n\t_scrollbarPos: function (dir, hidden) {\n\t\tvar that = this,\n\t\t\tpos = dir == 'h' ? that.x : that.y,\n\t\t\tsize;\n\n\t\tif (!that[dir + 'Scrollbar']) return;\n\n\t\tpos = that[dir + 'ScrollbarProp'] * pos;\n\n\t\tif (pos < 0) {\n\t\t\tif (!that.options.fixedScrollbar) {\n\t\t\t\tsize = that[dir + 'ScrollbarIndicatorSize'] + m.round(pos * 3);\n\t\t\t\tif (size < 8) size = 8;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';\n\t\t\t}\n\t\t\tpos = 0;\n\t\t} else if (pos > that[dir + 'ScrollbarMaxScroll']) {\n\t\t\tif (!that.options.fixedScrollbar) {\n\t\t\t\tsize = that[dir + 'ScrollbarIndicatorSize'] - m.round((pos - that[dir + 'ScrollbarMaxScroll']) * 3);\n\t\t\t\tif (size < 8) size = 8;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';\n\t\t\t\tpos = that[dir + 'ScrollbarMaxScroll'] + (that[dir + 'ScrollbarIndicatorSize'] - size);\n\t\t\t} else {\n\t\t\t\tpos = that[dir + 'ScrollbarMaxScroll'];\n\t\t\t}\n\t\t}\n\n\t\tthat[dir + 'ScrollbarWrapper'].style[transitionDelay] = '0';\n\t\tthat[dir + 'ScrollbarWrapper'].style.opacity = hidden && that.options.hideScrollbar ? '0' : '1';\n\t\tthat[dir + 'ScrollbarIndicator'].style[transform] = 'translate(' + (dir == 'h' ? pos + 'px,0)' : '0,' + pos + 'px)') + translateZ;\n\t},\n\t\n\t_start: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tmatrix, x, y,\n\t\t\tc1, c2;\n\n\t\tif (!that.enabled) return;\n\n\t\tif (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e);\n\n\t\tif (that.options.useTransition || that.options.zoom) that._transitionTime(0);\n\n\t\tthat.moved = false;\n\t\tthat.animating = false;\n\t\tthat.zoomed = false;\n\t\tthat.distX = 0;\n\t\tthat.distY = 0;\n\t\tthat.absDistX = 0;\n\t\tthat.absDistY = 0;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\t// Gesture start\n\t\tif (that.options.zoom && hasTouch && e.touches.length > 1) {\n\t\t\tc1 = m.abs(e.touches[0].pageX-e.touches[1].pageX);\n\t\t\tc2 = m.abs(e.touches[0].pageY-e.touches[1].pageY);\n\t\t\tthat.touchesDistStart = m.sqrt(c1 * c1 + c2 * c2);\n\n\t\t\tthat.originX = m.abs(e.touches[0].pageX + e.touches[1].pageX - that.wrapperOffsetLeft * 2) / 2 - that.x;\n\t\t\tthat.originY = m.abs(e.touches[0].pageY + e.touches[1].pageY - that.wrapperOffsetTop * 2) / 2 - that.y;\n\n\t\t\tif (that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t}\n\n\t\tif (that.options.momentum) {\n\t\t\tif (that.options.useTransform) {\n\t\t\t\t// Very lame general purpose alternative to CSSMatrix\n\t\t\t\tmatrix = getComputedStyle(that.scroller, null)[transform].replace(/[^0-9\\-.,]/g, '').split(',');\n\t\t\t\tx = +(matrix[12] || matrix[4]);\n\t\t\t\ty = +(matrix[13] || matrix[5]);\n\t\t\t} else {\n\t\t\t\tx = +getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, '');\n\t\t\t\ty = +getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '');\n\t\t\t}\n\t\t\t\n\t\t\tif (x != that.x || y != that.y) {\n\t\t\t\tif (that.options.useTransition) that._unbind(TRNEND_EV);\n\t\t\t\telse cancelFrame(that.aniTime);\n\t\t\t\tthat.steps = [];\n\t\t\t\tthat._pos(x, y);\n\t\t\t\tif (that.options.onScrollEnd) that.options.onScrollEnd.call(that);\n\t\t\t}\n\t\t}\n\n\t\tthat.absStartX = that.x;\t// Needed by snap threshold\n\t\tthat.absStartY = that.y;\n\n\t\tthat.startX = that.x;\n\t\tthat.startY = that.y;\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\tthat.startTime = e.timeStamp || Date.now();\n\n\t\tif (that.options.onScrollStart) that.options.onScrollStart.call(that, e);\n\n\t\tthat._bind(MOVE_EV, window);\n\t\tthat._bind(END_EV, window);\n\t\tthat._bind(CANCEL_EV, window);\n\t},\n\t\n\t_move: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tdeltaX = point.pageX - that.pointX,\n\t\t\tdeltaY = point.pageY - that.pointY,\n\t\t\tnewX = that.x + deltaX,\n\t\t\tnewY = that.y + deltaY,\n\t\t\tc1, c2, scale,\n\t\t\ttimestamp = e.timeStamp || Date.now();\n\n\t\tif (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e);\n\n\t\t// Zoom\n\t\tif (that.options.zoom && hasTouch && e.touches.length > 1) {\n\t\t\tc1 = m.abs(e.touches[0].pageX - e.touches[1].pageX);\n\t\t\tc2 = m.abs(e.touches[0].pageY - e.touches[1].pageY);\n\t\t\tthat.touchesDist = m.sqrt(c1*c1+c2*c2);\n\n\t\t\tthat.zoomed = true;\n\n\t\t\tscale = 1 / that.touchesDistStart * that.touchesDist * this.scale;\n\n\t\t\tif (scale < that.options.zoomMin) scale = 0.5 * that.options.zoomMin * Math.pow(2.0, scale / that.options.zoomMin);\n\t\t\telse if (scale > that.options.zoomMax) scale = 2.0 * that.options.zoomMax * Math.pow(0.5, that.options.zoomMax / scale);\n\n\t\t\tthat.lastScale = scale / this.scale;\n\n\t\t\tnewX = this.originX - this.originX * that.lastScale + this.x;\n\t\t\tnewY = this.originY - this.originY * that.lastScale + this.y;\n\n\t\t\tthis.scroller.style[transform] = 'translate(' + newX + 'px,' + newY + 'px) scale(' + scale + ')' + translateZ;\n\n\t\t\tif (that.options.onZoom) that.options.onZoom.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\t// Slow down if outside of the boundaries\n\t\tif (newX > 0 || newX < that.maxScrollX) {\n\t\t\tnewX = that.options.bounce ? that.x + (deltaX / 2) : newX >= 0 || that.maxScrollX >= 0 ? 0 : that.maxScrollX;\n\t\t}\n\t\tif (newY > that.minScrollY || newY < that.maxScrollY) {\n\t\t\tnewY = that.options.bounce ? that.y + (deltaY / 2) : newY >= that.minScrollY || that.maxScrollY >= 0 ? that.minScrollY : that.maxScrollY;\n\t\t}\n\n\t\tthat.distX += deltaX;\n\t\tthat.distY += deltaY;\n\t\tthat.absDistX = m.abs(that.distX);\n\t\tthat.absDistY = m.abs(that.distY);\n\n\t\tif (that.absDistX < 6 && that.absDistY < 6) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Lock direction\n\t\tif (that.options.lockDirection) {\n\t\t\tif (that.absDistX > that.absDistY + 5) {\n\t\t\t\tnewY = that.y;\n\t\t\t\tdeltaY = 0;\n\t\t\t} else if (that.absDistY > that.absDistX + 5) {\n\t\t\t\tnewX = that.x;\n\t\t\t\tdeltaX = 0;\n\t\t\t}\n\t\t}\n\n\t\tthat.moved = true;\n\t\tthat._pos(newX, newY);\n\t\tthat.dirX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n\t\tthat.dirY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n\t\tif (timestamp - that.startTime > 300) {\n\t\t\tthat.startTime = timestamp;\n\t\t\tthat.startX = that.x;\n\t\t\tthat.startY = that.y;\n\t\t}\n\t\t\n\t\tif (that.options.onScrollMove) that.options.onScrollMove.call(that, e);\n\t},\n\t\n\t_end: function (e) {\n\t\tif (hasTouch && e.touches.length !== 0) return;\n\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.changedTouches[0] : e,\n\t\t\ttarget, ev,\n\t\t\tmomentumX = { dist:0, time:0 },\n\t\t\tmomentumY = { dist:0, time:0 },\n\t\t\tduration = (e.timeStamp || Date.now()) - that.startTime,\n\t\t\tnewPosX = that.x,\n\t\t\tnewPosY = that.y,\n\t\t\tdistX, distY,\n\t\t\tnewDuration,\n\t\t\tsnap,\n\t\t\tscale;\n\n\t\tthat._unbind(MOVE_EV, window);\n\t\tthat._unbind(END_EV, window);\n\t\tthat._unbind(CANCEL_EV, window);\n\n\t\tif (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e);\n\n\t\tif (that.zoomed) {\n\t\t\tscale = that.scale * that.lastScale;\n\t\t\tscale = Math.max(that.options.zoomMin, scale);\n\t\t\tscale = Math.min(that.options.zoomMax, scale);\n\t\t\tthat.lastScale = scale / that.scale;\n\t\t\tthat.scale = scale;\n\n\t\t\tthat.x = that.originX - that.originX * that.lastScale + that.x;\n\t\t\tthat.y = that.originY - that.originY * that.lastScale + that.y;\n\t\t\t\n\t\t\tthat.scroller.style[transitionDuration] = '200ms';\n\t\t\tthat.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + that.scale + ')' + translateZ;\n\t\t\t\n\t\t\tthat.zoomed = false;\n\t\t\tthat.refresh();\n\n\t\t\tif (that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!that.moved) {\n\t\t\tif (hasTouch) {\n\t\t\t\tif (that.doubleTapTimer && that.options.zoom) {\n\t\t\t\t\t// Double tapped\n\t\t\t\t\tclearTimeout(that.doubleTapTimer);\n\t\t\t\t\tthat.doubleTapTimer = null;\n\t\t\t\t\tif (that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t\t\t\tthat.zoom(that.pointX, that.pointY, that.scale == 1 ? that.options.doubleTapZoom : 1);\n\t\t\t\t\tif (that.options.onZoomEnd) {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tthat.options.onZoomEnd.call(that, e);\n\t\t\t\t\t\t}, 200); // 200 is default zoom duration\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.handleClick) {\n\t\t\t\t\tthat.doubleTapTimer = setTimeout(function () {\n\t\t\t\t\t\tthat.doubleTapTimer = null;\n\n\t\t\t\t\t\t// Find the last touched element\n\t\t\t\t\t\ttarget = point.target;\n\t\t\t\t\t\twhile (target.nodeType != 1) target = target.parentNode;\n\n\t\t\t\t\t\tif (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA') {\n\t\t\t\t\t\t\tev = doc.createEvent('MouseEvents');\n\t\t\t\t\t\t\tev.initMouseEvent('click', true, true, e.view, 1,\n\t\t\t\t\t\t\t\tpoint.screenX, point.screenY, point.clientX, point.clientY,\n\t\t\t\t\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n\t\t\t\t\t\t\t\t0, null);\n\t\t\t\t\t\t\tev._fake = true;\n\t\t\t\t\t\t\ttarget.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, that.options.zoom ? 250 : 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat._resetPos(400);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (duration < 300 && that.options.momentum) {\n\t\t\tmomentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX;\n\t\t\tmomentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY < 0 ? that.scrollerH - that.wrapperH + that.y - that.minScrollY : 0), that.options.bounce ? that.wrapperH : 0) : momentumY;\n\n\t\t\tnewPosX = that.x + momentumX.dist;\n\t\t\tnewPosY = that.y + momentumY.dist;\n\n\t\t\tif ((that.x > 0 && newPosX > 0) || (that.x < that.maxScrollX && newPosX < that.maxScrollX)) momentumX = { dist:0, time:0 };\n\t\t\tif ((that.y > that.minScrollY && newPosY > that.minScrollY) || (that.y < that.maxScrollY && newPosY < that.maxScrollY)) momentumY = { dist:0, time:0 };\n\t\t}\n\n\t\tif (momentumX.dist || momentumY.dist) {\n\t\t\tnewDuration = m.max(m.max(momentumX.time, momentumY.time), 10);\n\n\t\t\t// Do we need to snap?\n\t\t\tif (that.options.snap) {\n\t\t\t\tdistX = newPosX - that.absStartX;\n\t\t\t\tdistY = newPosY - that.absStartY;\n\t\t\t\tif (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) { that.scrollTo(that.absStartX, that.absStartY, 200); }\n\t\t\t\telse {\n\t\t\t\t\tsnap = that._snap(newPosX, newPosY);\n\t\t\t\t\tnewPosX = snap.x;\n\t\t\t\t\tnewPosY = snap.y;\n\t\t\t\t\tnewDuration = m.max(snap.time, newDuration);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat.scrollTo(m.round(newPosX), m.round(newPosY), newDuration);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\t// Do we need to snap?\n\t\tif (that.options.snap) {\n\t\t\tdistX = newPosX - that.absStartX;\n\t\t\tdistY = newPosY - that.absStartY;\n\t\t\tif (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) that.scrollTo(that.absStartX, that.absStartY, 200);\n\t\t\telse {\n\t\t\t\tsnap = that._snap(that.x, that.y);\n\t\t\t\tif (snap.x != that.x || snap.y != that.y) that.scrollTo(snap.x, snap.y, snap.time);\n\t\t\t}\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tthat._resetPos(200);\n\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t},\n\t\n\t_resetPos: function (time) {\n\t\tvar that = this,\n\t\t\tresetX = that.x >= 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x,\n\t\t\tresetY = that.y >= that.minScrollY || that.maxScrollY > 0 ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;\n\n\t\tif (resetX == that.x && resetY == that.y) {\n\t\t\tif (that.moved) {\n\t\t\t\tthat.moved = false;\n\t\t\t\tif (that.options.onScrollEnd) that.options.onScrollEnd.call(that);\t\t// Execute custom code on scroll end\n\t\t\t}\n\n\t\t\tif (that.hScrollbar && that.options.hideScrollbar) {\n\t\t\t\tif (vendor == 'webkit') that.hScrollbarWrapper.style[transitionDelay] = '300ms';\n\t\t\t\tthat.hScrollbarWrapper.style.opacity = '0';\n\t\t\t}\n\t\t\tif (that.vScrollbar && that.options.hideScrollbar) {\n\t\t\t\tif (vendor == 'webkit') that.vScrollbarWrapper.style[transitionDelay] = '300ms';\n\t\t\t\tthat.vScrollbarWrapper.style.opacity = '0';\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tthat.scrollTo(resetX, resetY, time || 0);\n\t},\n\n\t_wheel: function (e) {\n\t\tvar that = this,\n\t\t\twheelDeltaX, wheelDeltaY,\n\t\t\tdeltaX, deltaY,\n\t\t\tdeltaScale;\n\n\t\tif ('wheelDeltaX' in e) {\n\t\t\twheelDeltaX = e.wheelDeltaX / 12;\n\t\t\twheelDeltaY = e.wheelDeltaY / 12;\n\t\t} else if('wheelDelta' in e) {\n\t\t\twheelDeltaX = wheelDeltaY = e.wheelDelta / 12;\n\t\t} else if ('detail' in e) {\n\t\t\twheelDeltaX = wheelDeltaY = -e.detail * 3;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (that.options.wheelAction == 'zoom') {\n\t\t\tdeltaScale = that.scale * Math.pow(2, 1/3 * (wheelDeltaY ? wheelDeltaY / Math.abs(wheelDeltaY) : 0));\n\t\t\tif (deltaScale < that.options.zoomMin) deltaScale = that.options.zoomMin;\n\t\t\tif (deltaScale > that.options.zoomMax) deltaScale = that.options.zoomMax;\n\t\t\t\n\t\t\tif (deltaScale != that.scale) {\n\t\t\t\tif (!that.wheelZoomCount && that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t\t\tthat.wheelZoomCount++;\n\t\t\t\t\n\t\t\t\tthat.zoom(e.pageX, e.pageY, deltaScale, 400);\n\t\t\t\t\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthat.wheelZoomCount--;\n\t\t\t\t\tif (!that.wheelZoomCount && that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);\n\t\t\t\t}, 400);\n\t\t\t}\n\t\t\t\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tdeltaX = that.x + wheelDeltaX;\n\t\tdeltaY = that.y + wheelDeltaY;\n\n\t\tif (deltaX > 0) deltaX = 0;\n\t\telse if (deltaX < that.maxScrollX) deltaX = that.maxScrollX;\n\n\t\tif (deltaY > that.minScrollY) deltaY = that.minScrollY;\n\t\telse if (deltaY < that.maxScrollY) deltaY = that.maxScrollY;\n    \n\t\tif (that.maxScrollY < 0) {\n\t\t\tthat.scrollTo(deltaX, deltaY, 0);\n\t\t}\n\t},\n\t\n\t_transitionEnd: function (e) {\n\t\tvar that = this;\n\n\t\tif (e.target != that.scroller) return;\n\n\t\tthat._unbind(TRNEND_EV);\n\t\t\n\t\tthat._startAni();\n\t},\n\n\n\t/**\n\t*\n\t* Utilities\n\t*\n\t*/\n\t_startAni: function () {\n\t\tvar that = this,\n\t\t\tstartX = that.x, startY = that.y,\n\t\t\tstartTime = Date.now(),\n\t\t\tstep, easeOut,\n\t\t\tanimate;\n\n\t\tif (that.animating) return;\n\t\t\n\t\tif (!that.steps.length) {\n\t\t\tthat._resetPos(400);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tstep = that.steps.shift();\n\t\t\n\t\tif (step.x == startX && step.y == startY) step.time = 0;\n\n\t\tthat.animating = true;\n\t\tthat.moved = true;\n\t\t\n\t\tif (that.options.useTransition) {\n\t\t\tthat._transitionTime(step.time);\n\t\t\tthat._pos(step.x, step.y);\n\t\t\tthat.animating = false;\n\t\t\tif (step.time) that._bind(TRNEND_EV);\n\t\t\telse that._resetPos(0);\n\t\t\treturn;\n\t\t}\n\n\t\tanimate = function () {\n\t\t\tvar now = Date.now(),\n\t\t\t\tnewX, newY;\n\n\t\t\tif (now >= startTime + step.time) {\n\t\t\t\tthat._pos(step.x, step.y);\n\t\t\t\tthat.animating = false;\n\t\t\t\tif (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);\t\t\t// Execute custom code on animation end\n\t\t\t\tthat._startAni();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnow = (now - startTime) / step.time - 1;\n\t\t\teaseOut = m.sqrt(1 - now * now);\n\t\t\tnewX = (step.x - startX) * easeOut + startX;\n\t\t\tnewY = (step.y - startY) * easeOut + startY;\n\t\t\tthat._pos(newX, newY);\n\t\t\tif (that.animating) that.aniTime = nextFrame(animate);\n\t\t};\n\n\t\tanimate();\n\t},\n\n\t_transitionTime: function (time) {\n\t\ttime += 'ms';\n\t\tthis.scroller.style[transitionDuration] = time;\n\t\tif (this.hScrollbar) this.hScrollbarIndicator.style[transitionDuration] = time;\n\t\tif (this.vScrollbar) this.vScrollbarIndicator.style[transitionDuration] = time;\n\t},\n\n\t_momentum: function (dist, time, maxDistUpper, maxDistLower, size) {\n\t\tvar deceleration = 0.0006,\n\t\t\tspeed = m.abs(dist) / time,\n\t\t\tnewDist = (speed * speed) / (2 * deceleration),\n\t\t\tnewTime = 0, outsideDist = 0;\n\n\t\t// Proportinally reduce speed if we are outside of the boundaries\n\t\tif (dist > 0 && newDist > maxDistUpper) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistUpper = maxDistUpper + outsideDist;\n\t\t\tspeed = speed * maxDistUpper / newDist;\n\t\t\tnewDist = maxDistUpper;\n\t\t} else if (dist < 0 && newDist > maxDistLower) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistLower = maxDistLower + outsideDist;\n\t\t\tspeed = speed * maxDistLower / newDist;\n\t\t\tnewDist = maxDistLower;\n\t\t}\n\n\t\tnewDist = newDist * (dist < 0 ? -1 : 1);\n\t\tnewTime = speed / deceleration;\n\n\t\treturn { dist: newDist, time: m.round(newTime) };\n\t},\n\n\t_offset: function (el) {\n\t\tvar left = -el.offsetLeft,\n\t\t\ttop = -el.offsetTop;\n\t\t\t\n\t\twhile (el = el.offsetParent) {\n\t\t\tleft -= el.offsetLeft;\n\t\t\ttop -= el.offsetTop;\n\t\t}\n\t\t\n\t\tif (el != this.wrapper) {\n\t\t\tleft *= this.scale;\n\t\t\ttop *= this.scale;\n\t\t}\n\n\t\treturn { left: left, top: top };\n\t},\n\n\t_snap: function (x, y) {\n\t\tvar that = this,\n\t\t\ti, l,\n\t\t\tpage, time,\n\t\t\tsizeX, sizeY;\n\n\t\t// Check page X\n\t\tpage = that.pagesX.length - 1;\n\t\tfor (i=0, l=that.pagesX.length; i<l; i++) {\n\t\t\tif (x >= that.pagesX[i]) {\n\t\t\t\tpage = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (page == that.currPageX && page > 0 && that.dirX < 0) page--;\n\t\tx = that.pagesX[page];\n\t\tsizeX = m.abs(x - that.pagesX[that.currPageX]);\n\t\tsizeX = sizeX ? m.abs(that.x - x) / sizeX * 500 : 0;\n\t\tthat.currPageX = page;\n\n\t\t// Check page Y\n\t\tpage = that.pagesY.length-1;\n\t\tfor (i=0; i<page; i++) {\n\t\t\tif (y >= that.pagesY[i]) {\n\t\t\t\tpage = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (page == that.currPageY && page > 0 && that.dirY < 0) page--;\n\t\ty = that.pagesY[page];\n\t\tsizeY = m.abs(y - that.pagesY[that.currPageY]);\n\t\tsizeY = sizeY ? m.abs(that.y - y) / sizeY * 500 : 0;\n\t\tthat.currPageY = page;\n\n\t\t// Snap with constant speed (proportional duration)\n\t\ttime = m.round(m.max(sizeX, sizeY)) || 200;\n\n\t\treturn { x: x, y: y, time: time };\n\t},\n\n\t_bind: function (type, el, bubble) {\n\t\t(el || this.scroller).addEventListener(type, this, !!bubble);\n\t},\n\n\t_unbind: function (type, el, bubble) {\n\t\t(el || this.scroller).removeEventListener(type, this, !!bubble);\n\t},\n\n\n\t/**\n\t*\n\t* Public methods\n\t*\n\t*/\n\tdestroy: function () {\n\t\tvar that = this;\n\n\t\tthat.scroller.style[transform] = '';\n\n\t\t// Remove the scrollbars\n\t\tthat.hScrollbar = false;\n\t\tthat.vScrollbar = false;\n\t\tthat._scrollbar('h');\n\t\tthat._scrollbar('v');\n\n\t\t// Remove the event listeners\n\t\tthat._unbind(RESIZE_EV, window);\n\t\tthat._unbind(START_EV);\n\t\tthat._unbind(MOVE_EV, window);\n\t\tthat._unbind(END_EV, window);\n\t\tthat._unbind(CANCEL_EV, window);\n\t\t\n\t\tif (!that.options.hasTouch) {\n\t\t\tthat._unbind('DOMMouseScroll');\n\t\t\tthat._unbind('mousewheel');\n\t\t}\n\t\t\n\t\tif (that.options.useTransition) that._unbind(TRNEND_EV);\n\t\t\n\t\tif (that.options.checkDOMChanges) clearInterval(that.checkDOMTime);\n\t\t\n\t\tif (that.options.onDestroy) that.options.onDestroy.call(that);\n\t},\n\n\trefresh: function () {\n\t\tvar that = this,\n\t\t\toffset,\n\t\t\ti, l,\n\t\t\tels,\n\t\t\tpos = 0,\n\t\t\tpage = 0;\n\n\t\tif (that.scale < that.options.zoomMin) that.scale = that.options.zoomMin;\n\t\tthat.wrapperW = that.wrapper.clientWidth || 1;\n\t\tthat.wrapperH = that.wrapper.clientHeight || 1;\n\n\t\tthat.minScrollY = -that.options.topOffset || 0;\n\t\tthat.scrollerW = m.round(that.scroller.offsetWidth * that.scale);\n\t\tthat.scrollerH = m.round((that.scroller.offsetHeight + that.minScrollY) * that.scale);\n\t\tthat.maxScrollX = that.wrapperW - that.scrollerW;\n\t\tthat.maxScrollY = that.wrapperH - that.scrollerH + that.minScrollY;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\tif (that.options.onRefresh) that.options.onRefresh.call(that);\n\n\t\tthat.hScroll = that.options.hScroll && that.maxScrollX < 0;\n\t\tthat.vScroll = that.options.vScroll && (!that.options.bounceLock && !that.hScroll || that.scrollerH > that.wrapperH);\n\n\t\tthat.hScrollbar = that.hScroll && that.options.hScrollbar;\n\t\tthat.vScrollbar = that.vScroll && that.options.vScrollbar && that.scrollerH > that.wrapperH;\n\n\t\toffset = that._offset(that.wrapper);\n\t\tthat.wrapperOffsetLeft = -offset.left;\n\t\tthat.wrapperOffsetTop = -offset.top;\n\n\t\t// Prepare snap\n\t\tif (typeof that.options.snap == 'string') {\n\t\t\tthat.pagesX = [];\n\t\t\tthat.pagesY = [];\n\t\t\tels = that.scroller.querySelectorAll(that.options.snap);\n\t\t\tfor (i=0, l=els.length; i<l; i++) {\n\t\t\t\tpos = that._offset(els[i]);\n\t\t\t\tpos.left += that.wrapperOffsetLeft;\n\t\t\t\tpos.top += that.wrapperOffsetTop;\n\t\t\t\tthat.pagesX[i] = pos.left < that.maxScrollX ? that.maxScrollX : pos.left * that.scale;\n\t\t\t\tthat.pagesY[i] = pos.top < that.maxScrollY ? that.maxScrollY : pos.top * that.scale;\n\t\t\t}\n\t\t} else if (that.options.snap) {\n\t\t\tthat.pagesX = [];\n\t\t\twhile (pos >= that.maxScrollX) {\n\t\t\t\tthat.pagesX[page] = pos;\n\t\t\t\tpos = pos - that.wrapperW;\n\t\t\t\tpage++;\n\t\t\t}\n\t\t\tif (that.maxScrollX%that.wrapperW) that.pagesX[that.pagesX.length] = that.maxScrollX - that.pagesX[that.pagesX.length-1] + that.pagesX[that.pagesX.length-1];\n\n\t\t\tpos = 0;\n\t\t\tpage = 0;\n\t\t\tthat.pagesY = [];\n\t\t\twhile (pos >= that.maxScrollY) {\n\t\t\t\tthat.pagesY[page] = pos;\n\t\t\t\tpos = pos - that.wrapperH;\n\t\t\t\tpage++;\n\t\t\t}\n\t\t\tif (that.maxScrollY%that.wrapperH) that.pagesY[that.pagesY.length] = that.maxScrollY - that.pagesY[that.pagesY.length-1] + that.pagesY[that.pagesY.length-1];\n\t\t}\n\n\t\t// Prepare the scrollbars\n\t\tthat._scrollbar('h');\n\t\tthat._scrollbar('v');\n\n\t\tif (!that.zoomed) {\n\t\t\tthat.scroller.style[transitionDuration] = '0';\n\t\t\tthat._resetPos(400);\n\t\t}\n\t},\n\n\tscrollTo: function (x, y, time, relative) {\n\t\tvar that = this,\n\t\t\tstep = x,\n\t\t\ti, l;\n\n\t\tthat.stop();\n\n\t\tif (!step.length) step = [{ x: x, y: y, time: time, relative: relative }];\n\t\t\n\t\tfor (i=0, l=step.length; i<l; i++) {\n\t\t\tif (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y; }\n\t\t\tthat.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 });\n\t\t}\n\n\t\tthat._startAni();\n\t},\n\n\tscrollToElement: function (el, time) {\n\t\tvar that = this, pos;\n\t\tel = el.nodeType ? el : that.scroller.querySelector(el);\n\t\tif (!el) return;\n\n\t\tpos = that._offset(el);\n\t\tpos.left += that.wrapperOffsetLeft;\n\t\tpos.top += that.wrapperOffsetTop;\n\n\t\tpos.left = pos.left > 0 ? 0 : pos.left < that.maxScrollX ? that.maxScrollX : pos.left;\n\t\tpos.top = pos.top > that.minScrollY ? that.minScrollY : pos.top < that.maxScrollY ? that.maxScrollY : pos.top;\n\t\ttime = time === undefined ? m.max(m.abs(pos.left)*2, m.abs(pos.top)*2) : time;\n\n\t\tthat.scrollTo(pos.left, pos.top, time);\n\t},\n\n\tscrollToPage: function (pageX, pageY, time) {\n\t\tvar that = this, x, y;\n\t\t\n\t\ttime = time === undefined ? 400 : time;\n\n\t\tif (that.options.onScrollStart) that.options.onScrollStart.call(that);\n\n\t\tif (that.options.snap) {\n\t\t\tpageX = pageX == 'next' ? that.currPageX+1 : pageX == 'prev' ? that.currPageX-1 : pageX;\n\t\t\tpageY = pageY == 'next' ? that.currPageY+1 : pageY == 'prev' ? that.currPageY-1 : pageY;\n\n\t\t\tpageX = pageX < 0 ? 0 : pageX > that.pagesX.length-1 ? that.pagesX.length-1 : pageX;\n\t\t\tpageY = pageY < 0 ? 0 : pageY > that.pagesY.length-1 ? that.pagesY.length-1 : pageY;\n\n\t\t\tthat.currPageX = pageX;\n\t\t\tthat.currPageY = pageY;\n\t\t\tx = that.pagesX[pageX];\n\t\t\ty = that.pagesY[pageY];\n\t\t} else {\n\t\t\tx = -that.wrapperW * pageX;\n\t\t\ty = -that.wrapperH * pageY;\n\t\t\tif (x < that.maxScrollX) x = that.maxScrollX;\n\t\t\tif (y < that.maxScrollY) y = that.maxScrollY;\n\t\t}\n\n\t\tthat.scrollTo(x, y, time);\n\t},\n\n\tdisable: function () {\n\t\tthis.stop();\n\t\tthis._resetPos(0);\n\t\tthis.enabled = false;\n\n\t\t// If disabled after touchstart we make sure that there are no left over events\n\t\tthis._unbind(MOVE_EV, window);\n\t\tthis._unbind(END_EV, window);\n\t\tthis._unbind(CANCEL_EV, window);\n\t},\n\t\n\tenable: function () {\n\t\tthis.enabled = true;\n\t},\n\t\n\tstop: function () {\n\t\tif (this.options.useTransition) this._unbind(TRNEND_EV);\n\t\telse cancelFrame(this.aniTime);\n\t\tthis.steps = [];\n\t\tthis.moved = false;\n\t\tthis.animating = false;\n\t},\n\t\n\tzoom: function (x, y, scale, time) {\n\t\tvar that = this,\n\t\t\trelScale = scale / that.scale;\n\n\t\tif (!that.options.useTransform) return;\n\n\t\tthat.zoomed = true;\n\t\ttime = time === undefined ? 200 : time;\n\t\tx = x - that.wrapperOffsetLeft - that.x;\n\t\ty = y - that.wrapperOffsetTop - that.y;\n\t\tthat.x = x - x * relScale + that.x;\n\t\tthat.y = y - y * relScale + that.y;\n\n\t\tthat.scale = scale;\n\t\tthat.refresh();\n\n\t\tthat.x = that.x > 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x;\n\t\tthat.y = that.y > that.minScrollY ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;\n\n\t\tthat.scroller.style[transitionDuration] = time + 'ms';\n\t\tthat.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + scale + ')' + translateZ;\n\t\tthat.zoomed = false;\n\t},\n\t\n\tisReady: function () {\n\t\treturn !this.moved && !this.zoomed && !this.animating;\n\t}\n};\n\nfunction prefixStyle (style) {\n\tif ( vendor === '' ) return style;\n\n\tstyle = style.charAt(0).toUpperCase() + style.substr(1);\n\treturn vendor + style;\n}\n\ndummyStyle = null;\t// for the sake of it\n\nif (true) exports.iScroll = iScroll;\nelse window.iScroll = iScroll;\n\n})(window, document);\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaXNjcm9sbC5qcz8xYjM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0NBQWdDO0FBQ3ZELEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLG9CQUFvQixFQUFFO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLGtCQUFrQixxQkFBcUI7O0FBRS9FOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyw0REFBNEQ7QUFDNUQsMENBQTBDO0FBQzFDO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxZQUFZLDhCQUE4QixXQUFXLFNBQVMsNERBQTRELCtDQUErQyxRQUFROztBQUVoTywwQkFBMEIsb0JBQW9CLDZDQUE2QywwRkFBMEYsZ0JBQWdCOztBQUVyTTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZLDJCQUEyQix1Q0FBdUMsNkNBQTZDLHVDQUF1QyxvREFBb0QsbUNBQW1DO0FBQ3BTO0FBQ0EsMEJBQTBCLG9CQUFvQixnRUFBZ0UsMkVBQTJFLHVDQUF1QztBQUNoTywwREFBMEQ7O0FBRTFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSwwQkFBMEIsZ0JBQWdCLEVBQUU7QUFDNUMsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQyxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE9BQU87QUFDZDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNEdBQTRHO0FBQzVHLHdJQUF3STtBQUN4STs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLG9EQUFvRDtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVU7QUFDVixFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1YsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQ0FBaUMsS0FBSztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLEtBQUs7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQTZCLDZDQUE2Qzs7QUFFMUUsMEJBQTBCLEtBQUs7QUFDL0IsMEJBQTBCLGdDQUFnQyxnQ0FBZ0M7QUFDMUYsb0JBQW9CLHNEQUFzRDtBQUMxRTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjs7QUFFbEI7QUFDQTs7QUFFQSxDQUFDIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xudmFyIGRlZmluZSA9IGZhbHNlO1xuXG4vKiFcbiAqIGlTY3JvbGwgdjQuMi41IH4gQ29weXJpZ2h0IChjKSAyMDEyIE1hdHRlbyBTcGluZWxsaSwgaHR0cDovL2N1YmlxLm9yZ1xuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UsIGh0dHA6Ly9jdWJpcS5vcmcvbGljZW5zZVxuICovXG4oZnVuY3Rpb24od2luZG93LCBkb2Mpe1xudmFyIG0gPSBNYXRoLFxuXHRkdW1teVN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlLFxuXHR2ZW5kb3IgPSAoZnVuY3Rpb24gKCkge1xuXHRcdHZhciB2ZW5kb3JzID0gJ3Qsd2Via2l0VCxNb3pULG1zVCxPVCcuc3BsaXQoJywnKSxcblx0XHRcdHQsXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSB2ZW5kb3JzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdHQgPSB2ZW5kb3JzW2ldICsgJ3JhbnNmb3JtJztcblx0XHRcdGlmICggdCBpbiBkdW1teVN0eWxlICkge1xuXHRcdFx0XHRyZXR1cm4gdmVuZG9yc1tpXS5zdWJzdHIoMCwgdmVuZG9yc1tpXS5sZW5ndGggLSAxKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0pKCksXG5cdGNzc1ZlbmRvciA9IHZlbmRvciA/ICctJyArIHZlbmRvci50b0xvd2VyQ2FzZSgpICsgJy0nIDogJycsXG5cblx0Ly8gU3R5bGUgcHJvcGVydGllc1xuXHR0cmFuc2Zvcm0gPSBwcmVmaXhTdHlsZSgndHJhbnNmb3JtJyksXG5cdHRyYW5zaXRpb25Qcm9wZXJ0eSA9IHByZWZpeFN0eWxlKCd0cmFuc2l0aW9uUHJvcGVydHknKSxcblx0dHJhbnNpdGlvbkR1cmF0aW9uID0gcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25EdXJhdGlvbicpLFxuXHR0cmFuc2Zvcm1PcmlnaW4gPSBwcmVmaXhTdHlsZSgndHJhbnNmb3JtT3JpZ2luJyksXG5cdHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHByZWZpeFN0eWxlKCd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nKSxcblx0dHJhbnNpdGlvbkRlbGF5ID0gcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25EZWxheScpLFxuXG4gICAgLy8gQnJvd3NlciBjYXBhYmlsaXRpZXNcblx0aXNBbmRyb2lkID0gKC9hbmRyb2lkL2dpKS50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSxcblx0aXNJRGV2aWNlID0gKC9pcGhvbmV8aXBhZC9naSkudGVzdChuYXZpZ2F0b3IuYXBwVmVyc2lvbiksXG5cdGlzVG91Y2hQYWQgPSAoL2hwLXRhYmxldC9naSkudGVzdChuYXZpZ2F0b3IuYXBwVmVyc2lvbiksXG5cbiAgICBoYXMzZCA9IHByZWZpeFN0eWxlKCdwZXJzcGVjdGl2ZScpIGluIGR1bW15U3R5bGUsXG4gICAgaGFzVG91Y2ggPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgJiYgIWlzVG91Y2hQYWQsXG4gICAgaGFzVHJhbnNmb3JtID0gdmVuZG9yICE9PSBmYWxzZSxcbiAgICBoYXNUcmFuc2l0aW9uRW5kID0gcHJlZml4U3R5bGUoJ3RyYW5zaXRpb24nKSBpbiBkdW1teVN0eWxlLFxuXG5cdFJFU0laRV9FViA9ICdvbm9yaWVudGF0aW9uY2hhbmdlJyBpbiB3aW5kb3cgPyAnb3JpZW50YXRpb25jaGFuZ2UnIDogJ3Jlc2l6ZScsXG5cdFNUQVJUX0VWID0gaGFzVG91Y2ggPyAndG91Y2hzdGFydCcgOiAnbW91c2Vkb3duJyxcblx0TU9WRV9FViA9IGhhc1RvdWNoID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJyxcblx0RU5EX0VWID0gaGFzVG91Y2ggPyAndG91Y2hlbmQnIDogJ21vdXNldXAnLFxuXHRDQU5DRUxfRVYgPSBoYXNUb3VjaCA/ICd0b3VjaGNhbmNlbCcgOiAnbW91c2V1cCcsXG5cdFRSTkVORF9FViA9IChmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCB2ZW5kb3IgPT09IGZhbHNlICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0dmFyIHRyYW5zaXRpb25FbmQgPSB7XG5cdFx0XHRcdCcnXHRcdFx0OiAndHJhbnNpdGlvbmVuZCcsXG5cdFx0XHRcdCd3ZWJraXQnXHQ6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcblx0XHRcdFx0J01veidcdFx0OiAndHJhbnNpdGlvbmVuZCcsXG5cdFx0XHRcdCdPJ1x0XHRcdDogJ290cmFuc2l0aW9uZW5kJyxcblx0XHRcdFx0J21zJ1x0XHQ6ICdNU1RyYW5zaXRpb25FbmQnXG5cdFx0XHR9O1xuXG5cdFx0cmV0dXJuIHRyYW5zaXRpb25FbmRbdmVuZG9yXTtcblx0fSkoKSxcblxuXHRuZXh0RnJhbWUgPSAoZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0XHR3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdGZ1bmN0aW9uKGNhbGxiYWNrKSB7IHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxKTsgfTtcblx0fSkoKSxcblx0Y2FuY2VsRnJhbWUgPSAoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB3aW5kb3cuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0XHR3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tb3pDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5vQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0XHR3aW5kb3cubXNDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdGNsZWFyVGltZW91dDtcblx0fSkoKSxcblxuXHQvLyBIZWxwZXJzXG5cdHRyYW5zbGF0ZVogPSBoYXMzZCA/ICcgdHJhbnNsYXRlWigwKScgOiAnJyxcblxuXHQvLyBDb25zdHJ1Y3RvclxuXHRpU2Nyb2xsID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0aTtcblxuXHRcdHRoYXQud3JhcHBlciA9IHR5cGVvZiBlbCA9PSAnb2JqZWN0JyA/IGVsIDogZG9jLmdldEVsZW1lbnRCeUlkKGVsKTtcblx0XHR0aGF0LndyYXBwZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblx0XHR0aGF0LnNjcm9sbGVyID0gdGhhdC53cmFwcGVyLmNoaWxkcmVuWzBdO1xuXG5cdFx0Ly8gRGVmYXVsdCBvcHRpb25zXG5cdFx0dGhhdC5vcHRpb25zID0ge1xuXHRcdFx0aFNjcm9sbDogdHJ1ZSxcblx0XHRcdHZTY3JvbGw6IHRydWUsXG5cdFx0XHR4OiAwLFxuXHRcdFx0eTogMCxcblx0XHRcdGJvdW5jZTogdHJ1ZSxcblx0XHRcdGJvdW5jZUxvY2s6IGZhbHNlLFxuXHRcdFx0bW9tZW50dW06IHRydWUsXG5cdFx0XHRsb2NrRGlyZWN0aW9uOiB0cnVlLFxuXHRcdFx0dXNlVHJhbnNmb3JtOiB0cnVlLFxuXHRcdFx0dXNlVHJhbnNpdGlvbjogZmFsc2UsXG5cdFx0XHR0b3BPZmZzZXQ6IDAsXG5cdFx0XHRjaGVja0RPTUNoYW5nZXM6IGZhbHNlLFx0XHQvLyBFeHBlcmltZW50YWxcblx0XHRcdGhhbmRsZUNsaWNrOiB0cnVlLFxuXG5cdFx0XHQvLyBTY3JvbGxiYXJcblx0XHRcdGhTY3JvbGxiYXI6IHRydWUsXG5cdFx0XHR2U2Nyb2xsYmFyOiB0cnVlLFxuXHRcdFx0Zml4ZWRTY3JvbGxiYXI6IGlzQW5kcm9pZCxcblx0XHRcdGhpZGVTY3JvbGxiYXI6IGlzSURldmljZSxcblx0XHRcdGZhZGVTY3JvbGxiYXI6IGlzSURldmljZSAmJiBoYXMzZCxcblx0XHRcdHNjcm9sbGJhckNsYXNzOiAnJyxcblxuXHRcdFx0Ly8gWm9vbVxuXHRcdFx0em9vbTogZmFsc2UsXG5cdFx0XHR6b29tTWluOiAxLFxuXHRcdFx0em9vbU1heDogNCxcblx0XHRcdGRvdWJsZVRhcFpvb206IDIsXG5cdFx0XHR3aGVlbEFjdGlvbjogJ3Njcm9sbCcsXG5cblx0XHRcdC8vIFNuYXBcblx0XHRcdHNuYXA6IGZhbHNlLFxuXHRcdFx0c25hcFRocmVzaG9sZDogMSxcblxuXHRcdFx0Ly8gRXZlbnRzXG5cdFx0XHRvblJlZnJlc2g6IG51bGwsXG5cdFx0XHRvbkJlZm9yZVNjcm9sbFN0YXJ0OiBmdW5jdGlvbiAoZSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH0sXG5cdFx0XHRvblNjcm9sbFN0YXJ0OiBudWxsLFxuXHRcdFx0b25CZWZvcmVTY3JvbGxNb3ZlOiBudWxsLFxuXHRcdFx0b25TY3JvbGxNb3ZlOiBudWxsLFxuXHRcdFx0b25CZWZvcmVTY3JvbGxFbmQ6IG51bGwsXG5cdFx0XHRvblNjcm9sbEVuZDogbnVsbCxcblx0XHRcdG9uVG91Y2hFbmQ6IG51bGwsXG5cdFx0XHRvbkRlc3Ryb3k6IG51bGwsXG5cdFx0XHRvblpvb21TdGFydDogbnVsbCxcblx0XHRcdG9uWm9vbTogbnVsbCxcblx0XHRcdG9uWm9vbUVuZDogbnVsbFxuXHRcdH07XG5cblx0XHQvLyBVc2VyIGRlZmluZWQgb3B0aW9uc1xuXHRcdGZvciAoaSBpbiBvcHRpb25zKSB0aGF0Lm9wdGlvbnNbaV0gPSBvcHRpb25zW2ldO1xuXHRcdFxuXHRcdC8vIFNldCBzdGFydGluZyBwb3NpdGlvblxuXHRcdHRoYXQueCA9IHRoYXQub3B0aW9ucy54O1xuXHRcdHRoYXQueSA9IHRoYXQub3B0aW9ucy55O1xuXG5cdFx0Ly8gTm9ybWFsaXplIG9wdGlvbnNcblx0XHR0aGF0Lm9wdGlvbnMudXNlVHJhbnNmb3JtID0gaGFzVHJhbnNmb3JtICYmIHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm07XG5cdFx0dGhhdC5vcHRpb25zLmhTY3JvbGxiYXIgPSB0aGF0Lm9wdGlvbnMuaFNjcm9sbCAmJiB0aGF0Lm9wdGlvbnMuaFNjcm9sbGJhcjtcblx0XHR0aGF0Lm9wdGlvbnMudlNjcm9sbGJhciA9IHRoYXQub3B0aW9ucy52U2Nyb2xsICYmIHRoYXQub3B0aW9ucy52U2Nyb2xsYmFyO1xuXHRcdHRoYXQub3B0aW9ucy56b29tID0gdGhhdC5vcHRpb25zLnVzZVRyYW5zZm9ybSAmJiB0aGF0Lm9wdGlvbnMuem9vbTtcblx0XHR0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbiA9IGhhc1RyYW5zaXRpb25FbmQgJiYgdGhhdC5vcHRpb25zLnVzZVRyYW5zaXRpb247XG5cblx0XHQvLyBIZWxwZXJzIEZJWCBBTkRST0lEIEJVRyFcblx0XHQvLyB0cmFuc2xhdGUzZCBhbmQgc2NhbGUgZG9lc24ndCB3b3JrIHRvZ2V0aGVyIVxuXHRcdC8vIElnbm9yaW5nIDNkIE9OTFkgV0hFTiBZT1UgU0VUIHRoYXQub3B0aW9ucy56b29tXG5cdFx0aWYgKCB0aGF0Lm9wdGlvbnMuem9vbSAmJiBpc0FuZHJvaWQgKXtcblx0XHRcdHRyYW5zbGF0ZVogPSAnJztcblx0XHR9XG5cdFx0XG5cdFx0Ly8gU2V0IHNvbWUgZGVmYXVsdCBzdHlsZXNcblx0XHR0aGF0LnNjcm9sbGVyLnN0eWxlW3RyYW5zaXRpb25Qcm9wZXJ0eV0gPSB0aGF0Lm9wdGlvbnMudXNlVHJhbnNmb3JtID8gY3NzVmVuZG9yICsgJ3RyYW5zZm9ybScgOiAndG9wIGxlZnQnO1xuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvbkR1cmF0aW9uXSA9ICcwJztcblx0XHR0aGF0LnNjcm9sbGVyLnN0eWxlW3RyYW5zZm9ybU9yaWdpbl0gPSAnMCAwJztcblx0XHRpZiAodGhhdC5vcHRpb25zLnVzZVRyYW5zaXRpb24pIHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXSA9ICdjdWJpYy1iZXppZXIoMC4zMywwLjY2LDAuNjYsMSknO1xuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNmb3JtKSB0aGF0LnNjcm9sbGVyLnN0eWxlW3RyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyB0aGF0LnggKyAncHgsJyArIHRoYXQueSArICdweCknICsgdHJhbnNsYXRlWjtcblx0XHRlbHNlIHRoYXQuc2Nyb2xsZXIuc3R5bGUuY3NzVGV4dCArPSAnO3Bvc2l0aW9uOmFic29sdXRlO3RvcDonICsgdGhhdC55ICsgJ3B4O2xlZnQ6JyArIHRoYXQueCArICdweCc7XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLnVzZVRyYW5zaXRpb24pIHRoYXQub3B0aW9ucy5maXhlZFNjcm9sbGJhciA9IHRydWU7XG5cblx0XHR0aGF0LnJlZnJlc2goKTtcblxuXHRcdHRoYXQuX2JpbmQoUkVTSVpFX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX2JpbmQoU1RBUlRfRVYpO1xuXHRcdGlmICghaGFzVG91Y2gpIHtcblx0XHRcdGlmICh0aGF0Lm9wdGlvbnMud2hlZWxBY3Rpb24gIT0gJ25vbmUnKSB7XG5cdFx0XHRcdHRoYXQuX2JpbmQoJ0RPTU1vdXNlU2Nyb2xsJyk7XG5cdFx0XHRcdHRoYXQuX2JpbmQoJ21vdXNld2hlZWwnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLmNoZWNrRE9NQ2hhbmdlcykgdGhhdC5jaGVja0RPTVRpbWUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGF0Ll9jaGVja0RPTUNoYW5nZXMoKTtcblx0XHR9LCA1MDApO1xuXHR9O1xuXG4vLyBQcm90b3R5cGVcbmlTY3JvbGwucHJvdG90eXBlID0ge1xuXHRlbmFibGVkOiB0cnVlLFxuXHR4OiAwLFxuXHR5OiAwLFxuXHRzdGVwczogW10sXG5cdHNjYWxlOiAxLFxuXHRjdXJyUGFnZVg6IDAsIGN1cnJQYWdlWTogMCxcblx0cGFnZXNYOiBbXSwgcGFnZXNZOiBbXSxcblx0YW5pVGltZTogbnVsbCxcblx0d2hlZWxab29tQ291bnQ6IDAsXG5cdFxuXHRoYW5kbGVFdmVudDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0c3dpdGNoKGUudHlwZSkge1xuXHRcdFx0Y2FzZSBTVEFSVF9FVjpcblx0XHRcdFx0aWYgKCFoYXNUb3VjaCAmJiBlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuXHRcdFx0XHR0aGF0Ll9zdGFydChlKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIE1PVkVfRVY6IHRoYXQuX21vdmUoZSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBFTkRfRVY6XG5cdFx0XHRjYXNlIENBTkNFTF9FVjogdGhhdC5fZW5kKGUpOyBicmVhaztcblx0XHRcdGNhc2UgUkVTSVpFX0VWOiB0aGF0Ll9yZXNpemUoKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdET01Nb3VzZVNjcm9sbCc6IGNhc2UgJ21vdXNld2hlZWwnOiB0aGF0Ll93aGVlbChlKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFRSTkVORF9FVjogdGhhdC5fdHJhbnNpdGlvbkVuZChlKTsgYnJlYWs7XG5cdFx0fVxuXHR9LFxuXHRcblx0X2NoZWNrRE9NQ2hhbmdlczogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLm1vdmVkIHx8IHRoaXMuem9vbWVkIHx8IHRoaXMuYW5pbWF0aW5nIHx8XG5cdFx0XHQodGhpcy5zY3JvbGxlclcgPT0gdGhpcy5zY3JvbGxlci5vZmZzZXRXaWR0aCAqIHRoaXMuc2NhbGUgJiYgdGhpcy5zY3JvbGxlckggPT0gdGhpcy5zY3JvbGxlci5vZmZzZXRIZWlnaHQgKiB0aGlzLnNjYWxlKSkgcmV0dXJuO1xuXG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH0sXG5cdFxuXHRfc2Nyb2xsYmFyOiBmdW5jdGlvbiAoZGlyKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0YmFyO1xuXG5cdFx0aWYgKCF0aGF0W2RpciArICdTY3JvbGxiYXInXSkge1xuXHRcdFx0aWYgKHRoYXRbZGlyICsgJ1Njcm9sbGJhcldyYXBwZXInXSkge1xuXHRcdFx0XHRpZiAoaGFzVHJhbnNmb3JtKSB0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3InXS5zdHlsZVt0cmFuc2Zvcm1dID0gJyc7XG5cdFx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhcldyYXBwZXInXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoYXRbZGlyICsgJ1Njcm9sbGJhcldyYXBwZXInXSk7XG5cdFx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhcldyYXBwZXInXSA9IG51bGw7XG5cdFx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvciddID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghdGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddKSB7XG5cdFx0XHQvLyBDcmVhdGUgdGhlIHNjcm9sbGJhciB3cmFwcGVyXG5cdFx0XHRiYXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblx0XHRcdGlmICh0aGF0Lm9wdGlvbnMuc2Nyb2xsYmFyQ2xhc3MpIGJhci5jbGFzc05hbWUgPSB0aGF0Lm9wdGlvbnMuc2Nyb2xsYmFyQ2xhc3MgKyBkaXIudG9VcHBlckNhc2UoKTtcblx0XHRcdGVsc2UgYmFyLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDA7JyArIChkaXIgPT0gJ2gnID8gJ2hlaWdodDo3cHg7Ym90dG9tOjFweDtsZWZ0OjJweDtyaWdodDonICsgKHRoYXQudlNjcm9sbGJhciA/ICc3JyA6ICcyJykgKyAncHgnIDogJ3dpZHRoOjdweDtib3R0b206JyArICh0aGF0LmhTY3JvbGxiYXIgPyAnNycgOiAnMicpICsgJ3B4O3RvcDoycHg7cmlnaHQ6MXB4Jyk7XG5cblx0XHRcdGJhci5zdHlsZS5jc3NUZXh0ICs9ICc7cG9pbnRlci1ldmVudHM6bm9uZTsnICsgY3NzVmVuZG9yICsgJ3RyYW5zaXRpb24tcHJvcGVydHk6b3BhY2l0eTsnICsgY3NzVmVuZG9yICsgJ3RyYW5zaXRpb24tZHVyYXRpb246JyArICh0aGF0Lm9wdGlvbnMuZmFkZVNjcm9sbGJhciA/ICczNTBtcycgOiAnMCcpICsgJztvdmVyZmxvdzpoaWRkZW47b3BhY2l0eTonICsgKHRoYXQub3B0aW9ucy5oaWRlU2Nyb2xsYmFyID8gJzAnIDogJzEnKTtcblxuXHRcdFx0dGhhdC53cmFwcGVyLmFwcGVuZENoaWxkKGJhcik7XG5cdFx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJXcmFwcGVyJ10gPSBiYXI7XG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgc2Nyb2xsYmFyIGluZGljYXRvclxuXHRcdFx0YmFyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0aWYgKCF0aGF0Lm9wdGlvbnMuc2Nyb2xsYmFyQ2xhc3MpIHtcblx0XHRcdFx0YmFyLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDA7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNSk7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7JyArIGNzc1ZlbmRvciArICdiYWNrZ3JvdW5kLWNsaXA6cGFkZGluZy1ib3g7JyArIGNzc1ZlbmRvciArICdib3gtc2l6aW5nOmJvcmRlci1ib3g7JyArIChkaXIgPT0gJ2gnID8gJ2hlaWdodDoxMDAlJyA6ICd3aWR0aDoxMDAlJykgKyAnOycgKyBjc3NWZW5kb3IgKyAnYm9yZGVyLXJhZGl1czozcHg7Ym9yZGVyLXJhZGl1czozcHgnO1xuXHRcdFx0fVxuXHRcdFx0YmFyLnN0eWxlLmNzc1RleHQgKz0gJztwb2ludGVyLWV2ZW50czpub25lOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi1wcm9wZXJ0eTonICsgY3NzVmVuZG9yICsgJ3RyYW5zZm9ybTsnICsgY3NzVmVuZG9yICsgJ3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjMzLDAuNjYsMC42NiwxKTsnICsgY3NzVmVuZG9yICsgJ3RyYW5zaXRpb24tZHVyYXRpb246MDsnICsgY3NzVmVuZG9yICsgJ3RyYW5zZm9ybTogdHJhbnNsYXRlKDAsMCknICsgdHJhbnNsYXRlWjtcblx0XHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikgYmFyLnN0eWxlLmNzc1RleHQgKz0gJzsnICsgY3NzVmVuZG9yICsgJ3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjMzLDAuNjYsMC42NiwxKSc7XG5cblx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhcldyYXBwZXInXS5hcHBlbmRDaGlsZChiYXIpO1xuXHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yJ10gPSBiYXI7XG5cdFx0fVxuXG5cdFx0aWYgKGRpciA9PSAnaCcpIHtcblx0XHRcdHRoYXQuaFNjcm9sbGJhclNpemUgPSB0aGF0LmhTY3JvbGxiYXJXcmFwcGVyLmNsaWVudFdpZHRoO1xuXHRcdFx0dGhhdC5oU2Nyb2xsYmFySW5kaWNhdG9yU2l6ZSA9IG0ubWF4KG0ucm91bmQodGhhdC5oU2Nyb2xsYmFyU2l6ZSAqIHRoYXQuaFNjcm9sbGJhclNpemUgLyB0aGF0LnNjcm9sbGVyVyksIDgpO1xuXHRcdFx0dGhhdC5oU2Nyb2xsYmFySW5kaWNhdG9yLnN0eWxlLndpZHRoID0gdGhhdC5oU2Nyb2xsYmFySW5kaWNhdG9yU2l6ZSArICdweCc7XG5cdFx0XHR0aGF0LmhTY3JvbGxiYXJNYXhTY3JvbGwgPSB0aGF0LmhTY3JvbGxiYXJTaXplIC0gdGhhdC5oU2Nyb2xsYmFySW5kaWNhdG9yU2l6ZTtcblx0XHRcdHRoYXQuaFNjcm9sbGJhclByb3AgPSB0aGF0LmhTY3JvbGxiYXJNYXhTY3JvbGwgLyB0aGF0Lm1heFNjcm9sbFg7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoYXQudlNjcm9sbGJhclNpemUgPSB0aGF0LnZTY3JvbGxiYXJXcmFwcGVyLmNsaWVudEhlaWdodDtcblx0XHRcdHRoYXQudlNjcm9sbGJhckluZGljYXRvclNpemUgPSBtLm1heChtLnJvdW5kKHRoYXQudlNjcm9sbGJhclNpemUgKiB0aGF0LnZTY3JvbGxiYXJTaXplIC8gdGhhdC5zY3JvbGxlckgpLCA4KTtcblx0XHRcdHRoYXQudlNjcm9sbGJhckluZGljYXRvci5zdHlsZS5oZWlnaHQgPSB0aGF0LnZTY3JvbGxiYXJJbmRpY2F0b3JTaXplICsgJ3B4Jztcblx0XHRcdHRoYXQudlNjcm9sbGJhck1heFNjcm9sbCA9IHRoYXQudlNjcm9sbGJhclNpemUgLSB0aGF0LnZTY3JvbGxiYXJJbmRpY2F0b3JTaXplO1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFyUHJvcCA9IHRoYXQudlNjcm9sbGJhck1heFNjcm9sbCAvIHRoYXQubWF4U2Nyb2xsWTtcblx0XHR9XG5cblx0XHQvLyBSZXNldCBwb3NpdGlvblxuXHRcdHRoYXQuX3Njcm9sbGJhclBvcyhkaXIsIHRydWUpO1xuXHR9LFxuXHRcblx0X3Jlc2l6ZTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC5yZWZyZXNoKCk7IH0sIGlzQW5kcm9pZCA/IDIwMCA6IDApO1xuXHR9LFxuXHRcblx0X3BvczogZnVuY3Rpb24gKHgsIHkpIHtcblx0XHRpZiAodGhpcy56b29tZWQpIHJldHVybjtcblxuXHRcdHggPSB0aGlzLmhTY3JvbGwgPyB4IDogMDtcblx0XHR5ID0gdGhpcy52U2Nyb2xsID8geSA6IDA7XG5cblx0XHRpZiAodGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuXHRcdFx0dGhpcy5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgeCArICdweCwnICsgeSArICdweCkgc2NhbGUoJyArIHRoaXMuc2NhbGUgKyAnKScgKyB0cmFuc2xhdGVaO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR4ID0gbS5yb3VuZCh4KTtcblx0XHRcdHkgPSBtLnJvdW5kKHkpO1xuXHRcdFx0dGhpcy5zY3JvbGxlci5zdHlsZS5sZWZ0ID0geCArICdweCc7XG5cdFx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlLnRvcCA9IHkgKyAncHgnO1xuXHRcdH1cblxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblxuXHRcdHRoaXMuX3Njcm9sbGJhclBvcygnaCcpO1xuXHRcdHRoaXMuX3Njcm9sbGJhclBvcygndicpO1xuXHR9LFxuXG5cdF9zY3JvbGxiYXJQb3M6IGZ1bmN0aW9uIChkaXIsIGhpZGRlbikge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHBvcyA9IGRpciA9PSAnaCcgPyB0aGF0LnggOiB0aGF0LnksXG5cdFx0XHRzaXplO1xuXG5cdFx0aWYgKCF0aGF0W2RpciArICdTY3JvbGxiYXInXSkgcmV0dXJuO1xuXG5cdFx0cG9zID0gdGhhdFtkaXIgKyAnU2Nyb2xsYmFyUHJvcCddICogcG9zO1xuXG5cdFx0aWYgKHBvcyA8IDApIHtcblx0XHRcdGlmICghdGhhdC5vcHRpb25zLmZpeGVkU2Nyb2xsYmFyKSB7XG5cdFx0XHRcdHNpemUgPSB0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3JTaXplJ10gKyBtLnJvdW5kKHBvcyAqIDMpO1xuXHRcdFx0XHRpZiAoc2l6ZSA8IDgpIHNpemUgPSA4O1xuXHRcdFx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3InXS5zdHlsZVtkaXIgPT0gJ2gnID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA9IHNpemUgKyAncHgnO1xuXHRcdFx0fVxuXHRcdFx0cG9zID0gMDtcblx0XHR9IGVsc2UgaWYgKHBvcyA+IHRoYXRbZGlyICsgJ1Njcm9sbGJhck1heFNjcm9sbCddKSB7XG5cdFx0XHRpZiAoIXRoYXQub3B0aW9ucy5maXhlZFNjcm9sbGJhcikge1xuXHRcdFx0XHRzaXplID0gdGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yU2l6ZSddIC0gbS5yb3VuZCgocG9zIC0gdGhhdFtkaXIgKyAnU2Nyb2xsYmFyTWF4U2Nyb2xsJ10pICogMyk7XG5cdFx0XHRcdGlmIChzaXplIDwgOCkgc2l6ZSA9IDg7XG5cdFx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvciddLnN0eWxlW2RpciA9PSAnaCcgPyAnd2lkdGgnIDogJ2hlaWdodCddID0gc2l6ZSArICdweCc7XG5cdFx0XHRcdHBvcyA9IHRoYXRbZGlyICsgJ1Njcm9sbGJhck1heFNjcm9sbCddICsgKHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvclNpemUnXSAtIHNpemUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cG9zID0gdGhhdFtkaXIgKyAnU2Nyb2xsYmFyTWF4U2Nyb2xsJ107XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddLnN0eWxlW3RyYW5zaXRpb25EZWxheV0gPSAnMCc7XG5cdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddLnN0eWxlLm9wYWNpdHkgPSBoaWRkZW4gJiYgdGhhdC5vcHRpb25zLmhpZGVTY3JvbGxiYXIgPyAnMCcgOiAnMSc7XG5cdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yJ10uc3R5bGVbdHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoJyArIChkaXIgPT0gJ2gnID8gcG9zICsgJ3B4LDApJyA6ICcwLCcgKyBwb3MgKyAncHgpJykgKyB0cmFuc2xhdGVaO1xuXHR9LFxuXHRcblx0X3N0YXJ0OiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHBvaW50ID0gaGFzVG91Y2ggPyBlLnRvdWNoZXNbMF0gOiBlLFxuXHRcdFx0bWF0cml4LCB4LCB5LFxuXHRcdFx0YzEsIGMyO1xuXG5cdFx0aWYgKCF0aGF0LmVuYWJsZWQpIHJldHVybjtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25CZWZvcmVTY3JvbGxTdGFydCkgdGhhdC5vcHRpb25zLm9uQmVmb3JlU2Nyb2xsU3RhcnQuY2FsbCh0aGF0LCBlKTtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbiB8fCB0aGF0Lm9wdGlvbnMuem9vbSkgdGhhdC5fdHJhbnNpdGlvblRpbWUoMCk7XG5cblx0XHR0aGF0Lm1vdmVkID0gZmFsc2U7XG5cdFx0dGhhdC5hbmltYXRpbmcgPSBmYWxzZTtcblx0XHR0aGF0Lnpvb21lZCA9IGZhbHNlO1xuXHRcdHRoYXQuZGlzdFggPSAwO1xuXHRcdHRoYXQuZGlzdFkgPSAwO1xuXHRcdHRoYXQuYWJzRGlzdFggPSAwO1xuXHRcdHRoYXQuYWJzRGlzdFkgPSAwO1xuXHRcdHRoYXQuZGlyWCA9IDA7XG5cdFx0dGhhdC5kaXJZID0gMDtcblxuXHRcdC8vIEdlc3R1cmUgc3RhcnRcblx0XHRpZiAodGhhdC5vcHRpb25zLnpvb20gJiYgaGFzVG91Y2ggJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHtcblx0XHRcdGMxID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VYLWUudG91Y2hlc1sxXS5wYWdlWCk7XG5cdFx0XHRjMiA9IG0uYWJzKGUudG91Y2hlc1swXS5wYWdlWS1lLnRvdWNoZXNbMV0ucGFnZVkpO1xuXHRcdFx0dGhhdC50b3VjaGVzRGlzdFN0YXJ0ID0gbS5zcXJ0KGMxICogYzEgKyBjMiAqIGMyKTtcblxuXHRcdFx0dGhhdC5vcmlnaW5YID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VYICsgZS50b3VjaGVzWzFdLnBhZ2VYIC0gdGhhdC53cmFwcGVyT2Zmc2V0TGVmdCAqIDIpIC8gMiAtIHRoYXQueDtcblx0XHRcdHRoYXQub3JpZ2luWSA9IG0uYWJzKGUudG91Y2hlc1swXS5wYWdlWSArIGUudG91Y2hlc1sxXS5wYWdlWSAtIHRoYXQud3JhcHBlck9mZnNldFRvcCAqIDIpIC8gMiAtIHRoYXQueTtcblxuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblpvb21TdGFydCkgdGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0LmNhbGwodGhhdCwgZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5tb21lbnR1bSkge1xuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0pIHtcblx0XHRcdFx0Ly8gVmVyeSBsYW1lIGdlbmVyYWwgcHVycG9zZSBhbHRlcm5hdGl2ZSB0byBDU1NNYXRyaXhcblx0XHRcdFx0bWF0cml4ID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGF0LnNjcm9sbGVyLCBudWxsKVt0cmFuc2Zvcm1dLnJlcGxhY2UoL1teMC05XFwtLixdL2csICcnKS5zcGxpdCgnLCcpO1xuXHRcdFx0XHR4ID0gKyhtYXRyaXhbMTJdIHx8IG1hdHJpeFs0XSk7XG5cdFx0XHRcdHkgPSArKG1hdHJpeFsxM10gfHwgbWF0cml4WzVdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHggPSArZ2V0Q29tcHV0ZWRTdHlsZSh0aGF0LnNjcm9sbGVyLCBudWxsKS5sZWZ0LnJlcGxhY2UoL1teMC05LV0vZywgJycpO1xuXHRcdFx0XHR5ID0gK2dldENvbXB1dGVkU3R5bGUodGhhdC5zY3JvbGxlciwgbnVsbCkudG9wLnJlcGxhY2UoL1teMC05LV0vZywgJycpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoeCAhPSB0aGF0LnggfHwgeSAhPSB0aGF0LnkpIHtcblx0XHRcdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uKSB0aGF0Ll91bmJpbmQoVFJORU5EX0VWKTtcblx0XHRcdFx0ZWxzZSBjYW5jZWxGcmFtZSh0aGF0LmFuaVRpbWUpO1xuXHRcdFx0XHR0aGF0LnN0ZXBzID0gW107XG5cdFx0XHRcdHRoYXQuX3Bvcyh4LCB5KTtcblx0XHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbEVuZCkgdGhhdC5vcHRpb25zLm9uU2Nyb2xsRW5kLmNhbGwodGhhdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhhdC5hYnNTdGFydFggPSB0aGF0Lng7XHQvLyBOZWVkZWQgYnkgc25hcCB0aHJlc2hvbGRcblx0XHR0aGF0LmFic1N0YXJ0WSA9IHRoYXQueTtcblxuXHRcdHRoYXQuc3RhcnRYID0gdGhhdC54O1xuXHRcdHRoYXQuc3RhcnRZID0gdGhhdC55O1xuXHRcdHRoYXQucG9pbnRYID0gcG9pbnQucGFnZVg7XG5cdFx0dGhhdC5wb2ludFkgPSBwb2ludC5wYWdlWTtcblxuXHRcdHRoYXQuc3RhcnRUaW1lID0gZS50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25TY3JvbGxTdGFydCkgdGhhdC5vcHRpb25zLm9uU2Nyb2xsU3RhcnQuY2FsbCh0aGF0LCBlKTtcblxuXHRcdHRoYXQuX2JpbmQoTU9WRV9FViwgd2luZG93KTtcblx0XHR0aGF0Ll9iaW5kKEVORF9FViwgd2luZG93KTtcblx0XHR0aGF0Ll9iaW5kKENBTkNFTF9FViwgd2luZG93KTtcblx0fSxcblx0XG5cdF9tb3ZlOiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHBvaW50ID0gaGFzVG91Y2ggPyBlLnRvdWNoZXNbMF0gOiBlLFxuXHRcdFx0ZGVsdGFYID0gcG9pbnQucGFnZVggLSB0aGF0LnBvaW50WCxcblx0XHRcdGRlbHRhWSA9IHBvaW50LnBhZ2VZIC0gdGhhdC5wb2ludFksXG5cdFx0XHRuZXdYID0gdGhhdC54ICsgZGVsdGFYLFxuXHRcdFx0bmV3WSA9IHRoYXQueSArIGRlbHRhWSxcblx0XHRcdGMxLCBjMiwgc2NhbGUsXG5cdFx0XHR0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vbkJlZm9yZVNjcm9sbE1vdmUpIHRoYXQub3B0aW9ucy5vbkJlZm9yZVNjcm9sbE1vdmUuY2FsbCh0aGF0LCBlKTtcblxuXHRcdC8vIFpvb21cblx0XHRpZiAodGhhdC5vcHRpb25zLnpvb20gJiYgaGFzVG91Y2ggJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHtcblx0XHRcdGMxID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VYIC0gZS50b3VjaGVzWzFdLnBhZ2VYKTtcblx0XHRcdGMyID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VZIC0gZS50b3VjaGVzWzFdLnBhZ2VZKTtcblx0XHRcdHRoYXQudG91Y2hlc0Rpc3QgPSBtLnNxcnQoYzEqYzErYzIqYzIpO1xuXG5cdFx0XHR0aGF0Lnpvb21lZCA9IHRydWU7XG5cblx0XHRcdHNjYWxlID0gMSAvIHRoYXQudG91Y2hlc0Rpc3RTdGFydCAqIHRoYXQudG91Y2hlc0Rpc3QgKiB0aGlzLnNjYWxlO1xuXG5cdFx0XHRpZiAoc2NhbGUgPCB0aGF0Lm9wdGlvbnMuem9vbU1pbikgc2NhbGUgPSAwLjUgKiB0aGF0Lm9wdGlvbnMuem9vbU1pbiAqIE1hdGgucG93KDIuMCwgc2NhbGUgLyB0aGF0Lm9wdGlvbnMuem9vbU1pbik7XG5cdFx0XHRlbHNlIGlmIChzY2FsZSA+IHRoYXQub3B0aW9ucy56b29tTWF4KSBzY2FsZSA9IDIuMCAqIHRoYXQub3B0aW9ucy56b29tTWF4ICogTWF0aC5wb3coMC41LCB0aGF0Lm9wdGlvbnMuem9vbU1heCAvIHNjYWxlKTtcblxuXHRcdFx0dGhhdC5sYXN0U2NhbGUgPSBzY2FsZSAvIHRoaXMuc2NhbGU7XG5cblx0XHRcdG5ld1ggPSB0aGlzLm9yaWdpblggLSB0aGlzLm9yaWdpblggKiB0aGF0Lmxhc3RTY2FsZSArIHRoaXMueDtcblx0XHRcdG5ld1kgPSB0aGlzLm9yaWdpblkgLSB0aGlzLm9yaWdpblkgKiB0aGF0Lmxhc3RTY2FsZSArIHRoaXMueTtcblxuXHRcdFx0dGhpcy5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgbmV3WCArICdweCwnICsgbmV3WSArICdweCkgc2NhbGUoJyArIHNjYWxlICsgJyknICsgdHJhbnNsYXRlWjtcblxuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblpvb20pIHRoYXQub3B0aW9ucy5vblpvb20uY2FsbCh0aGF0LCBlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGF0LnBvaW50WCA9IHBvaW50LnBhZ2VYO1xuXHRcdHRoYXQucG9pbnRZID0gcG9pbnQucGFnZVk7XG5cblx0XHQvLyBTbG93IGRvd24gaWYgb3V0c2lkZSBvZiB0aGUgYm91bmRhcmllc1xuXHRcdGlmIChuZXdYID4gMCB8fCBuZXdYIDwgdGhhdC5tYXhTY3JvbGxYKSB7XG5cdFx0XHRuZXdYID0gdGhhdC5vcHRpb25zLmJvdW5jZSA/IHRoYXQueCArIChkZWx0YVggLyAyKSA6IG5ld1ggPj0gMCB8fCB0aGF0Lm1heFNjcm9sbFggPj0gMCA/IDAgOiB0aGF0Lm1heFNjcm9sbFg7XG5cdFx0fVxuXHRcdGlmIChuZXdZID4gdGhhdC5taW5TY3JvbGxZIHx8IG5ld1kgPCB0aGF0Lm1heFNjcm9sbFkpIHtcblx0XHRcdG5ld1kgPSB0aGF0Lm9wdGlvbnMuYm91bmNlID8gdGhhdC55ICsgKGRlbHRhWSAvIDIpIDogbmV3WSA+PSB0aGF0Lm1pblNjcm9sbFkgfHwgdGhhdC5tYXhTY3JvbGxZID49IDAgPyB0aGF0Lm1pblNjcm9sbFkgOiB0aGF0Lm1heFNjcm9sbFk7XG5cdFx0fVxuXG5cdFx0dGhhdC5kaXN0WCArPSBkZWx0YVg7XG5cdFx0dGhhdC5kaXN0WSArPSBkZWx0YVk7XG5cdFx0dGhhdC5hYnNEaXN0WCA9IG0uYWJzKHRoYXQuZGlzdFgpO1xuXHRcdHRoYXQuYWJzRGlzdFkgPSBtLmFicyh0aGF0LmRpc3RZKTtcblxuXHRcdGlmICh0aGF0LmFic0Rpc3RYIDwgNiAmJiB0aGF0LmFic0Rpc3RZIDwgNikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIExvY2sgZGlyZWN0aW9uXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5sb2NrRGlyZWN0aW9uKSB7XG5cdFx0XHRpZiAodGhhdC5hYnNEaXN0WCA+IHRoYXQuYWJzRGlzdFkgKyA1KSB7XG5cdFx0XHRcdG5ld1kgPSB0aGF0Lnk7XG5cdFx0XHRcdGRlbHRhWSA9IDA7XG5cdFx0XHR9IGVsc2UgaWYgKHRoYXQuYWJzRGlzdFkgPiB0aGF0LmFic0Rpc3RYICsgNSkge1xuXHRcdFx0XHRuZXdYID0gdGhhdC54O1xuXHRcdFx0XHRkZWx0YVggPSAwO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoYXQubW92ZWQgPSB0cnVlO1xuXHRcdHRoYXQuX3BvcyhuZXdYLCBuZXdZKTtcblx0XHR0aGF0LmRpclggPSBkZWx0YVggPiAwID8gLTEgOiBkZWx0YVggPCAwID8gMSA6IDA7XG5cdFx0dGhhdC5kaXJZID0gZGVsdGFZID4gMCA/IC0xIDogZGVsdGFZIDwgMCA/IDEgOiAwO1xuXG5cdFx0aWYgKHRpbWVzdGFtcCAtIHRoYXQuc3RhcnRUaW1lID4gMzAwKSB7XG5cdFx0XHR0aGF0LnN0YXJ0VGltZSA9IHRpbWVzdGFtcDtcblx0XHRcdHRoYXQuc3RhcnRYID0gdGhhdC54O1xuXHRcdFx0dGhhdC5zdGFydFkgPSB0aGF0Lnk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25TY3JvbGxNb3ZlKSB0aGF0Lm9wdGlvbnMub25TY3JvbGxNb3ZlLmNhbGwodGhhdCwgZSk7XG5cdH0sXG5cdFxuXHRfZW5kOiBmdW5jdGlvbiAoZSkge1xuXHRcdGlmIChoYXNUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoICE9PSAwKSByZXR1cm47XG5cblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRwb2ludCA9IGhhc1RvdWNoID8gZS5jaGFuZ2VkVG91Y2hlc1swXSA6IGUsXG5cdFx0XHR0YXJnZXQsIGV2LFxuXHRcdFx0bW9tZW50dW1YID0geyBkaXN0OjAsIHRpbWU6MCB9LFxuXHRcdFx0bW9tZW50dW1ZID0geyBkaXN0OjAsIHRpbWU6MCB9LFxuXHRcdFx0ZHVyYXRpb24gPSAoZS50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKSkgLSB0aGF0LnN0YXJ0VGltZSxcblx0XHRcdG5ld1Bvc1ggPSB0aGF0LngsXG5cdFx0XHRuZXdQb3NZID0gdGhhdC55LFxuXHRcdFx0ZGlzdFgsIGRpc3RZLFxuXHRcdFx0bmV3RHVyYXRpb24sXG5cdFx0XHRzbmFwLFxuXHRcdFx0c2NhbGU7XG5cblx0XHR0aGF0Ll91bmJpbmQoTU9WRV9FViwgd2luZG93KTtcblx0XHR0aGF0Ll91bmJpbmQoRU5EX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX3VuYmluZChDQU5DRUxfRVYsIHdpbmRvdyk7XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLm9uQmVmb3JlU2Nyb2xsRW5kKSB0aGF0Lm9wdGlvbnMub25CZWZvcmVTY3JvbGxFbmQuY2FsbCh0aGF0LCBlKTtcblxuXHRcdGlmICh0aGF0Lnpvb21lZCkge1xuXHRcdFx0c2NhbGUgPSB0aGF0LnNjYWxlICogdGhhdC5sYXN0U2NhbGU7XG5cdFx0XHRzY2FsZSA9IE1hdGgubWF4KHRoYXQub3B0aW9ucy56b29tTWluLCBzY2FsZSk7XG5cdFx0XHRzY2FsZSA9IE1hdGgubWluKHRoYXQub3B0aW9ucy56b29tTWF4LCBzY2FsZSk7XG5cdFx0XHR0aGF0Lmxhc3RTY2FsZSA9IHNjYWxlIC8gdGhhdC5zY2FsZTtcblx0XHRcdHRoYXQuc2NhbGUgPSBzY2FsZTtcblxuXHRcdFx0dGhhdC54ID0gdGhhdC5vcmlnaW5YIC0gdGhhdC5vcmlnaW5YICogdGhhdC5sYXN0U2NhbGUgKyB0aGF0Lng7XG5cdFx0XHR0aGF0LnkgPSB0aGF0Lm9yaWdpblkgLSB0aGF0Lm9yaWdpblkgKiB0aGF0Lmxhc3RTY2FsZSArIHRoYXQueTtcblx0XHRcdFxuXHRcdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gJzIwMG1zJztcblx0XHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoJyArIHRoYXQueCArICdweCwnICsgdGhhdC55ICsgJ3B4KSBzY2FsZSgnICsgdGhhdC5zY2FsZSArICcpJyArIHRyYW5zbGF0ZVo7XG5cdFx0XHRcblx0XHRcdHRoYXQuem9vbWVkID0gZmFsc2U7XG5cdFx0XHR0aGF0LnJlZnJlc2goKTtcblxuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblpvb21FbmQpIHRoYXQub3B0aW9ucy5vblpvb21FbmQuY2FsbCh0aGF0LCBlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIXRoYXQubW92ZWQpIHtcblx0XHRcdGlmIChoYXNUb3VjaCkge1xuXHRcdFx0XHRpZiAodGhhdC5kb3VibGVUYXBUaW1lciAmJiB0aGF0Lm9wdGlvbnMuem9vbSkge1xuXHRcdFx0XHRcdC8vIERvdWJsZSB0YXBwZWRcblx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGhhdC5kb3VibGVUYXBUaW1lcik7XG5cdFx0XHRcdFx0dGhhdC5kb3VibGVUYXBUaW1lciA9IG51bGw7XG5cdFx0XHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblpvb21TdGFydCkgdGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0LmNhbGwodGhhdCwgZSk7XG5cdFx0XHRcdFx0dGhhdC56b29tKHRoYXQucG9pbnRYLCB0aGF0LnBvaW50WSwgdGhhdC5zY2FsZSA9PSAxID8gdGhhdC5vcHRpb25zLmRvdWJsZVRhcFpvb20gOiAxKTtcblx0XHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbUVuZCkge1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5vcHRpb25zLm9uWm9vbUVuZC5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0XHRcdFx0fSwgMjAwKTsgLy8gMjAwIGlzIGRlZmF1bHQgem9vbSBkdXJhdGlvblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuaGFuZGxlQ2xpY2spIHtcblx0XHRcdFx0XHR0aGF0LmRvdWJsZVRhcFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHR0aGF0LmRvdWJsZVRhcFRpbWVyID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0Ly8gRmluZCB0aGUgbGFzdCB0b3VjaGVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdHRhcmdldCA9IHBvaW50LnRhcmdldDtcblx0XHRcdFx0XHRcdHdoaWxlICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG5cblx0XHRcdFx0XHRcdGlmICh0YXJnZXQudGFnTmFtZSAhPSAnU0VMRUNUJyAmJiB0YXJnZXQudGFnTmFtZSAhPSAnSU5QVVQnICYmIHRhcmdldC50YWdOYW1lICE9ICdURVhUQVJFQScpIHtcblx0XHRcdFx0XHRcdFx0ZXYgPSBkb2MuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG5cdFx0XHRcdFx0XHRcdGV2LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIHRydWUsIGUudmlldywgMSxcblx0XHRcdFx0XHRcdFx0XHRwb2ludC5zY3JlZW5YLCBwb2ludC5zY3JlZW5ZLCBwb2ludC5jbGllbnRYLCBwb2ludC5jbGllbnRZLFxuXHRcdFx0XHRcdFx0XHRcdGUuY3RybEtleSwgZS5hbHRLZXksIGUuc2hpZnRLZXksIGUubWV0YUtleSxcblx0XHRcdFx0XHRcdFx0XHQwLCBudWxsKTtcblx0XHRcdFx0XHRcdFx0ZXYuX2Zha2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0YXJnZXQuZGlzcGF0Y2hFdmVudChldik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSwgdGhhdC5vcHRpb25zLnpvb20gPyAyNTAgOiAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR0aGF0Ll9yZXNldFBvcyg0MDApO1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uVG91Y2hFbmQpIHRoYXQub3B0aW9ucy5vblRvdWNoRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKGR1cmF0aW9uIDwgMzAwICYmIHRoYXQub3B0aW9ucy5tb21lbnR1bSkge1xuXHRcdFx0bW9tZW50dW1YID0gbmV3UG9zWCA/IHRoYXQuX21vbWVudHVtKG5ld1Bvc1ggLSB0aGF0LnN0YXJ0WCwgZHVyYXRpb24sIC10aGF0LngsIHRoYXQuc2Nyb2xsZXJXIC0gdGhhdC53cmFwcGVyVyArIHRoYXQueCwgdGhhdC5vcHRpb25zLmJvdW5jZSA/IHRoYXQud3JhcHBlclcgOiAwKSA6IG1vbWVudHVtWDtcblx0XHRcdG1vbWVudHVtWSA9IG5ld1Bvc1kgPyB0aGF0Ll9tb21lbnR1bShuZXdQb3NZIC0gdGhhdC5zdGFydFksIGR1cmF0aW9uLCAtdGhhdC55LCAodGhhdC5tYXhTY3JvbGxZIDwgMCA/IHRoYXQuc2Nyb2xsZXJIIC0gdGhhdC53cmFwcGVySCArIHRoYXQueSAtIHRoYXQubWluU2Nyb2xsWSA6IDApLCB0aGF0Lm9wdGlvbnMuYm91bmNlID8gdGhhdC53cmFwcGVySCA6IDApIDogbW9tZW50dW1ZO1xuXG5cdFx0XHRuZXdQb3NYID0gdGhhdC54ICsgbW9tZW50dW1YLmRpc3Q7XG5cdFx0XHRuZXdQb3NZID0gdGhhdC55ICsgbW9tZW50dW1ZLmRpc3Q7XG5cblx0XHRcdGlmICgodGhhdC54ID4gMCAmJiBuZXdQb3NYID4gMCkgfHwgKHRoYXQueCA8IHRoYXQubWF4U2Nyb2xsWCAmJiBuZXdQb3NYIDwgdGhhdC5tYXhTY3JvbGxYKSkgbW9tZW50dW1YID0geyBkaXN0OjAsIHRpbWU6MCB9O1xuXHRcdFx0aWYgKCh0aGF0LnkgPiB0aGF0Lm1pblNjcm9sbFkgJiYgbmV3UG9zWSA+IHRoYXQubWluU2Nyb2xsWSkgfHwgKHRoYXQueSA8IHRoYXQubWF4U2Nyb2xsWSAmJiBuZXdQb3NZIDwgdGhhdC5tYXhTY3JvbGxZKSkgbW9tZW50dW1ZID0geyBkaXN0OjAsIHRpbWU6MCB9O1xuXHRcdH1cblxuXHRcdGlmIChtb21lbnR1bVguZGlzdCB8fCBtb21lbnR1bVkuZGlzdCkge1xuXHRcdFx0bmV3RHVyYXRpb24gPSBtLm1heChtLm1heChtb21lbnR1bVgudGltZSwgbW9tZW50dW1ZLnRpbWUpLCAxMCk7XG5cblx0XHRcdC8vIERvIHdlIG5lZWQgdG8gc25hcD9cblx0XHRcdGlmICh0aGF0Lm9wdGlvbnMuc25hcCkge1xuXHRcdFx0XHRkaXN0WCA9IG5ld1Bvc1ggLSB0aGF0LmFic1N0YXJ0WDtcblx0XHRcdFx0ZGlzdFkgPSBuZXdQb3NZIC0gdGhhdC5hYnNTdGFydFk7XG5cdFx0XHRcdGlmIChtLmFicyhkaXN0WCkgPCB0aGF0Lm9wdGlvbnMuc25hcFRocmVzaG9sZCAmJiBtLmFicyhkaXN0WSkgPCB0aGF0Lm9wdGlvbnMuc25hcFRocmVzaG9sZCkgeyB0aGF0LnNjcm9sbFRvKHRoYXQuYWJzU3RhcnRYLCB0aGF0LmFic1N0YXJ0WSwgMjAwKTsgfVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRzbmFwID0gdGhhdC5fc25hcChuZXdQb3NYLCBuZXdQb3NZKTtcblx0XHRcdFx0XHRuZXdQb3NYID0gc25hcC54O1xuXHRcdFx0XHRcdG5ld1Bvc1kgPSBzbmFwLnk7XG5cdFx0XHRcdFx0bmV3RHVyYXRpb24gPSBtLm1heChzbmFwLnRpbWUsIG5ld0R1cmF0aW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR0aGF0LnNjcm9sbFRvKG0ucm91bmQobmV3UG9zWCksIG0ucm91bmQobmV3UG9zWSksIG5ld0R1cmF0aW9uKTtcblxuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblRvdWNoRW5kKSB0aGF0Lm9wdGlvbnMub25Ub3VjaEVuZC5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERvIHdlIG5lZWQgdG8gc25hcD9cblx0XHRpZiAodGhhdC5vcHRpb25zLnNuYXApIHtcblx0XHRcdGRpc3RYID0gbmV3UG9zWCAtIHRoYXQuYWJzU3RhcnRYO1xuXHRcdFx0ZGlzdFkgPSBuZXdQb3NZIC0gdGhhdC5hYnNTdGFydFk7XG5cdFx0XHRpZiAobS5hYnMoZGlzdFgpIDwgdGhhdC5vcHRpb25zLnNuYXBUaHJlc2hvbGQgJiYgbS5hYnMoZGlzdFkpIDwgdGhhdC5vcHRpb25zLnNuYXBUaHJlc2hvbGQpIHRoYXQuc2Nyb2xsVG8odGhhdC5hYnNTdGFydFgsIHRoYXQuYWJzU3RhcnRZLCAyMDApO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHNuYXAgPSB0aGF0Ll9zbmFwKHRoYXQueCwgdGhhdC55KTtcblx0XHRcdFx0aWYgKHNuYXAueCAhPSB0aGF0LnggfHwgc25hcC55ICE9IHRoYXQueSkgdGhhdC5zY3JvbGxUbyhzbmFwLngsIHNuYXAueSwgc25hcC50aW1lKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblRvdWNoRW5kKSB0aGF0Lm9wdGlvbnMub25Ub3VjaEVuZC5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoYXQuX3Jlc2V0UG9zKDIwMCk7XG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vblRvdWNoRW5kKSB0aGF0Lm9wdGlvbnMub25Ub3VjaEVuZC5jYWxsKHRoYXQsIGUpO1xuXHR9LFxuXHRcblx0X3Jlc2V0UG9zOiBmdW5jdGlvbiAodGltZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHJlc2V0WCA9IHRoYXQueCA+PSAwID8gMCA6IHRoYXQueCA8IHRoYXQubWF4U2Nyb2xsWCA/IHRoYXQubWF4U2Nyb2xsWCA6IHRoYXQueCxcblx0XHRcdHJlc2V0WSA9IHRoYXQueSA+PSB0aGF0Lm1pblNjcm9sbFkgfHwgdGhhdC5tYXhTY3JvbGxZID4gMCA/IHRoYXQubWluU2Nyb2xsWSA6IHRoYXQueSA8IHRoYXQubWF4U2Nyb2xsWSA/IHRoYXQubWF4U2Nyb2xsWSA6IHRoYXQueTtcblxuXHRcdGlmIChyZXNldFggPT0gdGhhdC54ICYmIHJlc2V0WSA9PSB0aGF0LnkpIHtcblx0XHRcdGlmICh0aGF0Lm1vdmVkKSB7XG5cdFx0XHRcdHRoYXQubW92ZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbEVuZCkgdGhhdC5vcHRpb25zLm9uU2Nyb2xsRW5kLmNhbGwodGhhdCk7XHRcdC8vIEV4ZWN1dGUgY3VzdG9tIGNvZGUgb24gc2Nyb2xsIGVuZFxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhhdC5oU2Nyb2xsYmFyICYmIHRoYXQub3B0aW9ucy5oaWRlU2Nyb2xsYmFyKSB7XG5cdFx0XHRcdGlmICh2ZW5kb3IgPT0gJ3dlYmtpdCcpIHRoYXQuaFNjcm9sbGJhcldyYXBwZXIuc3R5bGVbdHJhbnNpdGlvbkRlbGF5XSA9ICczMDBtcyc7XG5cdFx0XHRcdHRoYXQuaFNjcm9sbGJhcldyYXBwZXIuc3R5bGUub3BhY2l0eSA9ICcwJztcblx0XHRcdH1cblx0XHRcdGlmICh0aGF0LnZTY3JvbGxiYXIgJiYgdGhhdC5vcHRpb25zLmhpZGVTY3JvbGxiYXIpIHtcblx0XHRcdFx0aWYgKHZlbmRvciA9PSAnd2Via2l0JykgdGhhdC52U2Nyb2xsYmFyV3JhcHBlci5zdHlsZVt0cmFuc2l0aW9uRGVsYXldID0gJzMwMG1zJztcblx0XHRcdFx0dGhhdC52U2Nyb2xsYmFyV3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhhdC5zY3JvbGxUbyhyZXNldFgsIHJlc2V0WSwgdGltZSB8fCAwKTtcblx0fSxcblxuXHRfd2hlZWw6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0d2hlZWxEZWx0YVgsIHdoZWVsRGVsdGFZLFxuXHRcdFx0ZGVsdGFYLCBkZWx0YVksXG5cdFx0XHRkZWx0YVNjYWxlO1xuXG5cdFx0aWYgKCd3aGVlbERlbHRhWCcgaW4gZSkge1xuXHRcdFx0d2hlZWxEZWx0YVggPSBlLndoZWVsRGVsdGFYIC8gMTI7XG5cdFx0XHR3aGVlbERlbHRhWSA9IGUud2hlZWxEZWx0YVkgLyAxMjtcblx0XHR9IGVsc2UgaWYoJ3doZWVsRGVsdGEnIGluIGUpIHtcblx0XHRcdHdoZWVsRGVsdGFYID0gd2hlZWxEZWx0YVkgPSBlLndoZWVsRGVsdGEgLyAxMjtcblx0XHR9IGVsc2UgaWYgKCdkZXRhaWwnIGluIGUpIHtcblx0XHRcdHdoZWVsRGVsdGFYID0gd2hlZWxEZWx0YVkgPSAtZS5kZXRhaWwgKiAzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMud2hlZWxBY3Rpb24gPT0gJ3pvb20nKSB7XG5cdFx0XHRkZWx0YVNjYWxlID0gdGhhdC5zY2FsZSAqIE1hdGgucG93KDIsIDEvMyAqICh3aGVlbERlbHRhWSA/IHdoZWVsRGVsdGFZIC8gTWF0aC5hYnMod2hlZWxEZWx0YVkpIDogMCkpO1xuXHRcdFx0aWYgKGRlbHRhU2NhbGUgPCB0aGF0Lm9wdGlvbnMuem9vbU1pbikgZGVsdGFTY2FsZSA9IHRoYXQub3B0aW9ucy56b29tTWluO1xuXHRcdFx0aWYgKGRlbHRhU2NhbGUgPiB0aGF0Lm9wdGlvbnMuem9vbU1heCkgZGVsdGFTY2FsZSA9IHRoYXQub3B0aW9ucy56b29tTWF4O1xuXHRcdFx0XG5cdFx0XHRpZiAoZGVsdGFTY2FsZSAhPSB0aGF0LnNjYWxlKSB7XG5cdFx0XHRcdGlmICghdGhhdC53aGVlbFpvb21Db3VudCAmJiB0aGF0Lm9wdGlvbnMub25ab29tU3RhcnQpIHRoYXQub3B0aW9ucy5vblpvb21TdGFydC5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0XHR0aGF0LndoZWVsWm9vbUNvdW50Kys7XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGF0Lnpvb20oZS5wYWdlWCwgZS5wYWdlWSwgZGVsdGFTY2FsZSwgNDAwKTtcblx0XHRcdFx0XG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dGhhdC53aGVlbFpvb21Db3VudC0tO1xuXHRcdFx0XHRcdGlmICghdGhhdC53aGVlbFpvb21Db3VudCAmJiB0aGF0Lm9wdGlvbnMub25ab29tRW5kKSB0aGF0Lm9wdGlvbnMub25ab29tRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRcdH0sIDQwMCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0ZGVsdGFYID0gdGhhdC54ICsgd2hlZWxEZWx0YVg7XG5cdFx0ZGVsdGFZID0gdGhhdC55ICsgd2hlZWxEZWx0YVk7XG5cblx0XHRpZiAoZGVsdGFYID4gMCkgZGVsdGFYID0gMDtcblx0XHRlbHNlIGlmIChkZWx0YVggPCB0aGF0Lm1heFNjcm9sbFgpIGRlbHRhWCA9IHRoYXQubWF4U2Nyb2xsWDtcblxuXHRcdGlmIChkZWx0YVkgPiB0aGF0Lm1pblNjcm9sbFkpIGRlbHRhWSA9IHRoYXQubWluU2Nyb2xsWTtcblx0XHRlbHNlIGlmIChkZWx0YVkgPCB0aGF0Lm1heFNjcm9sbFkpIGRlbHRhWSA9IHRoYXQubWF4U2Nyb2xsWTtcbiAgICBcblx0XHRpZiAodGhhdC5tYXhTY3JvbGxZIDwgMCkge1xuXHRcdFx0dGhhdC5zY3JvbGxUbyhkZWx0YVgsIGRlbHRhWSwgMCk7XG5cdFx0fVxuXHR9LFxuXHRcblx0X3RyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0aWYgKGUudGFyZ2V0ICE9IHRoYXQuc2Nyb2xsZXIpIHJldHVybjtcblxuXHRcdHRoYXQuX3VuYmluZChUUk5FTkRfRVYpO1xuXHRcdFxuXHRcdHRoYXQuX3N0YXJ0QW5pKCk7XG5cdH0sXG5cblxuXHQvKipcblx0KlxuXHQqIFV0aWxpdGllc1xuXHQqXG5cdCovXG5cdF9zdGFydEFuaTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHN0YXJ0WCA9IHRoYXQueCwgc3RhcnRZID0gdGhhdC55LFxuXHRcdFx0c3RhcnRUaW1lID0gRGF0ZS5ub3coKSxcblx0XHRcdHN0ZXAsIGVhc2VPdXQsXG5cdFx0XHRhbmltYXRlO1xuXG5cdFx0aWYgKHRoYXQuYW5pbWF0aW5nKSByZXR1cm47XG5cdFx0XG5cdFx0aWYgKCF0aGF0LnN0ZXBzLmxlbmd0aCkge1xuXHRcdFx0dGhhdC5fcmVzZXRQb3MoNDAwKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0c3RlcCA9IHRoYXQuc3RlcHMuc2hpZnQoKTtcblx0XHRcblx0XHRpZiAoc3RlcC54ID09IHN0YXJ0WCAmJiBzdGVwLnkgPT0gc3RhcnRZKSBzdGVwLnRpbWUgPSAwO1xuXG5cdFx0dGhhdC5hbmltYXRpbmcgPSB0cnVlO1xuXHRcdHRoYXQubW92ZWQgPSB0cnVlO1xuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikge1xuXHRcdFx0dGhhdC5fdHJhbnNpdGlvblRpbWUoc3RlcC50aW1lKTtcblx0XHRcdHRoYXQuX3BvcyhzdGVwLngsIHN0ZXAueSk7XG5cdFx0XHR0aGF0LmFuaW1hdGluZyA9IGZhbHNlO1xuXHRcdFx0aWYgKHN0ZXAudGltZSkgdGhhdC5fYmluZChUUk5FTkRfRVYpO1xuXHRcdFx0ZWxzZSB0aGF0Ll9yZXNldFBvcygwKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRhbmltYXRlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG5vdyA9IERhdGUubm93KCksXG5cdFx0XHRcdG5ld1gsIG5ld1k7XG5cblx0XHRcdGlmIChub3cgPj0gc3RhcnRUaW1lICsgc3RlcC50aW1lKSB7XG5cdFx0XHRcdHRoYXQuX3BvcyhzdGVwLngsIHN0ZXAueSk7XG5cdFx0XHRcdHRoYXQuYW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0XHRcdGlmICh0aGF0Lm9wdGlvbnMub25BbmltYXRpb25FbmQpIHRoYXQub3B0aW9ucy5vbkFuaW1hdGlvbkVuZC5jYWxsKHRoYXQpO1x0XHRcdC8vIEV4ZWN1dGUgY3VzdG9tIGNvZGUgb24gYW5pbWF0aW9uIGVuZFxuXHRcdFx0XHR0aGF0Ll9zdGFydEFuaSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdG5vdyA9IChub3cgLSBzdGFydFRpbWUpIC8gc3RlcC50aW1lIC0gMTtcblx0XHRcdGVhc2VPdXQgPSBtLnNxcnQoMSAtIG5vdyAqIG5vdyk7XG5cdFx0XHRuZXdYID0gKHN0ZXAueCAtIHN0YXJ0WCkgKiBlYXNlT3V0ICsgc3RhcnRYO1xuXHRcdFx0bmV3WSA9IChzdGVwLnkgLSBzdGFydFkpICogZWFzZU91dCArIHN0YXJ0WTtcblx0XHRcdHRoYXQuX3BvcyhuZXdYLCBuZXdZKTtcblx0XHRcdGlmICh0aGF0LmFuaW1hdGluZykgdGhhdC5hbmlUaW1lID0gbmV4dEZyYW1lKGFuaW1hdGUpO1xuXHRcdH07XG5cblx0XHRhbmltYXRlKCk7XG5cdH0sXG5cblx0X3RyYW5zaXRpb25UaW1lOiBmdW5jdGlvbiAodGltZSkge1xuXHRcdHRpbWUgKz0gJ21zJztcblx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlW3RyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lO1xuXHRcdGlmICh0aGlzLmhTY3JvbGxiYXIpIHRoaXMuaFNjcm9sbGJhckluZGljYXRvci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gdGltZTtcblx0XHRpZiAodGhpcy52U2Nyb2xsYmFyKSB0aGlzLnZTY3JvbGxiYXJJbmRpY2F0b3Iuc3R5bGVbdHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWU7XG5cdH0sXG5cblx0X21vbWVudHVtOiBmdW5jdGlvbiAoZGlzdCwgdGltZSwgbWF4RGlzdFVwcGVyLCBtYXhEaXN0TG93ZXIsIHNpemUpIHtcblx0XHR2YXIgZGVjZWxlcmF0aW9uID0gMC4wMDA2LFxuXHRcdFx0c3BlZWQgPSBtLmFicyhkaXN0KSAvIHRpbWUsXG5cdFx0XHRuZXdEaXN0ID0gKHNwZWVkICogc3BlZWQpIC8gKDIgKiBkZWNlbGVyYXRpb24pLFxuXHRcdFx0bmV3VGltZSA9IDAsIG91dHNpZGVEaXN0ID0gMDtcblxuXHRcdC8vIFByb3BvcnRpbmFsbHkgcmVkdWNlIHNwZWVkIGlmIHdlIGFyZSBvdXRzaWRlIG9mIHRoZSBib3VuZGFyaWVzXG5cdFx0aWYgKGRpc3QgPiAwICYmIG5ld0Rpc3QgPiBtYXhEaXN0VXBwZXIpIHtcblx0XHRcdG91dHNpZGVEaXN0ID0gc2l6ZSAvICg2IC8gKG5ld0Rpc3QgLyBzcGVlZCAqIGRlY2VsZXJhdGlvbikpO1xuXHRcdFx0bWF4RGlzdFVwcGVyID0gbWF4RGlzdFVwcGVyICsgb3V0c2lkZURpc3Q7XG5cdFx0XHRzcGVlZCA9IHNwZWVkICogbWF4RGlzdFVwcGVyIC8gbmV3RGlzdDtcblx0XHRcdG5ld0Rpc3QgPSBtYXhEaXN0VXBwZXI7XG5cdFx0fSBlbHNlIGlmIChkaXN0IDwgMCAmJiBuZXdEaXN0ID4gbWF4RGlzdExvd2VyKSB7XG5cdFx0XHRvdXRzaWRlRGlzdCA9IHNpemUgLyAoNiAvIChuZXdEaXN0IC8gc3BlZWQgKiBkZWNlbGVyYXRpb24pKTtcblx0XHRcdG1heERpc3RMb3dlciA9IG1heERpc3RMb3dlciArIG91dHNpZGVEaXN0O1xuXHRcdFx0c3BlZWQgPSBzcGVlZCAqIG1heERpc3RMb3dlciAvIG5ld0Rpc3Q7XG5cdFx0XHRuZXdEaXN0ID0gbWF4RGlzdExvd2VyO1xuXHRcdH1cblxuXHRcdG5ld0Rpc3QgPSBuZXdEaXN0ICogKGRpc3QgPCAwID8gLTEgOiAxKTtcblx0XHRuZXdUaW1lID0gc3BlZWQgLyBkZWNlbGVyYXRpb247XG5cblx0XHRyZXR1cm4geyBkaXN0OiBuZXdEaXN0LCB0aW1lOiBtLnJvdW5kKG5ld1RpbWUpIH07XG5cdH0sXG5cblx0X29mZnNldDogZnVuY3Rpb24gKGVsKSB7XG5cdFx0dmFyIGxlZnQgPSAtZWwub2Zmc2V0TGVmdCxcblx0XHRcdHRvcCA9IC1lbC5vZmZzZXRUb3A7XG5cdFx0XHRcblx0XHR3aGlsZSAoZWwgPSBlbC5vZmZzZXRQYXJlbnQpIHtcblx0XHRcdGxlZnQgLT0gZWwub2Zmc2V0TGVmdDtcblx0XHRcdHRvcCAtPSBlbC5vZmZzZXRUb3A7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChlbCAhPSB0aGlzLndyYXBwZXIpIHtcblx0XHRcdGxlZnQgKj0gdGhpcy5zY2FsZTtcblx0XHRcdHRvcCAqPSB0aGlzLnNjYWxlO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wIH07XG5cdH0sXG5cblx0X3NuYXA6IGZ1bmN0aW9uICh4LCB5KSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0aSwgbCxcblx0XHRcdHBhZ2UsIHRpbWUsXG5cdFx0XHRzaXplWCwgc2l6ZVk7XG5cblx0XHQvLyBDaGVjayBwYWdlIFhcblx0XHRwYWdlID0gdGhhdC5wYWdlc1gubGVuZ3RoIC0gMTtcblx0XHRmb3IgKGk9MCwgbD10aGF0LnBhZ2VzWC5sZW5ndGg7IGk8bDsgaSsrKSB7XG5cdFx0XHRpZiAoeCA+PSB0aGF0LnBhZ2VzWFtpXSkge1xuXHRcdFx0XHRwYWdlID0gaTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChwYWdlID09IHRoYXQuY3VyclBhZ2VYICYmIHBhZ2UgPiAwICYmIHRoYXQuZGlyWCA8IDApIHBhZ2UtLTtcblx0XHR4ID0gdGhhdC5wYWdlc1hbcGFnZV07XG5cdFx0c2l6ZVggPSBtLmFicyh4IC0gdGhhdC5wYWdlc1hbdGhhdC5jdXJyUGFnZVhdKTtcblx0XHRzaXplWCA9IHNpemVYID8gbS5hYnModGhhdC54IC0geCkgLyBzaXplWCAqIDUwMCA6IDA7XG5cdFx0dGhhdC5jdXJyUGFnZVggPSBwYWdlO1xuXG5cdFx0Ly8gQ2hlY2sgcGFnZSBZXG5cdFx0cGFnZSA9IHRoYXQucGFnZXNZLmxlbmd0aC0xO1xuXHRcdGZvciAoaT0wOyBpPHBhZ2U7IGkrKykge1xuXHRcdFx0aWYgKHkgPj0gdGhhdC5wYWdlc1lbaV0pIHtcblx0XHRcdFx0cGFnZSA9IGk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocGFnZSA9PSB0aGF0LmN1cnJQYWdlWSAmJiBwYWdlID4gMCAmJiB0aGF0LmRpclkgPCAwKSBwYWdlLS07XG5cdFx0eSA9IHRoYXQucGFnZXNZW3BhZ2VdO1xuXHRcdHNpemVZID0gbS5hYnMoeSAtIHRoYXQucGFnZXNZW3RoYXQuY3VyclBhZ2VZXSk7XG5cdFx0c2l6ZVkgPSBzaXplWSA/IG0uYWJzKHRoYXQueSAtIHkpIC8gc2l6ZVkgKiA1MDAgOiAwO1xuXHRcdHRoYXQuY3VyclBhZ2VZID0gcGFnZTtcblxuXHRcdC8vIFNuYXAgd2l0aCBjb25zdGFudCBzcGVlZCAocHJvcG9ydGlvbmFsIGR1cmF0aW9uKVxuXHRcdHRpbWUgPSBtLnJvdW5kKG0ubWF4KHNpemVYLCBzaXplWSkpIHx8IDIwMDtcblxuXHRcdHJldHVybiB7IHg6IHgsIHk6IHksIHRpbWU6IHRpbWUgfTtcblx0fSxcblxuXHRfYmluZDogZnVuY3Rpb24gKHR5cGUsIGVsLCBidWJibGUpIHtcblx0XHQoZWwgfHwgdGhpcy5zY3JvbGxlcikuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLCAhIWJ1YmJsZSk7XG5cdH0sXG5cblx0X3VuYmluZDogZnVuY3Rpb24gKHR5cGUsIGVsLCBidWJibGUpIHtcblx0XHQoZWwgfHwgdGhpcy5zY3JvbGxlcikucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLCAhIWJ1YmJsZSk7XG5cdH0sXG5cblxuXHQvKipcblx0KlxuXHQqIFB1YmxpYyBtZXRob2RzXG5cdCpcblx0Ki9cblx0ZGVzdHJveTogZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNmb3JtXSA9ICcnO1xuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBzY3JvbGxiYXJzXG5cdFx0dGhhdC5oU2Nyb2xsYmFyID0gZmFsc2U7XG5cdFx0dGhhdC52U2Nyb2xsYmFyID0gZmFsc2U7XG5cdFx0dGhhdC5fc2Nyb2xsYmFyKCdoJyk7XG5cdFx0dGhhdC5fc2Nyb2xsYmFyKCd2Jyk7XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuXHRcdHRoYXQuX3VuYmluZChSRVNJWkVfRVYsIHdpbmRvdyk7XG5cdFx0dGhhdC5fdW5iaW5kKFNUQVJUX0VWKTtcblx0XHR0aGF0Ll91bmJpbmQoTU9WRV9FViwgd2luZG93KTtcblx0XHR0aGF0Ll91bmJpbmQoRU5EX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX3VuYmluZChDQU5DRUxfRVYsIHdpbmRvdyk7XG5cdFx0XG5cdFx0aWYgKCF0aGF0Lm9wdGlvbnMuaGFzVG91Y2gpIHtcblx0XHRcdHRoYXQuX3VuYmluZCgnRE9NTW91c2VTY3JvbGwnKTtcblx0XHRcdHRoYXQuX3VuYmluZCgnbW91c2V3aGVlbCcpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAodGhhdC5vcHRpb25zLnVzZVRyYW5zaXRpb24pIHRoYXQuX3VuYmluZChUUk5FTkRfRVYpO1xuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuY2hlY2tET01DaGFuZ2VzKSBjbGVhckludGVydmFsKHRoYXQuY2hlY2tET01UaW1lKTtcblx0XHRcblx0XHRpZiAodGhhdC5vcHRpb25zLm9uRGVzdHJveSkgdGhhdC5vcHRpb25zLm9uRGVzdHJveS5jYWxsKHRoYXQpO1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRvZmZzZXQsXG5cdFx0XHRpLCBsLFxuXHRcdFx0ZWxzLFxuXHRcdFx0cG9zID0gMCxcblx0XHRcdHBhZ2UgPSAwO1xuXG5cdFx0aWYgKHRoYXQuc2NhbGUgPCB0aGF0Lm9wdGlvbnMuem9vbU1pbikgdGhhdC5zY2FsZSA9IHRoYXQub3B0aW9ucy56b29tTWluO1xuXHRcdHRoYXQud3JhcHBlclcgPSB0aGF0LndyYXBwZXIuY2xpZW50V2lkdGggfHwgMTtcblx0XHR0aGF0LndyYXBwZXJIID0gdGhhdC53cmFwcGVyLmNsaWVudEhlaWdodCB8fCAxO1xuXG5cdFx0dGhhdC5taW5TY3JvbGxZID0gLXRoYXQub3B0aW9ucy50b3BPZmZzZXQgfHwgMDtcblx0XHR0aGF0LnNjcm9sbGVyVyA9IG0ucm91bmQodGhhdC5zY3JvbGxlci5vZmZzZXRXaWR0aCAqIHRoYXQuc2NhbGUpO1xuXHRcdHRoYXQuc2Nyb2xsZXJIID0gbS5yb3VuZCgodGhhdC5zY3JvbGxlci5vZmZzZXRIZWlnaHQgKyB0aGF0Lm1pblNjcm9sbFkpICogdGhhdC5zY2FsZSk7XG5cdFx0dGhhdC5tYXhTY3JvbGxYID0gdGhhdC53cmFwcGVyVyAtIHRoYXQuc2Nyb2xsZXJXO1xuXHRcdHRoYXQubWF4U2Nyb2xsWSA9IHRoYXQud3JhcHBlckggLSB0aGF0LnNjcm9sbGVySCArIHRoYXQubWluU2Nyb2xsWTtcblx0XHR0aGF0LmRpclggPSAwO1xuXHRcdHRoYXQuZGlyWSA9IDA7XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLm9uUmVmcmVzaCkgdGhhdC5vcHRpb25zLm9uUmVmcmVzaC5jYWxsKHRoYXQpO1xuXG5cdFx0dGhhdC5oU2Nyb2xsID0gdGhhdC5vcHRpb25zLmhTY3JvbGwgJiYgdGhhdC5tYXhTY3JvbGxYIDwgMDtcblx0XHR0aGF0LnZTY3JvbGwgPSB0aGF0Lm9wdGlvbnMudlNjcm9sbCAmJiAoIXRoYXQub3B0aW9ucy5ib3VuY2VMb2NrICYmICF0aGF0LmhTY3JvbGwgfHwgdGhhdC5zY3JvbGxlckggPiB0aGF0LndyYXBwZXJIKTtcblxuXHRcdHRoYXQuaFNjcm9sbGJhciA9IHRoYXQuaFNjcm9sbCAmJiB0aGF0Lm9wdGlvbnMuaFNjcm9sbGJhcjtcblx0XHR0aGF0LnZTY3JvbGxiYXIgPSB0aGF0LnZTY3JvbGwgJiYgdGhhdC5vcHRpb25zLnZTY3JvbGxiYXIgJiYgdGhhdC5zY3JvbGxlckggPiB0aGF0LndyYXBwZXJIO1xuXG5cdFx0b2Zmc2V0ID0gdGhhdC5fb2Zmc2V0KHRoYXQud3JhcHBlcik7XG5cdFx0dGhhdC53cmFwcGVyT2Zmc2V0TGVmdCA9IC1vZmZzZXQubGVmdDtcblx0XHR0aGF0LndyYXBwZXJPZmZzZXRUb3AgPSAtb2Zmc2V0LnRvcDtcblxuXHRcdC8vIFByZXBhcmUgc25hcFxuXHRcdGlmICh0eXBlb2YgdGhhdC5vcHRpb25zLnNuYXAgPT0gJ3N0cmluZycpIHtcblx0XHRcdHRoYXQucGFnZXNYID0gW107XG5cdFx0XHR0aGF0LnBhZ2VzWSA9IFtdO1xuXHRcdFx0ZWxzID0gdGhhdC5zY3JvbGxlci5xdWVyeVNlbGVjdG9yQWxsKHRoYXQub3B0aW9ucy5zbmFwKTtcblx0XHRcdGZvciAoaT0wLCBsPWVscy5sZW5ndGg7IGk8bDsgaSsrKSB7XG5cdFx0XHRcdHBvcyA9IHRoYXQuX29mZnNldChlbHNbaV0pO1xuXHRcdFx0XHRwb3MubGVmdCArPSB0aGF0LndyYXBwZXJPZmZzZXRMZWZ0O1xuXHRcdFx0XHRwb3MudG9wICs9IHRoYXQud3JhcHBlck9mZnNldFRvcDtcblx0XHRcdFx0dGhhdC5wYWdlc1hbaV0gPSBwb3MubGVmdCA8IHRoYXQubWF4U2Nyb2xsWCA/IHRoYXQubWF4U2Nyb2xsWCA6IHBvcy5sZWZ0ICogdGhhdC5zY2FsZTtcblx0XHRcdFx0dGhhdC5wYWdlc1lbaV0gPSBwb3MudG9wIDwgdGhhdC5tYXhTY3JvbGxZID8gdGhhdC5tYXhTY3JvbGxZIDogcG9zLnRvcCAqIHRoYXQuc2NhbGU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0aGF0Lm9wdGlvbnMuc25hcCkge1xuXHRcdFx0dGhhdC5wYWdlc1ggPSBbXTtcblx0XHRcdHdoaWxlIChwb3MgPj0gdGhhdC5tYXhTY3JvbGxYKSB7XG5cdFx0XHRcdHRoYXQucGFnZXNYW3BhZ2VdID0gcG9zO1xuXHRcdFx0XHRwb3MgPSBwb3MgLSB0aGF0LndyYXBwZXJXO1xuXHRcdFx0XHRwYWdlKys7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhhdC5tYXhTY3JvbGxYJXRoYXQud3JhcHBlclcpIHRoYXQucGFnZXNYW3RoYXQucGFnZXNYLmxlbmd0aF0gPSB0aGF0Lm1heFNjcm9sbFggLSB0aGF0LnBhZ2VzWFt0aGF0LnBhZ2VzWC5sZW5ndGgtMV0gKyB0aGF0LnBhZ2VzWFt0aGF0LnBhZ2VzWC5sZW5ndGgtMV07XG5cblx0XHRcdHBvcyA9IDA7XG5cdFx0XHRwYWdlID0gMDtcblx0XHRcdHRoYXQucGFnZXNZID0gW107XG5cdFx0XHR3aGlsZSAocG9zID49IHRoYXQubWF4U2Nyb2xsWSkge1xuXHRcdFx0XHR0aGF0LnBhZ2VzWVtwYWdlXSA9IHBvcztcblx0XHRcdFx0cG9zID0gcG9zIC0gdGhhdC53cmFwcGVySDtcblx0XHRcdFx0cGFnZSsrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoYXQubWF4U2Nyb2xsWSV0aGF0LndyYXBwZXJIKSB0aGF0LnBhZ2VzWVt0aGF0LnBhZ2VzWS5sZW5ndGhdID0gdGhhdC5tYXhTY3JvbGxZIC0gdGhhdC5wYWdlc1lbdGhhdC5wYWdlc1kubGVuZ3RoLTFdICsgdGhhdC5wYWdlc1lbdGhhdC5wYWdlc1kubGVuZ3RoLTFdO1xuXHRcdH1cblxuXHRcdC8vIFByZXBhcmUgdGhlIHNjcm9sbGJhcnNcblx0XHR0aGF0Ll9zY3JvbGxiYXIoJ2gnKTtcblx0XHR0aGF0Ll9zY3JvbGxiYXIoJ3YnKTtcblxuXHRcdGlmICghdGhhdC56b29tZWQpIHtcblx0XHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvbkR1cmF0aW9uXSA9ICcwJztcblx0XHRcdHRoYXQuX3Jlc2V0UG9zKDQwMCk7XG5cdFx0fVxuXHR9LFxuXG5cdHNjcm9sbFRvOiBmdW5jdGlvbiAoeCwgeSwgdGltZSwgcmVsYXRpdmUpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRzdGVwID0geCxcblx0XHRcdGksIGw7XG5cblx0XHR0aGF0LnN0b3AoKTtcblxuXHRcdGlmICghc3RlcC5sZW5ndGgpIHN0ZXAgPSBbeyB4OiB4LCB5OiB5LCB0aW1lOiB0aW1lLCByZWxhdGl2ZTogcmVsYXRpdmUgfV07XG5cdFx0XG5cdFx0Zm9yIChpPTAsIGw9c3RlcC5sZW5ndGg7IGk8bDsgaSsrKSB7XG5cdFx0XHRpZiAoc3RlcFtpXS5yZWxhdGl2ZSkgeyBzdGVwW2ldLnggPSB0aGF0LnggLSBzdGVwW2ldLng7IHN0ZXBbaV0ueSA9IHRoYXQueSAtIHN0ZXBbaV0ueTsgfVxuXHRcdFx0dGhhdC5zdGVwcy5wdXNoKHsgeDogc3RlcFtpXS54LCB5OiBzdGVwW2ldLnksIHRpbWU6IHN0ZXBbaV0udGltZSB8fCAwIH0pO1xuXHRcdH1cblxuXHRcdHRoYXQuX3N0YXJ0QW5pKCk7XG5cdH0sXG5cblx0c2Nyb2xsVG9FbGVtZW50OiBmdW5jdGlvbiAoZWwsIHRpbWUpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsIHBvcztcblx0XHRlbCA9IGVsLm5vZGVUeXBlID8gZWwgOiB0aGF0LnNjcm9sbGVyLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuXHRcdGlmICghZWwpIHJldHVybjtcblxuXHRcdHBvcyA9IHRoYXQuX29mZnNldChlbCk7XG5cdFx0cG9zLmxlZnQgKz0gdGhhdC53cmFwcGVyT2Zmc2V0TGVmdDtcblx0XHRwb3MudG9wICs9IHRoYXQud3JhcHBlck9mZnNldFRvcDtcblxuXHRcdHBvcy5sZWZ0ID0gcG9zLmxlZnQgPiAwID8gMCA6IHBvcy5sZWZ0IDwgdGhhdC5tYXhTY3JvbGxYID8gdGhhdC5tYXhTY3JvbGxYIDogcG9zLmxlZnQ7XG5cdFx0cG9zLnRvcCA9IHBvcy50b3AgPiB0aGF0Lm1pblNjcm9sbFkgPyB0aGF0Lm1pblNjcm9sbFkgOiBwb3MudG9wIDwgdGhhdC5tYXhTY3JvbGxZID8gdGhhdC5tYXhTY3JvbGxZIDogcG9zLnRvcDtcblx0XHR0aW1lID0gdGltZSA9PT0gdW5kZWZpbmVkID8gbS5tYXgobS5hYnMocG9zLmxlZnQpKjIsIG0uYWJzKHBvcy50b3ApKjIpIDogdGltZTtcblxuXHRcdHRoYXQuc2Nyb2xsVG8ocG9zLmxlZnQsIHBvcy50b3AsIHRpbWUpO1xuXHR9LFxuXG5cdHNjcm9sbFRvUGFnZTogZnVuY3Rpb24gKHBhZ2VYLCBwYWdlWSwgdGltZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcywgeCwgeTtcblx0XHRcblx0XHR0aW1lID0gdGltZSA9PT0gdW5kZWZpbmVkID8gNDAwIDogdGltZTtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25TY3JvbGxTdGFydCkgdGhhdC5vcHRpb25zLm9uU2Nyb2xsU3RhcnQuY2FsbCh0aGF0KTtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuc25hcCkge1xuXHRcdFx0cGFnZVggPSBwYWdlWCA9PSAnbmV4dCcgPyB0aGF0LmN1cnJQYWdlWCsxIDogcGFnZVggPT0gJ3ByZXYnID8gdGhhdC5jdXJyUGFnZVgtMSA6IHBhZ2VYO1xuXHRcdFx0cGFnZVkgPSBwYWdlWSA9PSAnbmV4dCcgPyB0aGF0LmN1cnJQYWdlWSsxIDogcGFnZVkgPT0gJ3ByZXYnID8gdGhhdC5jdXJyUGFnZVktMSA6IHBhZ2VZO1xuXG5cdFx0XHRwYWdlWCA9IHBhZ2VYIDwgMCA/IDAgOiBwYWdlWCA+IHRoYXQucGFnZXNYLmxlbmd0aC0xID8gdGhhdC5wYWdlc1gubGVuZ3RoLTEgOiBwYWdlWDtcblx0XHRcdHBhZ2VZID0gcGFnZVkgPCAwID8gMCA6IHBhZ2VZID4gdGhhdC5wYWdlc1kubGVuZ3RoLTEgPyB0aGF0LnBhZ2VzWS5sZW5ndGgtMSA6IHBhZ2VZO1xuXG5cdFx0XHR0aGF0LmN1cnJQYWdlWCA9IHBhZ2VYO1xuXHRcdFx0dGhhdC5jdXJyUGFnZVkgPSBwYWdlWTtcblx0XHRcdHggPSB0aGF0LnBhZ2VzWFtwYWdlWF07XG5cdFx0XHR5ID0gdGhhdC5wYWdlc1lbcGFnZVldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR4ID0gLXRoYXQud3JhcHBlclcgKiBwYWdlWDtcblx0XHRcdHkgPSAtdGhhdC53cmFwcGVySCAqIHBhZ2VZO1xuXHRcdFx0aWYgKHggPCB0aGF0Lm1heFNjcm9sbFgpIHggPSB0aGF0Lm1heFNjcm9sbFg7XG5cdFx0XHRpZiAoeSA8IHRoYXQubWF4U2Nyb2xsWSkgeSA9IHRoYXQubWF4U2Nyb2xsWTtcblx0XHR9XG5cblx0XHR0aGF0LnNjcm9sbFRvKHgsIHksIHRpbWUpO1xuXHR9LFxuXG5cdGRpc2FibGU6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLnN0b3AoKTtcblx0XHR0aGlzLl9yZXNldFBvcygwKTtcblx0XHR0aGlzLmVuYWJsZWQgPSBmYWxzZTtcblxuXHRcdC8vIElmIGRpc2FibGVkIGFmdGVyIHRvdWNoc3RhcnQgd2UgbWFrZSBzdXJlIHRoYXQgdGhlcmUgYXJlIG5vIGxlZnQgb3ZlciBldmVudHNcblx0XHR0aGlzLl91bmJpbmQoTU9WRV9FViwgd2luZG93KTtcblx0XHR0aGlzLl91bmJpbmQoRU5EX0VWLCB3aW5kb3cpO1xuXHRcdHRoaXMuX3VuYmluZChDQU5DRUxfRVYsIHdpbmRvdyk7XG5cdH0sXG5cdFxuXHRlbmFibGU6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXHR9LFxuXHRcblx0c3RvcDogZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbikgdGhpcy5fdW5iaW5kKFRSTkVORF9FVik7XG5cdFx0ZWxzZSBjYW5jZWxGcmFtZSh0aGlzLmFuaVRpbWUpO1xuXHRcdHRoaXMuc3RlcHMgPSBbXTtcblx0XHR0aGlzLm1vdmVkID0gZmFsc2U7XG5cdFx0dGhpcy5hbmltYXRpbmcgPSBmYWxzZTtcblx0fSxcblx0XG5cdHpvb206IGZ1bmN0aW9uICh4LCB5LCBzY2FsZSwgdGltZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHJlbFNjYWxlID0gc2NhbGUgLyB0aGF0LnNjYWxlO1xuXG5cdFx0aWYgKCF0aGF0Lm9wdGlvbnMudXNlVHJhbnNmb3JtKSByZXR1cm47XG5cblx0XHR0aGF0Lnpvb21lZCA9IHRydWU7XG5cdFx0dGltZSA9IHRpbWUgPT09IHVuZGVmaW5lZCA/IDIwMCA6IHRpbWU7XG5cdFx0eCA9IHggLSB0aGF0LndyYXBwZXJPZmZzZXRMZWZ0IC0gdGhhdC54O1xuXHRcdHkgPSB5IC0gdGhhdC53cmFwcGVyT2Zmc2V0VG9wIC0gdGhhdC55O1xuXHRcdHRoYXQueCA9IHggLSB4ICogcmVsU2NhbGUgKyB0aGF0Lng7XG5cdFx0dGhhdC55ID0geSAtIHkgKiByZWxTY2FsZSArIHRoYXQueTtcblxuXHRcdHRoYXQuc2NhbGUgPSBzY2FsZTtcblx0XHR0aGF0LnJlZnJlc2goKTtcblxuXHRcdHRoYXQueCA9IHRoYXQueCA+IDAgPyAwIDogdGhhdC54IDwgdGhhdC5tYXhTY3JvbGxYID8gdGhhdC5tYXhTY3JvbGxYIDogdGhhdC54O1xuXHRcdHRoYXQueSA9IHRoYXQueSA+IHRoYXQubWluU2Nyb2xsWSA/IHRoYXQubWluU2Nyb2xsWSA6IHRoYXQueSA8IHRoYXQubWF4U2Nyb2xsWSA/IHRoYXQubWF4U2Nyb2xsWSA6IHRoYXQueTtcblxuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWUgKyAnbXMnO1xuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoJyArIHRoYXQueCArICdweCwnICsgdGhhdC55ICsgJ3B4KSBzY2FsZSgnICsgc2NhbGUgKyAnKScgKyB0cmFuc2xhdGVaO1xuXHRcdHRoYXQuem9vbWVkID0gZmFsc2U7XG5cdH0sXG5cdFxuXHRpc1JlYWR5OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICF0aGlzLm1vdmVkICYmICF0aGlzLnpvb21lZCAmJiAhdGhpcy5hbmltYXRpbmc7XG5cdH1cbn07XG5cbmZ1bmN0aW9uIHByZWZpeFN0eWxlIChzdHlsZSkge1xuXHRpZiAoIHZlbmRvciA9PT0gJycgKSByZXR1cm4gc3R5bGU7XG5cblx0c3R5bGUgPSBzdHlsZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlLnN1YnN0cigxKTtcblx0cmV0dXJuIHZlbmRvciArIHN0eWxlO1xufVxuXG5kdW1teVN0eWxlID0gbnVsbDtcdC8vIGZvciB0aGUgc2FrZSBvZiBpdFxuXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSBleHBvcnRzLmlTY3JvbGwgPSBpU2Nyb2xsO1xuZWxzZSB3aW5kb3cuaVNjcm9sbCA9IGlTY3JvbGw7XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQpO1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2pzL2lzY3JvbGwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSA1IDExIDE4XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 16:
/***/ function(module, exports) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/* Zepto 1.1.6 - zepto ajax event data form touch fx fx_methods - zeptojs.com/license */\nvar Zepto=function(){function L(t){return null==t?String(t):j[S.call(t)]||\"object\"}function A(t){return\"function\"==L(t)}function Z(t){return null!=t&&t==t.window}function $(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function R(t){return\"object\"==L(t)}function k(t){return R(t)&&!Z(t)&&Object.getPrototypeOf(t)==Object.prototype}function z(t){return\"number\"==typeof t.length}function F(t){return a.call(t,function(t){return null!=t})}function _(t){return t.length>0?n.fn.concat.apply([],t):t}function I(t){return t.replace(/::/g,\"/\").replace(/([A-Z]+)([A-Z][a-z])/g,\"$1_$2\").replace(/([a-z\\d])([A-Z])/g,\"$1_$2\").replace(/_/g,\"-\").toLowerCase()}function q(t){return t in c?c[t]:c[t]=new RegExp(\"(^|\\\\s)\"+t+\"(\\\\s|$)\")}function H(t,e){return\"number\"!=typeof e||l[I(t)]?e:e+\"px\"}function U(t){var e,n;return f[t]||(e=u.createElement(t),u.body.appendChild(e),n=getComputedStyle(e,\"\").getPropertyValue(\"display\"),e.parentNode.removeChild(e),\"none\"==n&&(n=\"block\"),f[t]=n),f[t]}function X(t){return\"children\"in t?s.call(t.children):n.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function V(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||\"\"}function B(n,i,r){for(e in i)r&&(k(i[e])||D(i[e]))?(k(i[e])&&!k(n[e])&&(n[e]={}),D(i[e])&&!D(n[e])&&(n[e]=[]),B(n[e],i[e],r)):i[e]!==t&&(n[e]=i[e])}function Y(t,e){return null==e?n(t):n(t).filter(e)}function J(t,e,n,i){return A(e)?e.call(t,n,i):e}function W(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function G(e,n){var i=e.className||\"\",r=i&&i.baseVal!==t;return n===t?r?i.baseVal:i:void(r?i.baseVal=n:e.className=n)}function K(t){try{return t?\"true\"==t||(\"false\"==t?!1:\"null\"==t?null:+t+\"\"==t?+t:/^[\\[\\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function Q(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)Q(t.childNodes[n],e)}var t,e,n,i,P,N,r=[],o=r.concat,a=r.filter,s=r.slice,u=window.document,f={},c={},l={\"column-count\":1,columns:1,\"font-weight\":1,\"line-height\":1,opacity:1,\"z-index\":1,zoom:1},h=/^\\s*<(\\w+|!)[^>]*>/,p=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,d=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,m=/^(?:body|html)$/i,g=/([A-Z])/g,v=[\"val\",\"css\",\"html\",\"text\",\"data\",\"width\",\"height\",\"offset\"],y=[\"after\",\"prepend\",\"before\",\"append\"],x=u.createElement(\"table\"),w=u.createElement(\"tr\"),b={tr:u.createElement(\"tbody\"),tbody:x,thead:x,tfoot:x,td:w,th:w,\"*\":u.createElement(\"div\")},E=/complete|loaded|interactive/,T=/^[\\w-]*$/,j={},S=j.toString,C={},O=u.createElement(\"div\"),M={tabindex:\"tabIndex\",readonly:\"readOnly\",\"for\":\"htmlFor\",\"class\":\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},D=Array.isArray||function(t){return t instanceof Array};return C.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=O).appendChild(t),i=~C.qsa(r,e).indexOf(t),o&&O.removeChild(t),i},P=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():\"\"})},N=function(t){return a.call(t,function(e,n){return t.indexOf(e)==n})},C.fragment=function(e,i,r){var o,a,f;return p.test(e)&&(o=n(u.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(d,\"<$1></$2>\")),i===t&&(i=h.test(e)&&RegExp.$1),i in b||(i=\"*\"),f=b[i],f.innerHTML=\"\"+e,o=n.each(s.call(f.childNodes),function(){f.removeChild(this)})),k(r)&&(a=n(o),n.each(r,function(t,e){v.indexOf(t)>-1?a[t](e):a.attr(t,e)})),o},C.Z=function(t,e){return new V(t,e)},C.isZ=function(t){return t instanceof C.Z},C.init=function(e,i){var r;if(!e)return C.Z();if(\"string\"==typeof e)if(e=e.trim(),\"<\"==e[0]&&h.test(e))r=C.fragment(e,RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(u,e)}else{if(A(e))return n(u).ready(e);if(C.isZ(e))return e;if(D(e))r=F(e);else if(R(e))r=[e],e=null;else if(h.test(e))r=C.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(u,e)}}return C.Z(r,e)},n=function(t,e){return C.init(t,e)},n.extend=function(t){var e,n=s.call(arguments,1);return\"boolean\"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){B(t,n,e)}),t},C.qsa=function(t,e){var n,i=\"#\"==e[0],r=!i&&\".\"==e[0],o=i||r?e.slice(1):e,a=T.test(o);return t.getElementById&&a&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:s.call(a&&!i&&t.getElementsByClassName?r?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=u.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=L,n.isFunction=A,n.isWindow=Z,n.isArray=D,n.isPlainObject=k,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return r.indexOf.call(e,t,n)},n.camelCase=P,n.trim=function(t){return null==t?\"\":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(t,e){var n,r,o,i=[];if(z(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&i.push(n);else for(o in t)n=e(t[o],o),null!=n&&i.push(n);return _(i)},n.each=function(t,e){var n,i;if(z(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},n.grep=function(t,e){return a.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(t,e){j[\"[object \"+e+\"]\"]=e.toLowerCase()}),n.fn={constructor:C.Z,length:0,forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,splice:r.splice,indexOf:r.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=C.isZ(e)?e.toArray():e;return o.apply(C.isZ(this)?this.toArray():this,n)},map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(s.apply(this,arguments))},ready:function(t){return E.test(u.readyState)&&u.body?t(n):u.addEventListener(\"DOMContentLoaded\",function(){t(n)},!1),this},get:function(e){return e===t?s.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return r.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return A(t)?this.not(this.not(t)):n(a.call(this,function(e){return C.matches(e,t)}))},add:function(t,e){return n(N(this.concat(n(t,e))))},is:function(t){return this.length>0&&C.matches(this[0],t)},not:function(e){var i=[];if(A(e)&&e.call!==t)this.each(function(t){e.call(this,t)||i.push(this)});else{var r=\"string\"==typeof e?this.filter(e):z(e)&&A(e.item)?s.call(e):n(e);this.forEach(function(t){r.indexOf(t)<0&&i.push(t)})}return n(i)},has:function(t){return this.filter(function(){return R(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!R(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!R(t)?t:n(t)},find:function(t){var e,i=this;return e=t?\"object\"==typeof t?n(t).filter(function(){var t=this;return r.some.call(i,function(e){return n.contains(e,t)})}):1==this.length?n(C.qsa(this[0],t)):this.map(function(){return C.qsa(this,t)}):n()},closest:function(t,e){var i=this[0],r=!1;for(\"object\"==typeof t&&(r=n(t));i&&!(r?r.indexOf(i)>=0:C.matches(i,t));)i=i!==e&&!$(i)&&i.parentNode;return n(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=n.map(i,function(t){return(t=t.parentNode)&&!$(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return Y(e,t)},parent:function(t){return Y(N(this.pluck(\"parentNode\")),t)},children:function(t){return Y(this.map(function(){return X(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||s.call(this.childNodes)})},siblings:function(t){return Y(this.map(function(t,e){return a.call(X(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=\"\"})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){\"none\"==this.style.display&&(this.style.display=\"\"),\"none\"==getComputedStyle(this,\"\").getPropertyValue(\"display\")&&(this.style.display=U(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=A(t);if(this[0]&&!e)var i=n(t).get(0),r=i.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var e;(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=A(t);return this.each(function(i){var r=n(this),o=r.contents(),a=e?t.call(this,i):t;o.length?o.wrapAll(a):r.append(a)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css(\"display\",\"none\")},toggle:function(e){return this.each(function(){var i=n(this);(e===t?\"none\"==i.css(\"display\"):e)?i.show():i.hide()})},prev:function(t){return n(this.pluck(\"previousElementSibling\")).filter(t||\"*\")},next:function(t){return n(this.pluck(\"nextElementSibling\")).filter(t||\"*\")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;n(this).empty().append(J(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=J(this,t,e,this.textContent);this.textContent=null==n?\"\":\"\"+n}):0 in this?this[0].textContent:null},attr:function(n,i){var r;return\"string\"!=typeof n||1 in arguments?this.each(function(t){if(1===this.nodeType)if(R(n))for(e in n)W(this,e,n[e]);else W(this,n,J(this,i,t,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:t},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(\" \").forEach(function(t){W(this,t)},this)})},prop:function(t,e){return t=M[t]||t,1 in arguments?this.each(function(n){this[t]=J(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(e,n){var i=\"data-\"+e.replace(g,\"-$1\").toLowerCase(),r=1 in arguments?this.attr(i,n):this.attr(i);return null!==r?K(r):t},val:function(t){return 0 in arguments?this.each(function(e){this.value=J(this,t,e,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find(\"option\").filter(function(){return this.selected}).pluck(\"value\"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=n(this),r=J(this,t,e,i.offset()),o=i.offsetParent().offset(),a={top:r.top-o.top,left:r.left-o.left};\"static\"==i.css(\"position\")&&(a.position=\"relative\"),i.css(a)});if(!this.length)return null;if(!n.contains(u.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,i){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,\"\"),\"string\"==typeof t)return o.style[P(t)]||r.getPropertyValue(t);if(D(t)){var a={};return n.each(t,function(t,e){a[e]=o.style[P(e)]||r.getPropertyValue(e)}),a}}var s=\"\";if(\"string\"==L(t))i||0===i?s=I(t)+\":\"+H(t,i):this.each(function(){this.style.removeProperty(I(t))});else for(e in t)t[e]||0===t[e]?s+=I(e)+\":\"+H(e,t[e])+\";\":this.each(function(){this.style.removeProperty(I(e))});return this.each(function(){this.style.cssText+=\";\"+s})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?r.some.call(this,function(t){return this.test(G(t))},q(t)):!1},addClass:function(t){return t?this.each(function(e){if(\"className\"in this){i=[];var r=G(this),o=J(this,t,e,r);o.split(/\\s+/g).forEach(function(t){n(this).hasClass(t)||i.push(t)},this),i.length&&G(this,r+(r?\" \":\"\")+i.join(\" \"))}}):this},removeClass:function(e){return this.each(function(n){if(\"className\"in this){if(e===t)return G(this,\"\");i=G(this),J(this,e,n,i).split(/\\s+/g).forEach(function(t){i=i.replace(q(t),\" \")}),G(this,i.trim())}})},toggleClass:function(e,i){return e?this.each(function(r){var o=n(this),a=J(this,e,r,G(this));a.split(/\\s+/g).forEach(function(e){(i===t?!o.hasClass(e):i)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n=\"scrollTop\"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n=\"scrollLeft\"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),r=m.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(n(t).css(\"margin-top\"))||0,i.left-=parseFloat(n(t).css(\"margin-left\"))||0,r.top+=parseFloat(n(e[0]).css(\"border-top-width\"))||0,r.left+=parseFloat(n(e[0]).css(\"border-left-width\"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||u.body;t&&!m.test(t.nodeName)&&\"static\"==n(t).css(\"position\");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,[\"width\",\"height\"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(r){var o,a=this[0];return r===t?Z(a)?a[\"inner\"+i]:$(a)?a.documentElement[\"scroll\"+i]:(o=this.offset())&&o[e]:this.each(function(t){a=n(this),a.css(e,J(this,r,t,a[e]()))})}}),y.forEach(function(t,e){var i=e%2;n.fn[t]=function(){var t,o,r=n.map(arguments,function(e){return t=L(e),\"object\"==t||\"array\"==t||null==e?e:C.fragment(e)}),a=this.length>1;return r.length<1?this:this.each(function(t,s){o=i?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null;var f=n.contains(u.documentElement,o);r.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return n(t).remove();o.insertBefore(t,s),f&&Q(t,function(t){null==t.nodeName||\"SCRIPT\"!==t.nodeName.toUpperCase()||t.type&&\"text/javascript\"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[i?t+\"To\":\"insert\"+(e?\"Before\":\"After\")]=function(e){return n(e)[t](this),this}}),C.Z.prototype=V.prototype=n.fn,C.uniq=N,C.deserializeValue=K,n.zepto=C,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function h(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function p(t,e,i,r){return t.global?h(e||n,i,r):void 0}function d(e){e.global&&0===t.active++&&p(e,null,\"ajaxStart\")}function m(e){e.global&&!--t.active&&p(e,null,\"ajaxStop\")}function g(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||p(e,n,\"ajaxBeforeSend\",[t,e])===!1?!1:void p(e,n,\"ajaxSend\",[t,e])}function v(t,e,n,i){var r=n.context,o=\"success\";n.success.call(r,t,o,e),i&&i.resolveWith(r,[t,o,e]),p(n,r,\"ajaxSuccess\",[e,n,t]),x(o,e,n)}function y(t,e,n,i,r){var o=i.context;i.error.call(o,n,e,t),r&&r.rejectWith(o,[n,e,t]),p(i,o,\"ajaxError\",[n,i,t||e]),x(e,n,i)}function x(t,e,n){var i=n.context;n.complete.call(i,e,t),p(n,i,\"ajaxComplete\",[e,n]),m(n)}function w(){}function b(t){return t&&(t=t.split(\";\",2)[0]),t&&(t==f?\"html\":t==u?\"json\":a.test(t)?\"script\":s.test(t)&&\"xml\")||\"text\"}function E(t,e){return\"\"==e?t:(t+\"&\"+e).replace(/[&?]{1,2}/,\"?\")}function T(e){e.processData&&e.data&&\"string\"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&\"GET\"!=e.type.toUpperCase()||(e.url=E(e.url,e.data),e.data=void 0)}function j(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function C(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),r&&(n=i?r:r+\"[\"+(s||\"object\"==o||\"array\"==o?n:\"\")+\"]\"),!r&&a?e.add(u.name,u.value):\"array\"==o||!i&&\"object\"==o?C(e,u,i,n):e.add(n,u)})}var i,r,e=0,n=window.document,o=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,a=/^(?:text|application)\\/javascript/i,s=/^(?:text|application)\\/xml/i,u=\"application/json\",f=\"text/html\",c=/^\\s*$/,l=n.createElement(\"a\");l.href=window.location.href,t.active=0,t.ajaxJSONP=function(i,r){if(!(\"type\"in i))return t.ajax(i);var f,h,o=i.jsonpCallback,a=(t.isFunction(o)?o():o)||\"jsonp\"+ ++e,s=n.createElement(\"script\"),u=window[a],c=function(e){t(s).triggerHandler(\"error\",e||\"abort\")},l={abort:c};return r&&r.promise(l),t(s).on(\"load error\",function(e,n){clearTimeout(h),t(s).off().remove(),\"error\"!=e.type&&f?v(f[0],l,i,r):y(null,n||\"error\",l,i,r),window[a]=u,f&&t.isFunction(u)&&u(f[0]),u=f=void 0}),g(l,i)===!1?(c(\"abort\"),l):(window[a]=function(){f=arguments},s.src=i.url.replace(/\\?(.+)=\\?/,\"?$1=\"+a),n.head.appendChild(s),i.timeout>0&&(h=setTimeout(function(){c(\"timeout\")},i.timeout)),l)},t.ajaxSettings={type:\"GET\",beforeSend:w,success:w,error:w,complete:w,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:\"text/javascript, application/javascript, application/x-javascript\",json:u,xml:\"application/xml, text/xml\",html:f,text:\"text/plain\"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var s,u,o=t.extend({},e||{}),a=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===o[i]&&(o[i]=t.ajaxSettings[i]);d(o),o.crossDomain||(s=n.createElement(\"a\"),s.href=o.url,s.href=s.href,o.crossDomain=l.protocol+\"//\"+l.host!=s.protocol+\"//\"+s.host),o.url||(o.url=window.location.toString()),(u=o.url.indexOf(\"#\"))>-1&&(o.url=o.url.slice(0,u)),T(o);var f=o.dataType,h=/\\?.+=\\?/.test(o.url);if(h&&(f=\"jsonp\"),o.cache!==!1&&(e&&e.cache===!0||\"script\"!=f&&\"jsonp\"!=f)||(o.url=E(o.url,\"_=\"+Date.now())),\"jsonp\"==f)return h||(o.url=E(o.url,o.jsonp?o.jsonp+\"=?\":o.jsonp===!1?\"\":\"callback=?\")),t.ajaxJSONP(o,a);var P,p=o.accepts[f],m={},x=function(t,e){m[t.toLowerCase()]=[t,e]},j=/^([\\w-]+:)\\/\\//.test(o.url)?RegExp.$1:window.location.protocol,S=o.xhr(),C=S.setRequestHeader;if(a&&a.promise(S),o.crossDomain||x(\"X-Requested-With\",\"XMLHttpRequest\"),x(\"Accept\",p||\"*/*\"),(p=o.mimeType||p)&&(p.indexOf(\",\")>-1&&(p=p.split(\",\",2)[0]),S.overrideMimeType&&S.overrideMimeType(p)),(o.contentType||o.contentType!==!1&&o.data&&\"GET\"!=o.type.toUpperCase())&&x(\"Content-Type\",o.contentType||\"application/x-www-form-urlencoded\"),o.headers)for(r in o.headers)x(r,o.headers[r]);if(S.setRequestHeader=x,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=w,clearTimeout(P);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&\"file:\"==j){f=f||b(o.mimeType||S.getResponseHeader(\"content-type\")),e=S.responseText;try{\"script\"==f?(1,eval)(e):\"xml\"==f?e=S.responseXML:\"json\"==f&&(e=c.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?y(n,\"parsererror\",S,o,a):v(e,S,o,a)}else y(S.statusText||null,S.status?\"error\":\"abort\",S,o,a)}},g(S,o)===!1)return S.abort(),y(null,\"abort\",S,o,a),S;if(o.xhrFields)for(r in o.xhrFields)S[r]=o.xhrFields[r];var N=\"async\"in o?o.async:!0;S.open(o.type,o.url,N,o.username,o.password);for(r in m)C.apply(S,m[r]);return o.timeout>0&&(P=setTimeout(function(){S.onreadystatechange=w,S.abort(),y(null,\"timeout\",S,o,a)},o.timeout)),S.send(o.data?o.data:null),S},t.get=function(){return t.ajax(j.apply(null,arguments))},t.post=function(){var e=j.apply(null,arguments);return e.type=\"POST\",t.ajax(e)},t.getJSON=function(){var e=j.apply(null,arguments);return e.dataType=\"json\",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var s,r=this,a=e.split(/\\s/),u=j(e,n,i),f=u.success;return a.length>1&&(u.url=a[0],s=a[1]),u.success=function(e){r.html(s?t(\"<div>\").html(e.replace(o,\"\")).find(s):e),f&&f.apply(r,arguments)},t.ajax(u),this};var S=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=\"\"),this.push(S(e)+\"=\"+S(n))},C(i,e,n),i.join(\"&\").replace(/%20/g,\"+\")}}(Zepto),function(t){function l(t){return t._zid||(t._zid=e++)}function h(t,e,n,i){if(e=p(e),e.ns)var r=d(e.ns);return(a[l(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||r.test(t.ns))&&(!n||l(t.fn)===l(n))&&(!i||t.sel==i)})}function p(t){var e=(\"\"+t).split(\".\");return{e:e[0],ns:e.slice(1).sort().join(\" \")}}function d(t){return new RegExp(\"(?:^| )\"+t.replace(\" \",\" .* ?\")+\"(?: |$)\")}function m(t,e){return t.del&&!u&&t.e in f||!!e}function g(t){return c[t]||u&&f[t]||t}function v(e,i,r,o,s,u,f){var h=l(e),d=a[h]||(a[h]=[]);i.split(/\\s/).forEach(function(i){if(\"ready\"==i)return t(document).ready(r);var a=p(i);a.fn=r,a.sel=s,a.e in c&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=u;var l=u||r;a.proxy=function(t){if(t=T(t),!t.isImmediatePropagationStopped()){t.data=o;var i=l.apply(e,t._args==n?[t]:[t].concat(t._args));return i===!1&&(t.preventDefault(),t.stopPropagation()),i}},a.i=d.length,d.push(a),\"addEventListener\"in e&&e.addEventListener(g(a.e),a.proxy,m(a,f))})}function y(t,e,n,i,r){var o=l(t);(e||\"\").split(/\\s/).forEach(function(e){h(t,e,n,i).forEach(function(e){delete a[o][e.i],\"removeEventListener\"in t&&t.removeEventListener(g(e.e),e.proxy,m(e,r))})})}function T(e,i){return(i||!e.isDefaultPrevented)&&(i||(i=e),t.each(E,function(t,n){var r=i[t];e[t]=function(){return this[n]=x,r&&r.apply(i,arguments)},e[n]=w}),(i.defaultPrevented!==n?i.defaultPrevented:\"returnValue\"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function j(t){var e,i={originalEvent:t};for(e in t)b.test(e)||t[e]===n||(i[e]=t[e]);return T(i,t)}var n,e=1,i=Array.prototype.slice,r=t.isFunction,o=function(t){return\"string\"==typeof t},a={},s={},u=\"onfocusin\"in window,f={focus:\"focusin\",blur:\"focusout\"},c={mouseenter:\"mouseover\",mouseleave:\"mouseout\"};s.click=s.mousedown=s.mouseup=s.mousemove=\"MouseEvents\",t.event={add:v,remove:y},t.proxy=function(e,n){var a=2 in arguments&&i.call(arguments,2);if(r(e)){var s=function(){return e.apply(n,a?a.concat(i.call(arguments)):arguments)};return s._zid=l(e),s}if(o(n))return a?(a.unshift(e[n],e),t.proxy.apply(null,a)):t.proxy(e[n],e);throw new TypeError(\"expected function\")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},w=function(){return!1},b=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:\"isDefaultPrevented\",stopImmediatePropagation:\"isImmediatePropagationStopped\",stopPropagation:\"isPropagationStopped\"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,a,s,u,f){var c,l,h=this;return e&&!o(e)?(t.each(e,function(t,e){h.on(t,a,s,e,f)}),h):(o(a)||r(u)||u===!1||(u=s,s=a,a=n),(u===n||s===!1)&&(u=s,s=n),u===!1&&(u=w),h.each(function(n,r){f&&(c=function(t){return y(r,t.type,u),u.apply(this,arguments)}),a&&(l=function(e){var n,o=t(e.target).closest(a,r).get(0);return o&&o!==r?(n=t.extend(j(e),{currentTarget:o,liveFired:r}),(c||u).apply(o,[n].concat(i.call(arguments,1)))):void 0}),v(r,e,u,s,a,l||c)}))},t.fn.off=function(e,i,a){var s=this;return e&&!o(e)?(t.each(e,function(t,e){s.off(t,i,e)}),s):(o(i)||r(a)||a===!1||(a=i,i=n),a===!1&&(a=w),s.each(function(){y(this,e,a,i)}))},t.fn.trigger=function(e,n){return e=o(e)||t.isPlainObject(e)?t.Event(e):T(e),e._args=n,this.each(function(){e.type in f&&\"function\"==typeof this[e.type]?this[e.type]():\"dispatchEvent\"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,r;return this.each(function(a,s){i=j(o(e)?t.Event(e):e),i._args=n,i.target=s,t.each(h(s,e.type||e),function(t,e){return r=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),r},\"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error\".split(\" \").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){o(t)||(e=t,t=e.type);var n=document.createEvent(s[t]||\"Events\"),i=!0;if(e)for(var r in e)\"bubbles\"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),T(n)}}(Zepto),function(t){function a(o,a){var u=o[r],f=u&&e[u];if(void 0===a)return f||s(o);if(f){if(a in f)return f[a];var c=i(a);if(c in f)return f[c]}return n.call(t(o),a)}function s(n,o,a){var s=n[r]||(n[r]=++t.uuid),f=e[s]||(e[s]=u(n));return void 0!==o&&(f[i(o)]=a),f}function u(e){var n={};return t.each(e.attributes||o,function(e,r){0==r.name.indexOf(\"data-\")&&(n[i(r.name.replace(\"data-\",\"\"))]=t.zepto.deserializeValue(r.value))}),n}var e={},n=t.fn.data,i=t.camelCase,r=t.expando=\"Zepto\"+ +new Date,o=[];t.fn.data=function(e,n){return void 0===n?t.isPlainObject(e)?this.each(function(n,i){t.each(e,function(t,e){s(i,t,e)})}):0 in this?a(this[0],e):void 0:this.each(function(){s(this,e,n)})},t.fn.removeData=function(n){return\"string\"==typeof n&&(n=n.split(/\\s+/)),this.each(function(){var o=this[r],a=o&&e[o];a&&t.each(n||a,function(t){delete a[n?i(this):t]})})},[\"remove\",\"empty\"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find(\"*\");return\"remove\"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&\"fieldset\"!=o.nodeName.toLowerCase()&&!o.disabled&&\"submit\"!=n&&\"reset\"!=n&&\"button\"!=n&&\"file\"!=n&&(\"radio\"!=n&&\"checkbox\"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+\"=\"+encodeURIComponent(e.value))}),t.join(\"&\")},t.fn.submit=function(e){if(0 in arguments)this.bind(\"submit\",e);else if(this.length){var n=t.Event(\"submit\");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){function u(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?\"Left\":\"Right\":n-i>0?\"Up\":\"Down\"}function f(){o=null,e.last&&(e.el.trigger(\"longTap\"),e={})}function c(){o&&clearTimeout(o),o=null}function l(){n&&clearTimeout(n),i&&clearTimeout(i),r&&clearTimeout(r),o&&clearTimeout(o),n=i=r=o=null,e={}}function h(t){return(\"touch\"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function p(t,e){return t.type==\"pointer\"+e||t.type.toLowerCase()==\"mspointer\"+e}var n,i,r,o,s,e={},a=750;t(document).ready(function(){var d,m,y,x,g=0,v=0;\"MSGesture\"in window&&(s=new MSGesture,s.target=document.body),t(document).bind(\"MSGestureEnd\",function(t){var n=t.velocityX>1?\"Right\":t.velocityX<-1?\"Left\":t.velocityY>1?\"Down\":t.velocityY<-1?\"Up\":null;n&&(e.el.trigger(\"swipe\"),e.el.trigger(\"swipe\"+n))}).on(\"touchstart MSPointerDown pointerdown\",function(i){(!(x=p(i,\"down\"))||h(i))&&(y=x?i:i.touches[0],i.touches&&1===i.touches.length&&e.x2&&(e.x2=void 0,e.y2=void 0),d=Date.now(),m=d-(e.last||d),e.el=t(\"tagName\"in y.target?y.target:y.target.parentNode),n&&clearTimeout(n),e.x1=y.pageX,e.y1=y.pageY,m>0&&250>=m&&(e.isDoubleTap=!0),e.last=d,o=setTimeout(f,a),s&&x&&s.addPointer(i.pointerId))}).on(\"touchmove MSPointerMove pointermove\",function(t){(!(x=p(t,\"move\"))||h(t))&&(y=x?t:t.touches[0],c(),e.x2=y.pageX,e.y2=y.pageY,g+=Math.abs(e.x1-e.x2),v+=Math.abs(e.y1-e.y2))}).on(\"touchend MSPointerUp pointerup\",function(o){(!(x=p(o,\"up\"))||h(o))&&(c(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?r=setTimeout(function(){e.el.trigger(\"swipe\"),e.el.trigger(\"swipe\"+u(e.x1,e.x2,e.y1,e.y2)),e={}},0):\"last\"in e&&(30>g&&30>v?i=setTimeout(function(){var i=t.Event(\"tap\");i.cancelTouch=l,e.el.trigger(i),e.isDoubleTap?(e.el&&e.el.trigger(\"doubleTap\"),e={}):n=setTimeout(function(){n=null,e.el&&e.el.trigger(\"singleTap\"),e={}},250)},0):e={}),g=v=0)}).on(\"touchcancel MSPointerCancel pointercancel\",l),t(window).on(\"scroll\",l)}),[\"swipe\",\"swipeLeft\",\"swipeRight\",\"swipeUp\",\"swipeDown\",\"doubleTap\",\"tap\",\"singleTap\",\"longTap\"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),function(t,e){function v(t){return t.replace(/([a-z])([A-Z])/,\"$1-$2\").toLowerCase()}function y(t){return i?i+t:t.toLowerCase()}var i,s,u,f,c,l,h,p,d,m,n=\"\",r={Webkit:\"webkit\",Moz:\"\",O:\"o\"},o=document.createElement(\"div\"),a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g={};t.each(r,function(t,r){return o.style[t+\"TransitionProperty\"]!==e?(n=\"-\"+t.toLowerCase()+\"-\",i=r,!1):void 0}),s=n+\"transform\",g[u=n+\"transition-property\"]=g[f=n+\"transition-duration\"]=g[l=n+\"transition-delay\"]=g[c=n+\"transition-timing-function\"]=g[h=n+\"animation-name\"]=g[p=n+\"animation-duration\"]=g[m=n+\"animation-delay\"]=g[d=n+\"animation-timing-function\"]=\"\",t.fx={off:i===e&&o.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:y(\"TransitionEnd\"),animationEnd:y(\"AnimationEnd\")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=(\"number\"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(n,i,r,o,y){var x,b,j,w={},E=\"\",T=this,S=t.fx.transitionEnd,C=!1;if(i===e&&(i=t.fx.speeds._default/1e3),y===e&&(y=0),t.fx.off&&(i=0),\"string\"==typeof n)w[h]=n,w[p]=i+\"s\",w[m]=y+\"s\",w[d]=r||\"linear\",S=t.fx.animationEnd;else{b=[];for(x in n)a.test(x)?E+=x+\"(\"+n[x]+\") \":(w[x]=n[x],b.push(v(x)));E&&(w[s]=E,b.push(s)),i>0&&\"object\"==typeof n&&(w[u]=b.join(\", \"),w[f]=i+\"s\",w[l]=y+\"s\",w[c]=r||\"linear\")}return j=function(e){if(\"undefined\"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(S,j)}else t(this).unbind(S,j);C=!0,t(this).css(g),o&&o.call(this)},i>0&&(this.bind(S,j),setTimeout(function(){C||j.call(T)},1e3*(i+y)+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=i&&setTimeout(function(){T.each(function(){j.call(this)})},0),this},o=null}(Zepto),function(t,e){function s(n,i,r,o,a){\"function\"!=typeof i||a||(a=i,i=e);var s={opacity:r};return o&&(s.scale=o,n.css(t.fx.cssPrefix+\"transform-origin\",\"0 0\")),n.animate(s,i,null,a)}function u(e,n,i,r){return s(e,n,0,i,function(){o.call(t(this)),r&&r.call(this)})}var n=window.document,r=(n.documentElement,t.fn.show),o=t.fn.hide,a=t.fn.toggle;t.fn.show=function(t,n){return r.call(this),t===e?t=0:this.css(\"opacity\",0),s(this,t,1,\"1,1\",n)},t.fn.hide=function(t,n){return t===e?o.call(this):u(this,t,\"0,0\",n)},t.fn.toggle=function(n,i){return n===e||\"boolean\"==typeof n?a.call(this,n):this.each(function(){var e=t(this);e[\"none\"==e.css(\"display\")?\"show\":\"hide\"](n,i)})},t.fn.fadeTo=function(t,e,n){return s(this,t,e,null,n)},t.fn.fadeIn=function(t,e){var n=this.css(\"opacity\");return n>0?this.css(\"opacity\",0):n=1,r.call(this).fadeTo(t,n,e)},t.fn.fadeOut=function(t,e){return u(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each(function(){var i=t(this);i[0==i.css(\"opacity\")||\"none\"==i.css(\"display\")?\"fadeIn\":\"fadeOut\"](e,n)})}}(Zepto);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvemVwdG8ubWluLmpzPzY0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixjQUFjLGdEQUFnRCxjQUFjLHVCQUF1QixjQUFjLDRCQUE0QixjQUFjLDRDQUE0QyxjQUFjLHFCQUFxQixjQUFjLCtEQUErRCxjQUFjLGdDQUFnQyxjQUFjLDRCQUE0QixlQUFlLEVBQUUsY0FBYyw0Q0FBNEMsY0FBYywwSUFBMEksY0FBYywwREFBMEQsZ0JBQWdCLDJDQUEyQyxjQUFjLFFBQVEsOEtBQThLLGNBQWMsdUVBQXVFLDhCQUE4QixFQUFFLGdCQUFnQixxQkFBcUIsUUFBUSxJQUFJLGlCQUFpQixrQ0FBa0Msa0JBQWtCLDZEQUE2RCxxRUFBcUUsZ0JBQWdCLG1DQUFtQyxvQkFBb0IsNEJBQTRCLGtCQUFrQixpREFBaUQsZ0JBQWdCLHlDQUF5Qyw2REFBNkQsY0FBYyxJQUFJLHFFQUFxRSwrQkFBK0IsU0FBUyxVQUFVLGdCQUFnQixLQUFLLGtDQUFrQyxJQUFJLHlCQUF5QiwyRUFBMkUsS0FBSyxJQUFJLHdGQUF3RixrVUFBa1UseUZBQXlGLGtEQUFrRCxrQkFBa0IsNkJBQTZCLHNRQUFzUSw4QkFBOEIsMkJBQTJCLCtCQUErQixtQ0FBbUMsMkZBQTJGLHdCQUF3QiwwQkFBMEIsOEVBQThFLGVBQWUseUNBQXlDLDRCQUE0QixFQUFFLGVBQWUsOEJBQThCLHVCQUF1QixFQUFFLDRCQUE0QixVQUFVLGlOQUFpTixvQkFBb0Isd0NBQXdDLG9DQUFvQyxLQUFLLG1CQUFtQixrQkFBa0IsbUJBQW1CLHdCQUF3QixzQkFBc0IsTUFBTSxtQkFBbUIsNEZBQTRGLEtBQUssNkJBQTZCLGFBQWEsS0FBSyw2QkFBNkIscUJBQXFCLGVBQWUsMEJBQTBCLDREQUE0RCxLQUFLLDZCQUE2QixjQUFjLGdCQUFnQixpQkFBaUIsbUJBQW1CLHNCQUFzQiw0QkFBNEIsbUVBQW1FLFNBQVMsSUFBSSxxQkFBcUIsa0VBQWtFLHNPQUFzTyxxREFBcUQsNEJBQTRCLGVBQWUsS0FBSyxvQkFBb0IsbUJBQW1CLFNBQVMsZ0dBQWdHLE1BQU0sb0JBQW9CLFNBQVMsMkJBQTJCLDZCQUE2QixrQ0FBa0MsZ0RBQWdELHNCQUFzQixVQUFVLG9CQUFvQixxQkFBcUIsZUFBZSxnQkFBZ0IsV0FBVyxtQ0FBbUMsK0NBQStDLFlBQVksc0JBQXNCLFFBQVEsU0FBUyxRQUFRLFdBQVcseUNBQXlDLHFEQUFxRCxTQUFTLHNCQUFzQixtQkFBbUIsdUlBQXVJLG9DQUFvQyxRQUFRLHVJQUF1SSxhQUFhLFFBQVEsbUJBQW1CLCtDQUErQyxrREFBa0QsaUJBQWlCLGtDQUFrQyxxQkFBcUIsR0FBRyxrQkFBa0Isa0NBQWtDLG1CQUFtQiwwRkFBMEYsS0FBSyxVQUFVLGlCQUFpQixxREFBcUQsb0JBQW9CLGtCQUFrQixpQkFBaUIsbUJBQW1CLG1CQUFtQiw0QkFBNEIseURBQXlELEVBQUUsa0JBQWtCLHVDQUF1QywwQkFBMEIsT0FBTyxvQkFBb0IsNERBQTRELHNCQUFzQixHQUFHLG1CQUFtQixpQ0FBaUMsZ0JBQWdCLDJDQUEyQyxpQkFBaUIsU0FBUywwQ0FBMEMsNkJBQTZCLEVBQUUsS0FBSyx1RUFBdUUseUJBQXlCLDBCQUEwQixFQUFFLFlBQVksaUJBQWlCLDhCQUE4QixzREFBc0QsRUFBRSxnQkFBZ0IsOENBQThDLGtCQUFrQixjQUFjLHVCQUF1QixpQkFBaUIsMEJBQTBCLHVCQUF1QixrQkFBa0IsYUFBYSxxREFBcUQsV0FBVyxpQ0FBaUMsdUJBQXVCLEVBQUUseURBQXlELHFCQUFxQixNQUFNLHVCQUF1QixtQkFBbUIsaUNBQWlDLHVDQUF1Qyw4QkFBOEIsWUFBWSxxQkFBcUIsb0JBQW9CLFdBQVcsdUJBQXVCLG1FQUFtRSxFQUFFLGNBQWMsb0JBQW9CLHdDQUF3QyxzQkFBc0IsNkJBQTZCLGVBQWUsS0FBSyxxQkFBcUIsMkJBQTJCLHFEQUFxRCxFQUFFLHNCQUFzQixnQ0FBZ0MsMENBQTBDLGFBQWEsRUFBRSxLQUFLLGtCQUFrQiw0QkFBNEIsa0JBQWtCLEVBQUUsbUJBQW1CLDhCQUE4QixZQUFZLEVBQUUsaUJBQWlCLDRCQUE0Qix5SkFBeUosRUFBRSx5QkFBeUIsK0JBQStCLGtCQUFrQixXQUFXLCtEQUErRCw2QkFBNkIsc0RBQXNELEVBQUUscUJBQXFCLFlBQVksMEJBQTBCLFVBQVUsd0JBQXdCLGFBQWEsa0JBQWtCLFlBQVksdUJBQXVCLFdBQVcsNkJBQTZCLGtEQUFrRCxrQ0FBa0MsRUFBRSxtQkFBbUIscUNBQXFDLHdDQUF3QyxPQUFPLGtCQUFrQiwyQkFBMkIsMEJBQTBCLEVBQUUsaUJBQWlCLGtDQUFrQyxvQkFBb0IsNEJBQTRCLGNBQWMscURBQXFELEVBQUUsa0JBQWtCLDhEQUE4RCxrQkFBa0IsMERBQTBELGtCQUFrQiw0Q0FBNEMscUJBQXFCLHNDQUFzQyxtQ0FBbUMsa0JBQWtCLDRDQUE0QyxtQ0FBbUMsaUNBQWlDLHFDQUFxQyxvQkFBb0IsTUFBTSwrREFBK0QsdURBQXVELGdEQUFnRCw4RkFBOEYsd0JBQXdCLDRCQUE0QixvREFBb0QsVUFBVSxPQUFPLEVBQUUsb0JBQW9CLHNEQUFzRCw0QkFBNEIsc0JBQXNCLG9CQUFvQiw0RkFBNEYsdUJBQXVCLGlCQUFpQiw0Q0FBNEMsa0NBQWtDLHlFQUF5RSxxQkFBcUIsZ0NBQWdDLG9CQUFvQixrQ0FBa0Msc0VBQXNFLG9DQUFvQyw4REFBOEQsRUFBRSw0QkFBNEIsaURBQWlELGNBQWMsc0NBQXNDLE9BQU8sbUhBQW1ILG1CQUFtQix1QkFBdUIsZ0JBQWdCLGFBQWEsMkZBQTJGLFNBQVMsU0FBUyw4QkFBOEIsMENBQTBDLEtBQUssU0FBUyxrRUFBa0UsZ0NBQWdDLEVBQUUsdURBQXVELHVCQUF1QixnQ0FBZ0MsRUFBRSw0QkFBNEIsc0JBQXNCLElBQUksRUFBRSxtQkFBbUIseUVBQXlFLHNCQUFzQixzQ0FBc0MsdUJBQXVCLFVBQVUsc0JBQXNCLCtCQUErQix1QkFBdUIsS0FBSyw4QkFBOEIsb0NBQW9DLCtCQUErQixtREFBbUQsT0FBTyx5QkFBeUIsNkJBQTZCLHVCQUF1QiwyQkFBMkIsMERBQTBELHNCQUFzQixvQkFBb0IsRUFBRSwyQkFBMkIsK0JBQStCLG9DQUFvQyxvQ0FBb0Msd0RBQXdELEVBQUUsT0FBTyx1QkFBdUIsZ0JBQWdCLDRCQUE0Qiw0RUFBNEUsaUJBQWlCLFlBQVksOEJBQThCLEdBQUcsd0JBQXdCLGdCQUFnQiw2QkFBNkIsNkVBQTZFLGtCQUFrQixZQUFZLDhCQUE4QixHQUFHLHFCQUFxQixnQkFBZ0IsNkVBQTZFLGFBQWEsWUFBWSxrTkFBa04scUNBQXFDLHlCQUF5QiwyQkFBMkIsb0NBQW9DLHVEQUF1RCxrQkFBa0IsU0FBUyxHQUFHLGdFQUFnRSxnQ0FBZ0MsMEJBQTBCLEVBQUUsb0JBQW9CLGdCQUFnQixnSEFBZ0gsc0NBQXNDLEdBQUcsMEJBQTBCLFVBQVUsbUJBQW1CLHNDQUFzQywrREFBK0Qsa0JBQWtCLCtDQUErQyxzRUFBc0Usc0NBQXNDLHNCQUFzQix1QkFBdUIsZ0NBQWdDLHVDQUF1Qyx1SUFBdUksRUFBRSxFQUFFLEVBQUUsMERBQTBELDJCQUEyQiwyRUFBMkUsR0FBRyxtRUFBbUUsa0JBQWtCLGlCQUFpQixpREFBaUQsb0JBQW9CLG1DQUFtQyxjQUFjLGdEQUFnRCxjQUFjLDRDQUE0QyxnQkFBZ0IsZ0JBQWdCLHlHQUF5RyxvQkFBb0IsNEJBQTRCLDBGQUEwRixzQkFBc0IsZ0JBQWdCLHdGQUF3RixrQkFBa0IsZ0JBQWdCLHdEQUF3RCxjQUFjLGNBQWMsdUJBQXVCLGtGQUFrRixnQkFBZ0Isc0NBQXNDLElBQUksT0FBTyxjQUFjLDRLQUE0SyxvQkFBb0IsNEVBQTRFLG1DQUFtQyxvQkFBb0IsMENBQTBDLHVCQUF1QixpSkFBaUosRUFBRSxpT0FBaU8saUVBQWlFLGtDQUFrQyx3SEFBd0gsd0NBQXdDLElBQUksU0FBUywwREFBMEQsaUpBQWlKLG1EQUFtRCxZQUFZLHVHQUF1RyxhQUFhLGdCQUFnQixpQkFBaUIsMkZBQTJGLGlDQUFpQyxVQUFVLDJJQUEySSxrREFBa0Qsb0JBQW9CLHFCQUFxQixNQUFNLDZCQUE2QixnRUFBZ0Usd09BQXdPLHlDQUF5QyxzTkFBc04seUJBQXlCLGlCQUFpQix5QkFBeUIsa0dBQWtHLG9ZQUFvWSx3REFBd0Qsb0JBQW9CLHVDQUF1QyxXQUFXLHdFQUF3RSx5RUFBeUUsSUFBSSw4RkFBOEYsU0FBUyxJQUFJLHNDQUFzQywyREFBMkQsc0RBQXNELHdEQUF3RCw2QkFBNkIsNkNBQTZDLDJCQUEyQiw2Q0FBNkMseURBQXlELDBDQUEwQyxrQkFBa0IsdUNBQXVDLG1CQUFtQiw4QkFBOEIsK0JBQStCLHNCQUFzQiw4QkFBOEIsbUNBQW1DLDJCQUEyQiw0QkFBNEIsb0RBQW9ELDZEQUE2RCw2RUFBNkUsaUJBQWlCLHlCQUF5QixzQkFBc0IsU0FBUywyQkFBMkIsa0VBQWtFLDJDQUEyQyxvQkFBb0IsY0FBYyw0QkFBNEIsb0JBQW9CLDZCQUE2Qix1Q0FBdUMsd0ZBQXdGLEVBQUUsY0FBYyx3QkFBd0IsT0FBTyx1Q0FBdUMsY0FBYyw4REFBOEQsZ0JBQWdCLGdDQUFnQyxjQUFjLHdCQUF3QiwwQkFBMEIsNkJBQTZCLGtDQUFrQywwQ0FBMEMsV0FBVyx3Q0FBd0Msc0JBQXNCLDBFQUEwRSxVQUFVLFdBQVcsb0JBQW9CLDhDQUE4QyxTQUFTLG9EQUFvRCwyREFBMkQsMEZBQTBGLEVBQUUsc0JBQXNCLFdBQVcsd0NBQXdDLCtCQUErQix5RkFBeUYsRUFBRSxFQUFFLGdCQUFnQixtRUFBbUUsV0FBVyxnQkFBZ0IseUNBQXlDLFFBQVEsMkpBQTJKLGNBQWMsU0FBUyxpQkFBaUIsNENBQTRDLGNBQWMsK0RBQStELHlCQUF5QixLQUFLLEtBQUssMkJBQTJCLGdDQUFnQyxJQUFJLDhDQUE4QyxpRUFBaUUsZUFBZSx1QkFBdUIsMENBQTBDLFNBQVMsaUJBQWlCLDJEQUEyRCxxQkFBcUIsMkVBQTJFLHlDQUF5QywyQkFBMkIsc0JBQXNCLDJCQUEyQixxQkFBcUIsNEJBQTRCLDJCQUEyQixpQkFBaUIsU0FBUyxjQUFjLFNBQVMseUNBQXlDLHFJQUFxSSw4QkFBOEIsc0JBQXNCLGlDQUFpQyx1QkFBdUIseUJBQXlCLHlEQUF5RCx3QkFBd0IsMkRBQTJELDZCQUE2QixlQUFlLHdDQUF3QyxnQkFBZ0Isc0dBQXNHLGtCQUFrQiw2Q0FBNkMsb0JBQW9CLHdDQUF3QyxrQ0FBa0MsNEJBQTRCLDBEQUEwRCxvQkFBb0IsR0FBRywwQkFBMEIsV0FBVyx3Q0FBd0MsYUFBYSxvRUFBb0UsY0FBYyxHQUFHLDRCQUE0QixpRkFBaUYscUlBQXFJLEVBQUUsbUNBQW1DLFFBQVEsK0JBQStCLGdGQUFnRixnRUFBZ0UsRUFBRSxJQUFJLHVOQUF1TixvQkFBb0Isc0RBQXNELHdCQUF3QixxQkFBcUIsZ0RBQWdELG9EQUFvRCxpQ0FBaUMsb0JBQW9CLGdCQUFnQixxQkFBcUIsNkJBQTZCLE1BQU0sc0JBQXNCLFdBQVcsc0JBQXNCLHNCQUFzQixrQkFBa0IsZ0RBQWdELGlDQUFpQyxjQUFjLFNBQVMsNENBQTRDLGlHQUFpRyxJQUFJLFFBQVEsK0RBQStELHdCQUF3Qiw2REFBNkQsdUJBQXVCLFNBQVMsRUFBRSxxREFBcUQsWUFBWSxFQUFFLDZCQUE2QixrRUFBa0Usd0JBQXdCLDJCQUEyQixzQkFBc0IsRUFBRSxFQUFFLHdDQUF3QyxjQUFjLG1CQUFtQixxQkFBcUIsaUVBQWlFLEVBQUUsb0JBQW9CLCtCQUErQiwyQkFBMkIsMkNBQTJDLGVBQWUsR0FBRyxzREFBc0QsK0tBQStLLElBQUksMkJBQTJCLFNBQVMsaURBQWlELG1FQUFtRSxjQUFjLHlCQUF5Qix3Q0FBd0MscUJBQXFCLHdCQUF3QixtRUFBbUUsYUFBYSxvQkFBb0Isb0JBQW9CLDJFQUEyRSxhQUFhLDRDQUE0QyxFQUFFLGFBQWEsMEJBQTBCLGFBQWEsOEZBQThGLGNBQWMsbUZBQW1GLGdCQUFnQixnRUFBZ0Usa0JBQWtCLE9BQU8sNkJBQTZCLG9CQUFvQiwyR0FBMkcsZ0dBQWdHLG1EQUFtRCx3REFBd0QsK1VBQStVLHVEQUF1RCwySEFBMkgsa0RBQWtELGdIQUFnSCx3RUFBd0Usb0RBQW9ELHFCQUFxQixtRkFBbUYsMEJBQTBCLDRDQUE0QyxNQUFNLFFBQVEsU0FBUyw2RUFBNkUsdUhBQXVILG9CQUFvQixxQkFBcUIsRUFBRSxzQkFBc0IsY0FBYyx5REFBeUQsY0FBYyw2QkFBNkIsZ0NBQWdDLDZCQUE2QixzSEFBc0gsdUJBQXVCLHFGQUFxRixtUUFBbVEsa0RBQWtELCtCQUErQiw2RUFBNkUsa0NBQWtDLDJQQUEyUCwrQkFBK0IsY0FBYyx1Q0FBdUMseUpBQXlKLEtBQUssS0FBSyxpRUFBaUUsMEdBQTBHLHFCQUFxQiwwQkFBMEIscUNBQXFDLHdCQUF3Qix5QkFBeUIsb0NBQW9DLDRDQUE0QyxhQUFhLDRGQUE0RixrQkFBa0IsYUFBYSxFQUFFLFNBQVMsUUFBUSxzQkFBc0Isc0JBQXNCLG1DQUFtQyxPQUFPLFdBQVcsMkZBQTJGLG9CQUFvQiw0QkFBNEIsZ0NBQWdDLEVBQUUsZ0ZBQWdGLHdCQUF3Qix3RUFBd0UseUJBQXlCLDRDQUE0QywyQkFBMkIsc0VBQXNFLGNBQWMsK0NBQStDLEVBQUUsNkJBQTZCLDBCQUEwQiwyQkFBMkIsMEJBQTBCLGdFQUFnRSw0QkFBNEIsd0JBQXdCLCtCQUErQiw0QkFBNEIsY0FBYyx5RUFBeUUsR0FBRyIsImZpbGUiOiIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbnZhciBkZWZpbmUgPSBmYWxzZTtcblxuLyogWmVwdG8gMS4xLjYgLSB6ZXB0byBhamF4IGV2ZW50IGRhdGEgZm9ybSB0b3VjaCBmeCBmeF9tZXRob2RzIC0gemVwdG9qcy5jb20vbGljZW5zZSAqL1xudmFyIFplcHRvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTCh0KXtyZXR1cm4gbnVsbD09dD9TdHJpbmcodCk6altTLmNhbGwodCldfHxcIm9iamVjdFwifWZ1bmN0aW9uIEEodCl7cmV0dXJuXCJmdW5jdGlvblwiPT1MKHQpfWZ1bmN0aW9uIFoodCl7cmV0dXJuIG51bGwhPXQmJnQ9PXQud2luZG93fWZ1bmN0aW9uICQodCl7cmV0dXJuIG51bGwhPXQmJnQubm9kZVR5cGU9PXQuRE9DVU1FTlRfTk9ERX1mdW5jdGlvbiBSKHQpe3JldHVyblwib2JqZWN0XCI9PUwodCl9ZnVuY3Rpb24gayh0KXtyZXR1cm4gUih0KSYmIVoodCkmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09T2JqZWN0LnByb3RvdHlwZX1mdW5jdGlvbiB6KHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBGKHQpe3JldHVybiBhLmNhbGwodCxmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0pfWZ1bmN0aW9uIF8odCl7cmV0dXJuIHQubGVuZ3RoPjA/bi5mbi5jb25jYXQuYXBwbHkoW10sdCk6dH1mdW5jdGlvbiBJKHQpe3JldHVybiB0LnJlcGxhY2UoLzo6L2csXCIvXCIpLnJlcGxhY2UoLyhbQS1aXSspKFtBLVpdW2Etel0pL2csXCIkMV8kMlwiKS5yZXBsYWNlKC8oW2EtelxcZF0pKFtBLVpdKS9nLFwiJDFfJDJcIikucmVwbGFjZSgvXy9nLFwiLVwiKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHEodCl7cmV0dXJuIHQgaW4gYz9jW3RdOmNbdF09bmV3IFJlZ0V4cChcIihefFxcXFxzKVwiK3QrXCIoXFxcXHN8JClcIil9ZnVuY3Rpb24gSCh0LGUpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlfHxsW0kodCldP2U6ZStcInB4XCJ9ZnVuY3Rpb24gVSh0KXt2YXIgZSxuO3JldHVybiBmW3RdfHwoZT11LmNyZWF0ZUVsZW1lbnQodCksdS5ib2R5LmFwcGVuZENoaWxkKGUpLG49Z2V0Q29tcHV0ZWRTdHlsZShlLFwiXCIpLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxcIm5vbmVcIj09biYmKG49XCJibG9ja1wiKSxmW3RdPW4pLGZbdF19ZnVuY3Rpb24gWCh0KXtyZXR1cm5cImNoaWxkcmVuXCJpbiB0P3MuY2FsbCh0LmNoaWxkcmVuKTpuLm1hcCh0LmNoaWxkTm9kZXMsZnVuY3Rpb24odCl7cmV0dXJuIDE9PXQubm9kZVR5cGU/dDp2b2lkIDB9KX1mdW5jdGlvbiBWKHQsZSl7dmFyIG4saT10P3QubGVuZ3RoOjA7Zm9yKG49MDtpPm47bisrKXRoaXNbbl09dFtuXTt0aGlzLmxlbmd0aD1pLHRoaXMuc2VsZWN0b3I9ZXx8XCJcIn1mdW5jdGlvbiBCKG4saSxyKXtmb3IoZSBpbiBpKXImJihrKGlbZV0pfHxEKGlbZV0pKT8oayhpW2VdKSYmIWsobltlXSkmJihuW2VdPXt9KSxEKGlbZV0pJiYhRChuW2VdKSYmKG5bZV09W10pLEIobltlXSxpW2VdLHIpKTppW2VdIT09dCYmKG5bZV09aVtlXSl9ZnVuY3Rpb24gWSh0LGUpe3JldHVybiBudWxsPT1lP24odCk6bih0KS5maWx0ZXIoZSl9ZnVuY3Rpb24gSih0LGUsbixpKXtyZXR1cm4gQShlKT9lLmNhbGwodCxuLGkpOmV9ZnVuY3Rpb24gVyh0LGUsbil7bnVsbD09bj90LnJlbW92ZUF0dHJpYnV0ZShlKTp0LnNldEF0dHJpYnV0ZShlLG4pfWZ1bmN0aW9uIEcoZSxuKXt2YXIgaT1lLmNsYXNzTmFtZXx8XCJcIixyPWkmJmkuYmFzZVZhbCE9PXQ7cmV0dXJuIG49PT10P3I/aS5iYXNlVmFsOmk6dm9pZChyP2kuYmFzZVZhbD1uOmUuY2xhc3NOYW1lPW4pfWZ1bmN0aW9uIEsodCl7dHJ5e3JldHVybiB0P1widHJ1ZVwiPT10fHwoXCJmYWxzZVwiPT10PyExOlwibnVsbFwiPT10P251bGw6K3QrXCJcIj09dD8rdDovXltcXFtcXHtdLy50ZXN0KHQpP24ucGFyc2VKU09OKHQpOnQpOnR9Y2F0Y2goZSl7cmV0dXJuIHR9fWZ1bmN0aW9uIFEodCxlKXtlKHQpO2Zvcih2YXIgbj0wLGk9dC5jaGlsZE5vZGVzLmxlbmd0aDtpPm47bisrKVEodC5jaGlsZE5vZGVzW25dLGUpfXZhciB0LGUsbixpLFAsTixyPVtdLG89ci5jb25jYXQsYT1yLmZpbHRlcixzPXIuc2xpY2UsdT13aW5kb3cuZG9jdW1lbnQsZj17fSxjPXt9LGw9e1wiY29sdW1uLWNvdW50XCI6MSxjb2x1bW5zOjEsXCJmb250LXdlaWdodFwiOjEsXCJsaW5lLWhlaWdodFwiOjEsb3BhY2l0eToxLFwiei1pbmRleFwiOjEsem9vbToxfSxoPS9eXFxzKjwoXFx3K3whKVtePl0qPi8scD0vXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sZD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksbT0vXig/OmJvZHl8aHRtbCkkL2ksZz0vKFtBLVpdKS9nLHY9W1widmFsXCIsXCJjc3NcIixcImh0bWxcIixcInRleHRcIixcImRhdGFcIixcIndpZHRoXCIsXCJoZWlnaHRcIixcIm9mZnNldFwiXSx5PVtcImFmdGVyXCIsXCJwcmVwZW5kXCIsXCJiZWZvcmVcIixcImFwcGVuZFwiXSx4PXUuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpLHc9dS5jcmVhdGVFbGVtZW50KFwidHJcIiksYj17dHI6dS5jcmVhdGVFbGVtZW50KFwidGJvZHlcIiksdGJvZHk6eCx0aGVhZDp4LHRmb290OngsdGQ6dyx0aDp3LFwiKlwiOnUuY3JlYXRlRWxlbWVudChcImRpdlwiKX0sRT0vY29tcGxldGV8bG9hZGVkfGludGVyYWN0aXZlLyxUPS9eW1xcdy1dKiQvLGo9e30sUz1qLnRvU3RyaW5nLEM9e30sTz11LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksTT17dGFiaW5kZXg6XCJ0YWJJbmRleFwiLHJlYWRvbmx5OlwicmVhZE9ubHlcIixcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwiLG1heGxlbmd0aDpcIm1heExlbmd0aFwiLGNlbGxzcGFjaW5nOlwiY2VsbFNwYWNpbmdcIixjZWxscGFkZGluZzpcImNlbGxQYWRkaW5nXCIscm93c3BhbjpcInJvd1NwYW5cIixjb2xzcGFuOlwiY29sU3BhblwiLHVzZW1hcDpcInVzZU1hcFwiLGZyYW1lYm9yZGVyOlwiZnJhbWVCb3JkZXJcIixjb250ZW50ZWRpdGFibGU6XCJjb250ZW50RWRpdGFibGVcIn0sRD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fTtyZXR1cm4gQy5tYXRjaGVzPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCF0fHwxIT09dC5ub2RlVHlwZSlyZXR1cm4hMTt2YXIgbj10LndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8dC5tb3pNYXRjaGVzU2VsZWN0b3J8fHQub01hdGNoZXNTZWxlY3Rvcnx8dC5tYXRjaGVzU2VsZWN0b3I7aWYobilyZXR1cm4gbi5jYWxsKHQsZSk7dmFyIGkscj10LnBhcmVudE5vZGUsbz0hcjtyZXR1cm4gbyYmKHI9TykuYXBwZW5kQ2hpbGQodCksaT1+Qy5xc2EocixlKS5pbmRleE9mKHQpLG8mJk8ucmVtb3ZlQ2hpbGQodCksaX0sUD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8tKyguKT8vZyxmdW5jdGlvbih0LGUpe3JldHVybiBlP2UudG9VcHBlckNhc2UoKTpcIlwifSl9LE49ZnVuY3Rpb24odCl7cmV0dXJuIGEuY2FsbCh0LGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuaW5kZXhPZihlKT09bn0pfSxDLmZyYWdtZW50PWZ1bmN0aW9uKGUsaSxyKXt2YXIgbyxhLGY7cmV0dXJuIHAudGVzdChlKSYmKG89bih1LmNyZWF0ZUVsZW1lbnQoUmVnRXhwLiQxKSkpLG98fChlLnJlcGxhY2UmJihlPWUucmVwbGFjZShkLFwiPCQxPjwvJDI+XCIpKSxpPT09dCYmKGk9aC50ZXN0KGUpJiZSZWdFeHAuJDEpLGkgaW4gYnx8KGk9XCIqXCIpLGY9YltpXSxmLmlubmVySFRNTD1cIlwiK2Usbz1uLmVhY2gocy5jYWxsKGYuY2hpbGROb2RlcyksZnVuY3Rpb24oKXtmLnJlbW92ZUNoaWxkKHRoaXMpfSkpLGsocikmJihhPW4obyksbi5lYWNoKHIsZnVuY3Rpb24odCxlKXt2LmluZGV4T2YodCk+LTE/YVt0XShlKTphLmF0dHIodCxlKX0pKSxvfSxDLlo9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFYodCxlKX0sQy5pc1o9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBDLlp9LEMuaW5pdD1mdW5jdGlvbihlLGkpe3ZhciByO2lmKCFlKXJldHVybiBDLlooKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlpZihlPWUudHJpbSgpLFwiPFwiPT1lWzBdJiZoLnRlc3QoZSkpcj1DLmZyYWdtZW50KGUsUmVnRXhwLiQxLGkpLGU9bnVsbDtlbHNle2lmKGkhPT10KXJldHVybiBuKGkpLmZpbmQoZSk7cj1DLnFzYSh1LGUpfWVsc2V7aWYoQShlKSlyZXR1cm4gbih1KS5yZWFkeShlKTtpZihDLmlzWihlKSlyZXR1cm4gZTtpZihEKGUpKXI9RihlKTtlbHNlIGlmKFIoZSkpcj1bZV0sZT1udWxsO2Vsc2UgaWYoaC50ZXN0KGUpKXI9Qy5mcmFnbWVudChlLnRyaW0oKSxSZWdFeHAuJDEsaSksZT1udWxsO2Vsc2V7aWYoaSE9PXQpcmV0dXJuIG4oaSkuZmluZChlKTtyPUMucXNhKHUsZSl9fXJldHVybiBDLloocixlKX0sbj1mdW5jdGlvbih0LGUpe3JldHVybiBDLmluaXQodCxlKX0sbi5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbj1zLmNhbGwoYXJndW1lbnRzLDEpO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdCYmKGU9dCx0PW4uc2hpZnQoKSksbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe0IodCxuLGUpfSksdH0sQy5xc2E9ZnVuY3Rpb24odCxlKXt2YXIgbixpPVwiI1wiPT1lWzBdLHI9IWkmJlwiLlwiPT1lWzBdLG89aXx8cj9lLnNsaWNlKDEpOmUsYT1ULnRlc3Qobyk7cmV0dXJuIHQuZ2V0RWxlbWVudEJ5SWQmJmEmJmk/KG49dC5nZXRFbGVtZW50QnlJZChvKSk/W25dOltdOjEhPT10Lm5vZGVUeXBlJiY5IT09dC5ub2RlVHlwZSYmMTEhPT10Lm5vZGVUeXBlP1tdOnMuY2FsbChhJiYhaSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lP3I/dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG8pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6dC5xdWVyeVNlbGVjdG9yQWxsKGUpKX0sbi5jb250YWlucz11LmRvY3VtZW50RWxlbWVudC5jb250YWlucz9mdW5jdGlvbih0LGUpe3JldHVybiB0IT09ZSYmdC5jb250YWlucyhlKX06ZnVuY3Rpb24odCxlKXtmb3IoO2UmJihlPWUucGFyZW50Tm9kZSk7KWlmKGU9PT10KXJldHVybiEwO3JldHVybiExfSxuLnR5cGU9TCxuLmlzRnVuY3Rpb249QSxuLmlzV2luZG93PVosbi5pc0FycmF5PUQsbi5pc1BsYWluT2JqZWN0PWssbi5pc0VtcHR5T2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlIGluIHQpcmV0dXJuITE7cmV0dXJuITB9LG4uaW5BcnJheT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuaW5kZXhPZi5jYWxsKGUsdCxuKX0sbi5jYW1lbENhc2U9UCxuLnRyaW09ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/XCJcIjpTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbCh0KX0sbi51dWlkPTAsbi5zdXBwb3J0PXt9LG4uZXhwcj17fSxuLm5vb3A9ZnVuY3Rpb24oKXt9LG4ubWFwPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixvLGk9W107aWYoeih0KSlmb3Iocj0wO3I8dC5sZW5ndGg7cisrKW49ZSh0W3JdLHIpLG51bGwhPW4mJmkucHVzaChuKTtlbHNlIGZvcihvIGluIHQpbj1lKHRbb10sbyksbnVsbCE9biYmaS5wdXNoKG4pO3JldHVybiBfKGkpfSxuLmVhY2g9ZnVuY3Rpb24odCxlKXt2YXIgbixpO2lmKHoodCkpe2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspaWYoZS5jYWxsKHRbbl0sbix0W25dKT09PSExKXJldHVybiB0fWVsc2UgZm9yKGkgaW4gdClpZihlLmNhbGwodFtpXSxpLHRbaV0pPT09ITEpcmV0dXJuIHQ7cmV0dXJuIHR9LG4uZ3JlcD1mdW5jdGlvbih0LGUpe3JldHVybiBhLmNhbGwodCxlKX0sd2luZG93LkpTT04mJihuLnBhcnNlSlNPTj1KU09OLnBhcnNlKSxuLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKHQsZSl7altcIltvYmplY3QgXCIrZStcIl1cIl09ZS50b0xvd2VyQ2FzZSgpfSksbi5mbj17Y29uc3RydWN0b3I6Qy5aLGxlbmd0aDowLGZvckVhY2g6ci5mb3JFYWNoLHJlZHVjZTpyLnJlZHVjZSxwdXNoOnIucHVzaCxzb3J0OnIuc29ydCxzcGxpY2U6ci5zcGxpY2UsaW5kZXhPZjpyLmluZGV4T2YsY29uY2F0OmZ1bmN0aW9uKCl7dmFyIHQsZSxuPVtdO2Zvcih0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllPWFyZ3VtZW50c1t0XSxuW3RdPUMuaXNaKGUpP2UudG9BcnJheSgpOmU7cmV0dXJuIG8uYXBwbHkoQy5pc1oodGhpcyk/dGhpcy50b0FycmF5KCk6dGhpcyxuKX0sbWFwOmZ1bmN0aW9uKHQpe3JldHVybiBuKG4ubWFwKHRoaXMsZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5jYWxsKGUsbixlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gbihzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LHJlYWR5OmZ1bmN0aW9uKHQpe3JldHVybiBFLnRlc3QodS5yZWFkeVN0YXRlKSYmdS5ib2R5P3Qobik6dS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGZ1bmN0aW9uKCl7dChuKX0sITEpLHRoaXN9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/cy5jYWxsKHRoaXMpOnRoaXNbZT49MD9lOmUrdGhpcy5sZW5ndGhdfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCl9LHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtudWxsIT10aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX0pfSxlYWNoOmZ1bmN0aW9uKHQpe3JldHVybiByLmV2ZXJ5LmNhbGwodGhpcyxmdW5jdGlvbihlLG4pe3JldHVybiB0LmNhbGwoZSxuLGUpIT09ITF9KSx0aGlzfSxmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIEEodCk/dGhpcy5ub3QodGhpcy5ub3QodCkpOm4oYS5jYWxsKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIEMubWF0Y2hlcyhlLHQpfSkpfSxhZGQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbihOKHRoaXMuY29uY2F0KG4odCxlKSkpKX0saXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJkMubWF0Y2hlcyh0aGlzWzBdLHQpfSxub3Q6ZnVuY3Rpb24oZSl7dmFyIGk9W107aWYoQShlKSYmZS5jYWxsIT09dCl0aGlzLmVhY2goZnVuY3Rpb24odCl7ZS5jYWxsKHRoaXMsdCl8fGkucHVzaCh0aGlzKX0pO2Vsc2V7dmFyIHI9XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5maWx0ZXIoZSk6eihlKSYmQShlLml0ZW0pP3MuY2FsbChlKTpuKGUpO3RoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtyLmluZGV4T2YodCk8MCYmaS5wdXNoKHQpfSl9cmV0dXJuIG4oaSl9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gUih0KT9uLmNvbnRhaW5zKHRoaXMsdCk6bih0aGlzKS5maW5kKHQpLnNpemUoKX0pfSxlcTpmdW5jdGlvbih0KXtyZXR1cm4tMT09PXQ/dGhpcy5zbGljZSh0KTp0aGlzLnNsaWNlKHQsK3QrMSl9LGZpcnN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1swXTtyZXR1cm4gdCYmIVIodCk/dDpuKHQpfSxsYXN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1t0aGlzLmxlbmd0aC0xXTtyZXR1cm4gdCYmIVIodCk/dDpuKHQpfSxmaW5kOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcztyZXR1cm4gZT10P1wib2JqZWN0XCI9PXR5cGVvZiB0P24odCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gci5zb21lLmNhbGwoaSxmdW5jdGlvbihlKXtyZXR1cm4gbi5jb250YWlucyhlLHQpfSl9KToxPT10aGlzLmxlbmd0aD9uKEMucXNhKHRoaXNbMF0sdCkpOnRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIEMucXNhKHRoaXMsdCl9KTpuKCl9LGNsb3Nlc3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzWzBdLHI9ITE7Zm9yKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYocj1uKHQpKTtpJiYhKHI/ci5pbmRleE9mKGkpPj0wOkMubWF0Y2hlcyhpLHQpKTspaT1pIT09ZSYmISQoaSkmJmkucGFyZW50Tm9kZTtyZXR1cm4gbihpKX0scGFyZW50czpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT10aGlzO2kubGVuZ3RoPjA7KWk9bi5tYXAoaSxmdW5jdGlvbih0KXtyZXR1cm4odD10LnBhcmVudE5vZGUpJiYhJCh0KSYmZS5pbmRleE9mKHQpPDA/KGUucHVzaCh0KSx0KTp2b2lkIDB9KTtyZXR1cm4gWShlLHQpfSxwYXJlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIFkoTih0aGlzLnBsdWNrKFwicGFyZW50Tm9kZVwiKSksdCl9LGNoaWxkcmVuOmZ1bmN0aW9uKHQpe3JldHVybiBZKHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIFgodGhpcyl9KSx0KX0sY29udGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50RG9jdW1lbnR8fHMuY2FsbCh0aGlzLmNoaWxkTm9kZXMpfSl9LHNpYmxpbmdzOmZ1bmN0aW9uKHQpe3JldHVybiBZKHRoaXMubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEuY2FsbChYKGUucGFyZW50Tm9kZSksZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lfSl9KSx0KX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pbm5lckhUTUw9XCJcIn0pfSxwbHVjazpmdW5jdGlvbih0KXtyZXR1cm4gbi5tYXAodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX0pfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1wibm9uZVwiPT10aGlzLnN0eWxlLmRpc3BsYXkmJih0aGlzLnN0eWxlLmRpc3BsYXk9XCJcIiksXCJub25lXCI9PWdldENvbXB1dGVkU3R5bGUodGhpcyxcIlwiKS5nZXRQcm9wZXJ0eVZhbHVlKFwiZGlzcGxheVwiKSYmKHRoaXMuc3R5bGUuZGlzcGxheT1VKHRoaXMubm9kZU5hbWUpKX0pfSxyZXBsYWNlV2l0aDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iZWZvcmUodCkucmVtb3ZlKCl9LHdyYXA6ZnVuY3Rpb24odCl7dmFyIGU9QSh0KTtpZih0aGlzWzBdJiYhZSl2YXIgaT1uKHQpLmdldCgwKSxyPWkucGFyZW50Tm9kZXx8dGhpcy5sZW5ndGg+MTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG8pe24odGhpcykud3JhcEFsbChlP3QuY2FsbCh0aGlzLG8pOnI/aS5jbG9uZU5vZGUoITApOmkpfSl9LHdyYXBBbGw6ZnVuY3Rpb24odCl7aWYodGhpc1swXSl7bih0aGlzWzBdKS5iZWZvcmUodD1uKHQpKTtmb3IodmFyIGU7KGU9dC5jaGlsZHJlbigpKS5sZW5ndGg7KXQ9ZS5maXJzdCgpO24odCkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24odCl7dmFyIGU9QSh0KTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpe3ZhciByPW4odGhpcyksbz1yLmNvbnRlbnRzKCksYT1lP3QuY2FsbCh0aGlzLGkpOnQ7by5sZW5ndGg/by53cmFwQWxsKGEpOnIuYXBwZW5kKGEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLnJlcGxhY2VXaXRoKG4odGhpcykuY2hpbGRyZW4oKSl9KSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lTm9kZSghMCl9KX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIil9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKTsoZT09PXQ/XCJub25lXCI9PWkuY3NzKFwiZGlzcGxheVwiKTplKT9pLnNob3coKTppLmhpZGUoKX0pfSxwcmV2OmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMucGx1Y2soXCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nXCIpKS5maWx0ZXIodHx8XCIqXCIpfSxuZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMucGx1Y2soXCJuZXh0RWxlbWVudFNpYmxpbmdcIikpLmZpbHRlcih0fHxcIipcIil9LGh0bWw6ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgaT10aGlzLmlubmVySFRNTDtuKHRoaXMpLmVtcHR5KCkuYXBwZW5kKEoodGhpcyx0LGUsaSkpfSk6MCBpbiB0aGlzP3RoaXNbMF0uaW5uZXJIVE1MOm51bGx9LHRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgbj1KKHRoaXMsdCxlLHRoaXMudGV4dENvbnRlbnQpO3RoaXMudGV4dENvbnRlbnQ9bnVsbD09bj9cIlwiOlwiXCIrbn0pOjAgaW4gdGhpcz90aGlzWzBdLnRleHRDb250ZW50Om51bGx9LGF0dHI6ZnVuY3Rpb24obixpKXt2YXIgcjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Ygbnx8MSBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2lmKDE9PT10aGlzLm5vZGVUeXBlKWlmKFIobikpZm9yKGUgaW4gbilXKHRoaXMsZSxuW2VdKTtlbHNlIFcodGhpcyxuLEoodGhpcyxpLHQsdGhpcy5nZXRBdHRyaWJ1dGUobikpKX0pOnRoaXMubGVuZ3RoJiYxPT09dGhpc1swXS5ub2RlVHlwZT8hKHI9dGhpc1swXS5nZXRBdHRyaWJ1dGUobikpJiZuIGluIHRoaXNbMF0/dGhpc1swXVtuXTpyOnR9LHJlbW92ZUF0dHI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpezE9PT10aGlzLm5vZGVUeXBlJiZ0LnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1codGhpcyx0KX0sdGhpcyl9KX0scHJvcDpmdW5jdGlvbih0LGUpe3JldHVybiB0PU1bdF18fHQsMSBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3RoaXNbdF09Sih0aGlzLGUsbix0aGlzW3RdKX0pOnRoaXNbMF0mJnRoaXNbMF1bdF19LGRhdGE6ZnVuY3Rpb24oZSxuKXt2YXIgaT1cImRhdGEtXCIrZS5yZXBsYWNlKGcsXCItJDFcIikudG9Mb3dlckNhc2UoKSxyPTEgaW4gYXJndW1lbnRzP3RoaXMuYXR0cihpLG4pOnRoaXMuYXR0cihpKTtyZXR1cm4gbnVsbCE9PXI/SyhyKTp0fSx2YWw6ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihlKXt0aGlzLnZhbHVlPUoodGhpcyx0LGUsdGhpcy52YWx1ZSl9KTp0aGlzWzBdJiYodGhpc1swXS5tdWx0aXBsZT9uKHRoaXNbMF0pLmZpbmQoXCJvcHRpb25cIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWR9KS5wbHVjayhcInZhbHVlXCIpOnRoaXNbMF0udmFsdWUpfSxvZmZzZXQ6ZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPW4odGhpcykscj1KKHRoaXMsdCxlLGkub2Zmc2V0KCkpLG89aS5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKSxhPXt0b3A6ci50b3Atby50b3AsbGVmdDpyLmxlZnQtby5sZWZ0fTtcInN0YXRpY1wiPT1pLmNzcyhcInBvc2l0aW9uXCIpJiYoYS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLGkuY3NzKGEpfSk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiBudWxsO2lmKCFuLmNvbnRhaW5zKHUuZG9jdW1lbnRFbGVtZW50LHRoaXNbMF0pKXJldHVybnt0b3A6MCxsZWZ0OjB9O3ZhciBlPXRoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue2xlZnQ6ZS5sZWZ0K3dpbmRvdy5wYWdlWE9mZnNldCx0b3A6ZS50b3Ard2luZG93LnBhZ2VZT2Zmc2V0LHdpZHRoOk1hdGgucm91bmQoZS53aWR0aCksaGVpZ2h0Ok1hdGgucm91bmQoZS5oZWlnaHQpfX0sY3NzOmZ1bmN0aW9uKHQsaSl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXt2YXIgcixvPXRoaXNbMF07aWYoIW8pcmV0dXJuO2lmKHI9Z2V0Q29tcHV0ZWRTdHlsZShvLFwiXCIpLFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBvLnN0eWxlW1AodCldfHxyLmdldFByb3BlcnR5VmFsdWUodCk7aWYoRCh0KSl7dmFyIGE9e307cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHQsZSl7YVtlXT1vLnN0eWxlW1AoZSldfHxyLmdldFByb3BlcnR5VmFsdWUoZSl9KSxhfX12YXIgcz1cIlwiO2lmKFwic3RyaW5nXCI9PUwodCkpaXx8MD09PWk/cz1JKHQpK1wiOlwiK0godCxpKTp0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KEkodCkpfSk7ZWxzZSBmb3IoZSBpbiB0KXRbZV18fDA9PT10W2VdP3MrPUkoZSkrXCI6XCIrSChlLHRbZV0pK1wiO1wiOnRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoSShlKSl9KTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5jc3NUZXh0Kz1cIjtcIitzfSl9LGluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0P3RoaXMuaW5kZXhPZihuKHQpWzBdKTp0aGlzLnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXhPZih0aGlzWzBdKX0saGFzQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ci5zb21lLmNhbGwodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXN0KEcodCkpfSxxKHQpKTohMX0sYWRkQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2lmKFwiY2xhc3NOYW1lXCJpbiB0aGlzKXtpPVtdO3ZhciByPUcodGhpcyksbz1KKHRoaXMsdCxlLHIpO28uc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmhhc0NsYXNzKHQpfHxpLnB1c2godCl9LHRoaXMpLGkubGVuZ3RoJiZHKHRoaXMscisocj9cIiBcIjpcIlwiKStpLmpvaW4oXCIgXCIpKX19KTp0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe2lmKFwiY2xhc3NOYW1lXCJpbiB0aGlzKXtpZihlPT09dClyZXR1cm4gRyh0aGlzLFwiXCIpO2k9Ryh0aGlzKSxKKHRoaXMsZSxuLGkpLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24odCl7aT1pLnJlcGxhY2UocSh0KSxcIiBcIil9KSxHKHRoaXMsaS50cmltKCkpfX0pfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLGkpe3JldHVybiBlP3RoaXMuZWFjaChmdW5jdGlvbihyKXt2YXIgbz1uKHRoaXMpLGE9Sih0aGlzLGUscixHKHRoaXMpKTthLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24oZSl7KGk9PT10PyFvLmhhc0NsYXNzKGUpOmkpP28uYWRkQ2xhc3MoZSk6by5yZW1vdmVDbGFzcyhlKX0pfSk6dGhpc30sc2Nyb2xsVG9wOmZ1bmN0aW9uKGUpe2lmKHRoaXMubGVuZ3RoKXt2YXIgbj1cInNjcm9sbFRvcFwiaW4gdGhpc1swXTtyZXR1cm4gZT09PXQ/bj90aGlzWzBdLnNjcm9sbFRvcDp0aGlzWzBdLnBhZ2VZT2Zmc2V0OnRoaXMuZWFjaChuP2Z1bmN0aW9uKCl7dGhpcy5zY3JvbGxUb3A9ZX06ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvKHRoaXMuc2Nyb2xsWCxlKX0pfX0sc2Nyb2xsTGVmdDpmdW5jdGlvbihlKXtpZih0aGlzLmxlbmd0aCl7dmFyIG49XCJzY3JvbGxMZWZ0XCJpbiB0aGlzWzBdO3JldHVybiBlPT09dD9uP3RoaXNbMF0uc2Nyb2xsTGVmdDp0aGlzWzBdLnBhZ2VYT2Zmc2V0OnRoaXMuZWFjaChuP2Z1bmN0aW9uKCl7dGhpcy5zY3JvbGxMZWZ0PWV9OmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUbyhlLHRoaXMuc2Nyb2xsWSl9KX19LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpe3ZhciB0PXRoaXNbMF0sZT10aGlzLm9mZnNldFBhcmVudCgpLGk9dGhpcy5vZmZzZXQoKSxyPW0udGVzdChlWzBdLm5vZGVOYW1lKT97dG9wOjAsbGVmdDowfTplLm9mZnNldCgpO3JldHVybiBpLnRvcC09cGFyc2VGbG9hdChuKHQpLmNzcyhcIm1hcmdpbi10b3BcIikpfHwwLGkubGVmdC09cGFyc2VGbG9hdChuKHQpLmNzcyhcIm1hcmdpbi1sZWZ0XCIpKXx8MCxyLnRvcCs9cGFyc2VGbG9hdChuKGVbMF0pLmNzcyhcImJvcmRlci10b3Atd2lkdGhcIikpfHwwLHIubGVmdCs9cGFyc2VGbG9hdChuKGVbMF0pLmNzcyhcImJvcmRlci1sZWZ0LXdpZHRoXCIpKXx8MCx7dG9wOmkudG9wLXIudG9wLGxlZnQ6aS5sZWZ0LXIubGVmdH19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnR8fHUuYm9keTt0JiYhbS50ZXN0KHQubm9kZU5hbWUpJiZcInN0YXRpY1wiPT1uKHQpLmNzcyhcInBvc2l0aW9uXCIpOyl0PXQub2Zmc2V0UGFyZW50O3JldHVybiB0fSl9fSxuLmZuLmRldGFjaD1uLmZuLnJlbW92ZSxbXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9ZS5yZXBsYWNlKC8uLyxmdW5jdGlvbih0KXtyZXR1cm4gdFswXS50b1VwcGVyQ2FzZSgpfSk7bi5mbltlXT1mdW5jdGlvbihyKXt2YXIgbyxhPXRoaXNbMF07cmV0dXJuIHI9PT10P1ooYSk/YVtcImlubmVyXCIraV06JChhKT9hLmRvY3VtZW50RWxlbWVudFtcInNjcm9sbFwiK2ldOihvPXRoaXMub2Zmc2V0KCkpJiZvW2VdOnRoaXMuZWFjaChmdW5jdGlvbih0KXthPW4odGhpcyksYS5jc3MoZSxKKHRoaXMscix0LGFbZV0oKSkpfSl9fSkseS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZSUyO24uZm5bdF09ZnVuY3Rpb24oKXt2YXIgdCxvLHI9bi5tYXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3JldHVybiB0PUwoZSksXCJvYmplY3RcIj09dHx8XCJhcnJheVwiPT10fHxudWxsPT1lP2U6Qy5mcmFnbWVudChlKX0pLGE9dGhpcy5sZW5ndGg+MTtyZXR1cm4gci5sZW5ndGg8MT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbih0LHMpe289aT9zOnMucGFyZW50Tm9kZSxzPTA9PWU/cy5uZXh0U2libGluZzoxPT1lP3MuZmlyc3RDaGlsZDoyPT1lP3M6bnVsbDt2YXIgZj1uLmNvbnRhaW5zKHUuZG9jdW1lbnRFbGVtZW50LG8pO3IuZm9yRWFjaChmdW5jdGlvbih0KXtpZihhKXQ9dC5jbG9uZU5vZGUoITApO2Vsc2UgaWYoIW8pcmV0dXJuIG4odCkucmVtb3ZlKCk7by5pbnNlcnRCZWZvcmUodCxzKSxmJiZRKHQsZnVuY3Rpb24odCl7bnVsbD09dC5ub2RlTmFtZXx8XCJTQ1JJUFRcIiE9PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKXx8dC50eXBlJiZcInRleHQvamF2YXNjcmlwdFwiIT09dC50eXBlfHx0LnNyY3x8d2luZG93LmV2YWwuY2FsbCh3aW5kb3csdC5pbm5lckhUTUwpfSl9KX0pfSxuLmZuW2k/dCtcIlRvXCI6XCJpbnNlcnRcIisoZT9cIkJlZm9yZVwiOlwiQWZ0ZXJcIildPWZ1bmN0aW9uKGUpe3JldHVybiBuKGUpW3RdKHRoaXMpLHRoaXN9fSksQy5aLnByb3RvdHlwZT1WLnByb3RvdHlwZT1uLmZuLEMudW5pcT1OLEMuZGVzZXJpYWxpemVWYWx1ZT1LLG4uemVwdG89QyxufSgpO3dpbmRvdy5aZXB0bz1aZXB0byx2b2lkIDA9PT13aW5kb3cuJCYmKHdpbmRvdy4kPVplcHRvKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBoKGUsbixpKXt2YXIgcj10LkV2ZW50KG4pO3JldHVybiB0KGUpLnRyaWdnZXIocixpKSwhci5pc0RlZmF1bHRQcmV2ZW50ZWQoKX1mdW5jdGlvbiBwKHQsZSxpLHIpe3JldHVybiB0Lmdsb2JhbD9oKGV8fG4saSxyKTp2b2lkIDB9ZnVuY3Rpb24gZChlKXtlLmdsb2JhbCYmMD09PXQuYWN0aXZlKysmJnAoZSxudWxsLFwiYWpheFN0YXJ0XCIpfWZ1bmN0aW9uIG0oZSl7ZS5nbG9iYWwmJiEtLXQuYWN0aXZlJiZwKGUsbnVsbCxcImFqYXhTdG9wXCIpfWZ1bmN0aW9uIGcodCxlKXt2YXIgbj1lLmNvbnRleHQ7cmV0dXJuIGUuYmVmb3JlU2VuZC5jYWxsKG4sdCxlKT09PSExfHxwKGUsbixcImFqYXhCZWZvcmVTZW5kXCIsW3QsZV0pPT09ITE/ITE6dm9pZCBwKGUsbixcImFqYXhTZW5kXCIsW3QsZV0pfWZ1bmN0aW9uIHYodCxlLG4saSl7dmFyIHI9bi5jb250ZXh0LG89XCJzdWNjZXNzXCI7bi5zdWNjZXNzLmNhbGwocix0LG8sZSksaSYmaS5yZXNvbHZlV2l0aChyLFt0LG8sZV0pLHAobixyLFwiYWpheFN1Y2Nlc3NcIixbZSxuLHRdKSx4KG8sZSxuKX1mdW5jdGlvbiB5KHQsZSxuLGkscil7dmFyIG89aS5jb250ZXh0O2kuZXJyb3IuY2FsbChvLG4sZSx0KSxyJiZyLnJlamVjdFdpdGgobyxbbixlLHRdKSxwKGksbyxcImFqYXhFcnJvclwiLFtuLGksdHx8ZV0pLHgoZSxuLGkpfWZ1bmN0aW9uIHgodCxlLG4pe3ZhciBpPW4uY29udGV4dDtuLmNvbXBsZXRlLmNhbGwoaSxlLHQpLHAobixpLFwiYWpheENvbXBsZXRlXCIsW2Usbl0pLG0obil9ZnVuY3Rpb24gdygpe31mdW5jdGlvbiBiKHQpe3JldHVybiB0JiYodD10LnNwbGl0KFwiO1wiLDIpWzBdKSx0JiYodD09Zj9cImh0bWxcIjp0PT11P1wianNvblwiOmEudGVzdCh0KT9cInNjcmlwdFwiOnMudGVzdCh0KSYmXCJ4bWxcIil8fFwidGV4dFwifWZ1bmN0aW9uIEUodCxlKXtyZXR1cm5cIlwiPT1lP3Q6KHQrXCImXCIrZSkucmVwbGFjZSgvWyY/XXsxLDJ9LyxcIj9cIil9ZnVuY3Rpb24gVChlKXtlLnByb2Nlc3NEYXRhJiZlLmRhdGEmJlwic3RyaW5nXCIhPXQudHlwZShlLmRhdGEpJiYoZS5kYXRhPXQucGFyYW0oZS5kYXRhLGUudHJhZGl0aW9uYWwpKSwhZS5kYXRhfHxlLnR5cGUmJlwiR0VUXCIhPWUudHlwZS50b1VwcGVyQ2FzZSgpfHwoZS51cmw9RShlLnVybCxlLmRhdGEpLGUuZGF0YT12b2lkIDApfWZ1bmN0aW9uIGooZSxuLGkscil7cmV0dXJuIHQuaXNGdW5jdGlvbihuKSYmKHI9aSxpPW4sbj12b2lkIDApLHQuaXNGdW5jdGlvbihpKXx8KHI9aSxpPXZvaWQgMCkse3VybDplLGRhdGE6bixzdWNjZXNzOmksZGF0YVR5cGU6cn19ZnVuY3Rpb24gQyhlLG4saSxyKXt2YXIgbyxhPXQuaXNBcnJheShuKSxzPXQuaXNQbGFpbk9iamVjdChuKTt0LmVhY2gobixmdW5jdGlvbihuLHUpe289dC50eXBlKHUpLHImJihuPWk/cjpyK1wiW1wiKyhzfHxcIm9iamVjdFwiPT1vfHxcImFycmF5XCI9PW8/bjpcIlwiKStcIl1cIiksIXImJmE/ZS5hZGQodS5uYW1lLHUudmFsdWUpOlwiYXJyYXlcIj09b3x8IWkmJlwib2JqZWN0XCI9PW8/QyhlLHUsaSxuKTplLmFkZChuLHUpfSl9dmFyIGkscixlPTAsbj13aW5kb3cuZG9jdW1lbnQsbz0vPHNjcmlwdFxcYltePF0qKD86KD8hPFxcL3NjcmlwdD4pPFtePF0qKSo8XFwvc2NyaXB0Pi9naSxhPS9eKD86dGV4dHxhcHBsaWNhdGlvbilcXC9qYXZhc2NyaXB0L2kscz0vXig/OnRleHR8YXBwbGljYXRpb24pXFwveG1sL2ksdT1cImFwcGxpY2F0aW9uL2pzb25cIixmPVwidGV4dC9odG1sXCIsYz0vXlxccyokLyxsPW4uY3JlYXRlRWxlbWVudChcImFcIik7bC5ocmVmPXdpbmRvdy5sb2NhdGlvbi5ocmVmLHQuYWN0aXZlPTAsdC5hamF4SlNPTlA9ZnVuY3Rpb24oaSxyKXtpZighKFwidHlwZVwiaW4gaSkpcmV0dXJuIHQuYWpheChpKTt2YXIgZixoLG89aS5qc29ucENhbGxiYWNrLGE9KHQuaXNGdW5jdGlvbihvKT9vKCk6byl8fFwianNvbnBcIisgKytlLHM9bi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLHU9d2luZG93W2FdLGM9ZnVuY3Rpb24oZSl7dChzKS50cmlnZ2VySGFuZGxlcihcImVycm9yXCIsZXx8XCJhYm9ydFwiKX0sbD17YWJvcnQ6Y307cmV0dXJuIHImJnIucHJvbWlzZShsKSx0KHMpLm9uKFwibG9hZCBlcnJvclwiLGZ1bmN0aW9uKGUsbil7Y2xlYXJUaW1lb3V0KGgpLHQocykub2ZmKCkucmVtb3ZlKCksXCJlcnJvclwiIT1lLnR5cGUmJmY/dihmWzBdLGwsaSxyKTp5KG51bGwsbnx8XCJlcnJvclwiLGwsaSxyKSx3aW5kb3dbYV09dSxmJiZ0LmlzRnVuY3Rpb24odSkmJnUoZlswXSksdT1mPXZvaWQgMH0pLGcobCxpKT09PSExPyhjKFwiYWJvcnRcIiksbCk6KHdpbmRvd1thXT1mdW5jdGlvbigpe2Y9YXJndW1lbnRzfSxzLnNyYz1pLnVybC5yZXBsYWNlKC9cXD8oLispPVxcPy8sXCI/JDE9XCIrYSksbi5oZWFkLmFwcGVuZENoaWxkKHMpLGkudGltZW91dD4wJiYoaD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhcInRpbWVvdXRcIil9LGkudGltZW91dCkpLGwpfSx0LmFqYXhTZXR0aW5ncz17dHlwZTpcIkdFVFwiLGJlZm9yZVNlbmQ6dyxzdWNjZXNzOncsZXJyb3I6dyxjb21wbGV0ZTp3LGNvbnRleHQ6bnVsbCxnbG9iYWw6ITAseGhyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3R9LGFjY2VwdHM6e3NjcmlwdDpcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24veC1qYXZhc2NyaXB0XCIsanNvbjp1LHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixodG1sOmYsdGV4dDpcInRleHQvcGxhaW5cIn0sY3Jvc3NEb21haW46ITEsdGltZW91dDowLHByb2Nlc3NEYXRhOiEwLGNhY2hlOiEwfSx0LmFqYXg9ZnVuY3Rpb24oZSl7dmFyIHMsdSxvPXQuZXh0ZW5kKHt9LGV8fHt9KSxhPXQuRGVmZXJyZWQmJnQuRGVmZXJyZWQoKTtmb3IoaSBpbiB0LmFqYXhTZXR0aW5ncyl2b2lkIDA9PT1vW2ldJiYob1tpXT10LmFqYXhTZXR0aW5nc1tpXSk7ZChvKSxvLmNyb3NzRG9tYWlufHwocz1uLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLHMuaHJlZj1vLnVybCxzLmhyZWY9cy5ocmVmLG8uY3Jvc3NEb21haW49bC5wcm90b2NvbCtcIi8vXCIrbC5ob3N0IT1zLnByb3RvY29sK1wiLy9cIitzLmhvc3QpLG8udXJsfHwoby51cmw9d2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCkpLCh1PW8udXJsLmluZGV4T2YoXCIjXCIpKT4tMSYmKG8udXJsPW8udXJsLnNsaWNlKDAsdSkpLFQobyk7dmFyIGY9by5kYXRhVHlwZSxoPS9cXD8uKz1cXD8vLnRlc3Qoby51cmwpO2lmKGgmJihmPVwianNvbnBcIiksby5jYWNoZSE9PSExJiYoZSYmZS5jYWNoZT09PSEwfHxcInNjcmlwdFwiIT1mJiZcImpzb25wXCIhPWYpfHwoby51cmw9RShvLnVybCxcIl89XCIrRGF0ZS5ub3coKSkpLFwianNvbnBcIj09ZilyZXR1cm4gaHx8KG8udXJsPUUoby51cmwsby5qc29ucD9vLmpzb25wK1wiPT9cIjpvLmpzb25wPT09ITE/XCJcIjpcImNhbGxiYWNrPT9cIikpLHQuYWpheEpTT05QKG8sYSk7dmFyIFAscD1vLmFjY2VwdHNbZl0sbT17fSx4PWZ1bmN0aW9uKHQsZSl7bVt0LnRvTG93ZXJDYXNlKCldPVt0LGVdfSxqPS9eKFtcXHctXSs6KVxcL1xcLy8udGVzdChvLnVybCk/UmVnRXhwLiQxOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCxTPW8ueGhyKCksQz1TLnNldFJlcXVlc3RIZWFkZXI7aWYoYSYmYS5wcm9taXNlKFMpLG8uY3Jvc3NEb21haW58fHgoXCJYLVJlcXVlc3RlZC1XaXRoXCIsXCJYTUxIdHRwUmVxdWVzdFwiKSx4KFwiQWNjZXB0XCIscHx8XCIqLypcIiksKHA9by5taW1lVHlwZXx8cCkmJihwLmluZGV4T2YoXCIsXCIpPi0xJiYocD1wLnNwbGl0KFwiLFwiLDIpWzBdKSxTLm92ZXJyaWRlTWltZVR5cGUmJlMub3ZlcnJpZGVNaW1lVHlwZShwKSksKG8uY29udGVudFR5cGV8fG8uY29udGVudFR5cGUhPT0hMSYmby5kYXRhJiZcIkdFVFwiIT1vLnR5cGUudG9VcHBlckNhc2UoKSkmJngoXCJDb250ZW50LVR5cGVcIixvLmNvbnRlbnRUeXBlfHxcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSxvLmhlYWRlcnMpZm9yKHIgaW4gby5oZWFkZXJzKXgocixvLmhlYWRlcnNbcl0pO2lmKFMuc2V0UmVxdWVzdEhlYWRlcj14LFMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09Uy5yZWFkeVN0YXRlKXtTLm9ucmVhZHlzdGF0ZWNoYW5nZT13LGNsZWFyVGltZW91dChQKTt2YXIgZSxuPSExO2lmKFMuc3RhdHVzPj0yMDAmJlMuc3RhdHVzPDMwMHx8MzA0PT1TLnN0YXR1c3x8MD09Uy5zdGF0dXMmJlwiZmlsZTpcIj09ail7Zj1mfHxiKG8ubWltZVR5cGV8fFMuZ2V0UmVzcG9uc2VIZWFkZXIoXCJjb250ZW50LXR5cGVcIikpLGU9Uy5yZXNwb25zZVRleHQ7dHJ5e1wic2NyaXB0XCI9PWY/KDEsZXZhbCkoZSk6XCJ4bWxcIj09Zj9lPVMucmVzcG9uc2VYTUw6XCJqc29uXCI9PWYmJihlPWMudGVzdChlKT9udWxsOnQucGFyc2VKU09OKGUpKX1jYXRjaChpKXtuPWl9bj95KG4sXCJwYXJzZXJlcnJvclwiLFMsbyxhKTp2KGUsUyxvLGEpfWVsc2UgeShTLnN0YXR1c1RleHR8fG51bGwsUy5zdGF0dXM/XCJlcnJvclwiOlwiYWJvcnRcIixTLG8sYSl9fSxnKFMsbyk9PT0hMSlyZXR1cm4gUy5hYm9ydCgpLHkobnVsbCxcImFib3J0XCIsUyxvLGEpLFM7aWYoby54aHJGaWVsZHMpZm9yKHIgaW4gby54aHJGaWVsZHMpU1tyXT1vLnhockZpZWxkc1tyXTt2YXIgTj1cImFzeW5jXCJpbiBvP28uYXN5bmM6ITA7Uy5vcGVuKG8udHlwZSxvLnVybCxOLG8udXNlcm5hbWUsby5wYXNzd29yZCk7Zm9yKHIgaW4gbSlDLmFwcGx5KFMsbVtyXSk7cmV0dXJuIG8udGltZW91dD4wJiYoUD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Uy5vbnJlYWR5c3RhdGVjaGFuZ2U9dyxTLmFib3J0KCkseShudWxsLFwidGltZW91dFwiLFMsbyxhKX0sby50aW1lb3V0KSksUy5zZW5kKG8uZGF0YT9vLmRhdGE6bnVsbCksU30sdC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hamF4KGouYXBwbHkobnVsbCxhcmd1bWVudHMpKX0sdC5wb3N0PWZ1bmN0aW9uKCl7dmFyIGU9ai5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIGUudHlwZT1cIlBPU1RcIix0LmFqYXgoZSl9LHQuZ2V0SlNPTj1mdW5jdGlvbigpe3ZhciBlPWouYXBwbHkobnVsbCxhcmd1bWVudHMpO3JldHVybiBlLmRhdGFUeXBlPVwianNvblwiLHQuYWpheChlKX0sdC5mbi5sb2FkPWZ1bmN0aW9uKGUsbixpKXtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHMscj10aGlzLGE9ZS5zcGxpdCgvXFxzLyksdT1qKGUsbixpKSxmPXUuc3VjY2VzcztyZXR1cm4gYS5sZW5ndGg+MSYmKHUudXJsPWFbMF0scz1hWzFdKSx1LnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7ci5odG1sKHM/dChcIjxkaXY+XCIpLmh0bWwoZS5yZXBsYWNlKG8sXCJcIikpLmZpbmQocyk6ZSksZiYmZi5hcHBseShyLGFyZ3VtZW50cyl9LHQuYWpheCh1KSx0aGlzfTt2YXIgUz1lbmNvZGVVUklDb21wb25lbnQ7dC5wYXJhbT1mdW5jdGlvbihlLG4pe3ZhciBpPVtdO3JldHVybiBpLmFkZD1mdW5jdGlvbihlLG4pe3QuaXNGdW5jdGlvbihuKSYmKG49bigpKSxudWxsPT1uJiYobj1cIlwiKSx0aGlzLnB1c2goUyhlKStcIj1cIitTKG4pKX0sQyhpLGUsbiksaS5qb2luKFwiJlwiKS5yZXBsYWNlKC8lMjAvZyxcIitcIil9fShaZXB0byksZnVuY3Rpb24odCl7ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdC5femlkfHwodC5femlkPWUrKyl9ZnVuY3Rpb24gaCh0LGUsbixpKXtpZihlPXAoZSksZS5ucyl2YXIgcj1kKGUubnMpO3JldHVybihhW2wodCldfHxbXSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYoIWUuZXx8dC5lPT1lLmUpJiYoIWUubnN8fHIudGVzdCh0Lm5zKSkmJighbnx8bCh0LmZuKT09PWwobikpJiYoIWl8fHQuc2VsPT1pKX0pfWZ1bmN0aW9uIHAodCl7dmFyIGU9KFwiXCIrdCkuc3BsaXQoXCIuXCIpO3JldHVybntlOmVbMF0sbnM6ZS5zbGljZSgxKS5zb3J0KCkuam9pbihcIiBcIil9fWZ1bmN0aW9uIGQodCl7cmV0dXJuIG5ldyBSZWdFeHAoXCIoPzpefCApXCIrdC5yZXBsYWNlKFwiIFwiLFwiIC4qID9cIikrXCIoPzogfCQpXCIpfWZ1bmN0aW9uIG0odCxlKXtyZXR1cm4gdC5kZWwmJiF1JiZ0LmUgaW4gZnx8ISFlfWZ1bmN0aW9uIGcodCl7cmV0dXJuIGNbdF18fHUmJmZbdF18fHR9ZnVuY3Rpb24gdihlLGkscixvLHMsdSxmKXt2YXIgaD1sKGUpLGQ9YVtoXXx8KGFbaF09W10pO2kuc3BsaXQoL1xccy8pLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoXCJyZWFkeVwiPT1pKXJldHVybiB0KGRvY3VtZW50KS5yZWFkeShyKTt2YXIgYT1wKGkpO2EuZm49cixhLnNlbD1zLGEuZSBpbiBjJiYocj1mdW5jdGlvbihlKXt2YXIgbj1lLnJlbGF0ZWRUYXJnZXQ7cmV0dXJuIW58fG4hPT10aGlzJiYhdC5jb250YWlucyh0aGlzLG4pP2EuZm4uYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH0pLGEuZGVsPXU7dmFyIGw9dXx8cjthLnByb3h5PWZ1bmN0aW9uKHQpe2lmKHQ9VCh0KSwhdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXt0LmRhdGE9bzt2YXIgaT1sLmFwcGx5KGUsdC5fYXJncz09bj9bdF06W3RdLmNvbmNhdCh0Ll9hcmdzKSk7cmV0dXJuIGk9PT0hMSYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKSxpfX0sYS5pPWQubGVuZ3RoLGQucHVzaChhKSxcImFkZEV2ZW50TGlzdGVuZXJcImluIGUmJmUuYWRkRXZlbnRMaXN0ZW5lcihnKGEuZSksYS5wcm94eSxtKGEsZikpfSl9ZnVuY3Rpb24geSh0LGUsbixpLHIpe3ZhciBvPWwodCk7KGV8fFwiXCIpLnNwbGl0KC9cXHMvKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2godCxlLG4saSkuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgYVtvXVtlLmldLFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiaW4gdCYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGcoZS5lKSxlLnByb3h5LG0oZSxyKSl9KX0pfWZ1bmN0aW9uIFQoZSxpKXtyZXR1cm4oaXx8IWUuaXNEZWZhdWx0UHJldmVudGVkKSYmKGl8fChpPWUpLHQuZWFjaChFLGZ1bmN0aW9uKHQsbil7dmFyIHI9aVt0XTtlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbbl09eCxyJiZyLmFwcGx5KGksYXJndW1lbnRzKX0sZVtuXT13fSksKGkuZGVmYXVsdFByZXZlbnRlZCE9PW4/aS5kZWZhdWx0UHJldmVudGVkOlwicmV0dXJuVmFsdWVcImluIGk/aS5yZXR1cm5WYWx1ZT09PSExOmkuZ2V0UHJldmVudERlZmF1bHQmJmkuZ2V0UHJldmVudERlZmF1bHQoKSkmJihlLmlzRGVmYXVsdFByZXZlbnRlZD14KSksZX1mdW5jdGlvbiBqKHQpe3ZhciBlLGk9e29yaWdpbmFsRXZlbnQ6dH07Zm9yKGUgaW4gdCliLnRlc3QoZSl8fHRbZV09PT1ufHwoaVtlXT10W2VdKTtyZXR1cm4gVChpLHQpfXZhciBuLGU9MSxpPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPXQuaXNGdW5jdGlvbixvPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSxhPXt9LHM9e30sdT1cIm9uZm9jdXNpblwiaW4gd2luZG93LGY9e2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxjPXttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCJ9O3MuY2xpY2s9cy5tb3VzZWRvd249cy5tb3VzZXVwPXMubW91c2Vtb3ZlPVwiTW91c2VFdmVudHNcIix0LmV2ZW50PXthZGQ6dixyZW1vdmU6eX0sdC5wcm94eT1mdW5jdGlvbihlLG4pe3ZhciBhPTIgaW4gYXJndW1lbnRzJiZpLmNhbGwoYXJndW1lbnRzLDIpO2lmKHIoZSkpe3ZhciBzPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkobixhP2EuY29uY2F0KGkuY2FsbChhcmd1bWVudHMpKTphcmd1bWVudHMpfTtyZXR1cm4gcy5femlkPWwoZSksc31pZihvKG4pKXJldHVybiBhPyhhLnVuc2hpZnQoZVtuXSxlKSx0LnByb3h5LmFwcGx5KG51bGwsYSkpOnQucHJveHkoZVtuXSxlKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0ZWQgZnVuY3Rpb25cIil9LHQuZm4uYmluZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub24odCxlLG4pfSx0LmZuLnVuYmluZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm9mZih0LGUpfSx0LmZuLm9uZT1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdGhpcy5vbih0LGUsbixpLDEpfTt2YXIgeD1mdW5jdGlvbigpe3JldHVybiEwfSx3PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGI9L14oW0EtWl18cmV0dXJuVmFsdWUkfGxheWVyW1hZXSQpLyxFPXtwcmV2ZW50RGVmYXVsdDpcImlzRGVmYXVsdFByZXZlbnRlZFwiLHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpcImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkXCIsc3RvcFByb3BhZ2F0aW9uOlwiaXNQcm9wYWdhdGlvblN0b3BwZWRcIn07dC5mbi5kZWxlZ2F0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub24oZSx0LG4pfSx0LmZuLnVuZGVsZWdhdGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLm9mZihlLHQsbil9LHQuZm4ubGl2ZT1mdW5jdGlvbihlLG4pe3JldHVybiB0KGRvY3VtZW50LmJvZHkpLmRlbGVnYXRlKHRoaXMuc2VsZWN0b3IsZSxuKSx0aGlzfSx0LmZuLmRpZT1mdW5jdGlvbihlLG4pe3JldHVybiB0KGRvY3VtZW50LmJvZHkpLnVuZGVsZWdhdGUodGhpcy5zZWxlY3RvcixlLG4pLHRoaXN9LHQuZm4ub249ZnVuY3Rpb24oZSxhLHMsdSxmKXt2YXIgYyxsLGg9dGhpcztyZXR1cm4gZSYmIW8oZSk/KHQuZWFjaChlLGZ1bmN0aW9uKHQsZSl7aC5vbih0LGEscyxlLGYpfSksaCk6KG8oYSl8fHIodSl8fHU9PT0hMXx8KHU9cyxzPWEsYT1uKSwodT09PW58fHM9PT0hMSkmJih1PXMscz1uKSx1PT09ITEmJih1PXcpLGguZWFjaChmdW5jdGlvbihuLHIpe2YmJihjPWZ1bmN0aW9uKHQpe3JldHVybiB5KHIsdC50eXBlLHUpLHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksYSYmKGw9ZnVuY3Rpb24oZSl7dmFyIG4sbz10KGUudGFyZ2V0KS5jbG9zZXN0KGEscikuZ2V0KDApO3JldHVybiBvJiZvIT09cj8obj10LmV4dGVuZChqKGUpLHtjdXJyZW50VGFyZ2V0Om8sbGl2ZUZpcmVkOnJ9KSwoY3x8dSkuYXBwbHkobyxbbl0uY29uY2F0KGkuY2FsbChhcmd1bWVudHMsMSkpKSk6dm9pZCAwfSksdihyLGUsdSxzLGEsbHx8Yyl9KSl9LHQuZm4ub2ZmPWZ1bmN0aW9uKGUsaSxhKXt2YXIgcz10aGlzO3JldHVybiBlJiYhbyhlKT8odC5lYWNoKGUsZnVuY3Rpb24odCxlKXtzLm9mZih0LGksZSl9KSxzKToobyhpKXx8cihhKXx8YT09PSExfHwoYT1pLGk9biksYT09PSExJiYoYT13KSxzLmVhY2goZnVuY3Rpb24oKXt5KHRoaXMsZSxhLGkpfSkpfSx0LmZuLnRyaWdnZXI9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT1vKGUpfHx0LmlzUGxhaW5PYmplY3QoZSk/dC5FdmVudChlKTpUKGUpLGUuX2FyZ3M9bix0aGlzLmVhY2goZnVuY3Rpb24oKXtlLnR5cGUgaW4gZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpc1tlLnR5cGVdP3RoaXNbZS50eXBlXSgpOlwiZGlzcGF0Y2hFdmVudFwiaW4gdGhpcz90aGlzLmRpc3BhdGNoRXZlbnQoZSk6dCh0aGlzKS50cmlnZ2VySGFuZGxlcihlLG4pfSl9LHQuZm4udHJpZ2dlckhhbmRsZXI9ZnVuY3Rpb24oZSxuKXt2YXIgaSxyO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYSxzKXtpPWoobyhlKT90LkV2ZW50KGUpOmUpLGkuX2FyZ3M9bixpLnRhcmdldD1zLHQuZWFjaChoKHMsZS50eXBlfHxlKSxmdW5jdGlvbih0LGUpe3JldHVybiByPWUucHJveHkoaSksaS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpPyExOnZvaWQgMH0pfSkscn0sXCJmb2N1c2luIGZvY3Vzb3V0IGZvY3VzIGJsdXIgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3JcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihlKXt0LmZuW2VdPWZ1bmN0aW9uKHQpe3JldHVybiAwIGluIGFyZ3VtZW50cz90aGlzLmJpbmQoZSx0KTp0aGlzLnRyaWdnZXIoZSl9fSksdC5FdmVudD1mdW5jdGlvbih0LGUpe28odCl8fChlPXQsdD1lLnR5cGUpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KHNbdF18fFwiRXZlbnRzXCIpLGk9ITA7aWYoZSlmb3IodmFyIHIgaW4gZSlcImJ1YmJsZXNcIj09cj9pPSEhZVtyXTpuW3JdPWVbcl07cmV0dXJuIG4uaW5pdEV2ZW50KHQsaSwhMCksVChuKX19KFplcHRvKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBhKG8sYSl7dmFyIHU9b1tyXSxmPXUmJmVbdV07aWYodm9pZCAwPT09YSlyZXR1cm4gZnx8cyhvKTtpZihmKXtpZihhIGluIGYpcmV0dXJuIGZbYV07dmFyIGM9aShhKTtpZihjIGluIGYpcmV0dXJuIGZbY119cmV0dXJuIG4uY2FsbCh0KG8pLGEpfWZ1bmN0aW9uIHMobixvLGEpe3ZhciBzPW5bcl18fChuW3JdPSsrdC51dWlkKSxmPWVbc118fChlW3NdPXUobikpO3JldHVybiB2b2lkIDAhPT1vJiYoZltpKG8pXT1hKSxmfWZ1bmN0aW9uIHUoZSl7dmFyIG49e307cmV0dXJuIHQuZWFjaChlLmF0dHJpYnV0ZXN8fG8sZnVuY3Rpb24oZSxyKXswPT1yLm5hbWUuaW5kZXhPZihcImRhdGEtXCIpJiYobltpKHIubmFtZS5yZXBsYWNlKFwiZGF0YS1cIixcIlwiKSldPXQuemVwdG8uZGVzZXJpYWxpemVWYWx1ZShyLnZhbHVlKSl9KSxufXZhciBlPXt9LG49dC5mbi5kYXRhLGk9dC5jYW1lbENhc2Uscj10LmV4cGFuZG89XCJaZXB0b1wiKyArbmV3IERhdGUsbz1bXTt0LmZuLmRhdGE9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdm9pZCAwPT09bj90LmlzUGxhaW5PYmplY3QoZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKG4saSl7dC5lYWNoKGUsZnVuY3Rpb24odCxlKXtzKGksdCxlKX0pfSk6MCBpbiB0aGlzP2EodGhpc1swXSxlKTp2b2lkIDA6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7cyh0aGlzLGUsbil9KX0sdC5mbi5yZW1vdmVEYXRhPWZ1bmN0aW9uKG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1uLnNwbGl0KC9cXHMrLykpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBvPXRoaXNbcl0sYT1vJiZlW29dO2EmJnQuZWFjaChufHxhLGZ1bmN0aW9uKHQpe2RlbGV0ZSBhW24/aSh0aGlzKTp0XX0pfSl9LFtcInJlbW92ZVwiLFwiZW1wdHlcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10LmZuW2VdO3QuZm5bZV09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZpbmQoXCIqXCIpO3JldHVyblwicmVtb3ZlXCI9PT1lJiYodD10LmFkZCh0aGlzKSksdC5yZW1vdmVEYXRhKCksbi5jYWxsKHRoaXMpfX0pfShaZXB0byksZnVuY3Rpb24odCl7dC5mbi5zZXJpYWxpemVBcnJheT1mdW5jdGlvbigpe3ZhciBlLG4saT1bXSxyPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZvckVhY2g/dC5mb3JFYWNoKHIpOnZvaWQgaS5wdXNoKHtuYW1lOmUsdmFsdWU6dH0pfTtyZXR1cm4gdGhpc1swXSYmdC5lYWNoKHRoaXNbMF0uZWxlbWVudHMsZnVuY3Rpb24oaSxvKXtuPW8udHlwZSxlPW8ubmFtZSxlJiZcImZpZWxkc2V0XCIhPW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmIW8uZGlzYWJsZWQmJlwic3VibWl0XCIhPW4mJlwicmVzZXRcIiE9biYmXCJidXR0b25cIiE9biYmXCJmaWxlXCIhPW4mJihcInJhZGlvXCIhPW4mJlwiY2hlY2tib3hcIiE9bnx8by5jaGVja2VkKSYmcih0KG8pLnZhbCgpKX0pLGl9LHQuZm4uc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuc2VyaWFsaXplQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZS52YWx1ZSkpfSksdC5qb2luKFwiJlwiKX0sdC5mbi5zdWJtaXQ9ZnVuY3Rpb24oZSl7aWYoMCBpbiBhcmd1bWVudHMpdGhpcy5iaW5kKFwic3VibWl0XCIsZSk7ZWxzZSBpZih0aGlzLmxlbmd0aCl7dmFyIG49dC5FdmVudChcInN1Ym1pdFwiKTt0aGlzLmVxKDApLnRyaWdnZXIobiksbi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5nZXQoMCkuc3VibWl0KCl9cmV0dXJuIHRoaXN9fShaZXB0byksZnVuY3Rpb24odCl7ZnVuY3Rpb24gdSh0LGUsbixpKXtyZXR1cm4gTWF0aC5hYnModC1lKT49TWF0aC5hYnMobi1pKT90LWU+MD9cIkxlZnRcIjpcIlJpZ2h0XCI6bi1pPjA/XCJVcFwiOlwiRG93blwifWZ1bmN0aW9uIGYoKXtvPW51bGwsZS5sYXN0JiYoZS5lbC50cmlnZ2VyKFwibG9uZ1RhcFwiKSxlPXt9KX1mdW5jdGlvbiBjKCl7byYmY2xlYXJUaW1lb3V0KG8pLG89bnVsbH1mdW5jdGlvbiBsKCl7biYmY2xlYXJUaW1lb3V0KG4pLGkmJmNsZWFyVGltZW91dChpKSxyJiZjbGVhclRpbWVvdXQociksbyYmY2xlYXJUaW1lb3V0KG8pLG49aT1yPW89bnVsbCxlPXt9fWZ1bmN0aW9uIGgodCl7cmV0dXJuKFwidG91Y2hcIj09dC5wb2ludGVyVHlwZXx8dC5wb2ludGVyVHlwZT09dC5NU1BPSU5URVJfVFlQRV9UT1VDSCkmJnQuaXNQcmltYXJ5fWZ1bmN0aW9uIHAodCxlKXtyZXR1cm4gdC50eXBlPT1cInBvaW50ZXJcIitlfHx0LnR5cGUudG9Mb3dlckNhc2UoKT09XCJtc3BvaW50ZXJcIitlfXZhciBuLGkscixvLHMsZT17fSxhPTc1MDt0KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3ZhciBkLG0seSx4LGc9MCx2PTA7XCJNU0dlc3R1cmVcImluIHdpbmRvdyYmKHM9bmV3IE1TR2VzdHVyZSxzLnRhcmdldD1kb2N1bWVudC5ib2R5KSx0KGRvY3VtZW50KS5iaW5kKFwiTVNHZXN0dXJlRW5kXCIsZnVuY3Rpb24odCl7dmFyIG49dC52ZWxvY2l0eVg+MT9cIlJpZ2h0XCI6dC52ZWxvY2l0eVg8LTE/XCJMZWZ0XCI6dC52ZWxvY2l0eVk+MT9cIkRvd25cIjp0LnZlbG9jaXR5WTwtMT9cIlVwXCI6bnVsbDtuJiYoZS5lbC50cmlnZ2VyKFwic3dpcGVcIiksZS5lbC50cmlnZ2VyKFwic3dpcGVcIituKSl9KS5vbihcInRvdWNoc3RhcnQgTVNQb2ludGVyRG93biBwb2ludGVyZG93blwiLGZ1bmN0aW9uKGkpeyghKHg9cChpLFwiZG93blwiKSl8fGgoaSkpJiYoeT14P2k6aS50b3VjaGVzWzBdLGkudG91Y2hlcyYmMT09PWkudG91Y2hlcy5sZW5ndGgmJmUueDImJihlLngyPXZvaWQgMCxlLnkyPXZvaWQgMCksZD1EYXRlLm5vdygpLG09ZC0oZS5sYXN0fHxkKSxlLmVsPXQoXCJ0YWdOYW1lXCJpbiB5LnRhcmdldD95LnRhcmdldDp5LnRhcmdldC5wYXJlbnROb2RlKSxuJiZjbGVhclRpbWVvdXQobiksZS54MT15LnBhZ2VYLGUueTE9eS5wYWdlWSxtPjAmJjI1MD49bSYmKGUuaXNEb3VibGVUYXA9ITApLGUubGFzdD1kLG89c2V0VGltZW91dChmLGEpLHMmJngmJnMuYWRkUG9pbnRlcihpLnBvaW50ZXJJZCkpfSkub24oXCJ0b3VjaG1vdmUgTVNQb2ludGVyTW92ZSBwb2ludGVybW92ZVwiLGZ1bmN0aW9uKHQpeyghKHg9cCh0LFwibW92ZVwiKSl8fGgodCkpJiYoeT14P3Q6dC50b3VjaGVzWzBdLGMoKSxlLngyPXkucGFnZVgsZS55Mj15LnBhZ2VZLGcrPU1hdGguYWJzKGUueDEtZS54Miksdis9TWF0aC5hYnMoZS55MS1lLnkyKSl9KS5vbihcInRvdWNoZW5kIE1TUG9pbnRlclVwIHBvaW50ZXJ1cFwiLGZ1bmN0aW9uKG8peyghKHg9cChvLFwidXBcIikpfHxoKG8pKSYmKGMoKSxlLngyJiZNYXRoLmFicyhlLngxLWUueDIpPjMwfHxlLnkyJiZNYXRoLmFicyhlLnkxLWUueTIpPjMwP3I9c2V0VGltZW91dChmdW5jdGlvbigpe2UuZWwudHJpZ2dlcihcInN3aXBlXCIpLGUuZWwudHJpZ2dlcihcInN3aXBlXCIrdShlLngxLGUueDIsZS55MSxlLnkyKSksZT17fX0sMCk6XCJsYXN0XCJpbiBlJiYoMzA+ZyYmMzA+dj9pPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LkV2ZW50KFwidGFwXCIpO2kuY2FuY2VsVG91Y2g9bCxlLmVsLnRyaWdnZXIoaSksZS5pc0RvdWJsZVRhcD8oZS5lbCYmZS5lbC50cmlnZ2VyKFwiZG91YmxlVGFwXCIpLGU9e30pOm49c2V0VGltZW91dChmdW5jdGlvbigpe249bnVsbCxlLmVsJiZlLmVsLnRyaWdnZXIoXCJzaW5nbGVUYXBcIiksZT17fX0sMjUwKX0sMCk6ZT17fSksZz12PTApfSkub24oXCJ0b3VjaGNhbmNlbCBNU1BvaW50ZXJDYW5jZWwgcG9pbnRlcmNhbmNlbFwiLGwpLHQod2luZG93KS5vbihcInNjcm9sbFwiLGwpfSksW1wic3dpcGVcIixcInN3aXBlTGVmdFwiLFwic3dpcGVSaWdodFwiLFwic3dpcGVVcFwiLFwic3dpcGVEb3duXCIsXCJkb3VibGVUYXBcIixcInRhcFwiLFwic2luZ2xlVGFwXCIsXCJsb25nVGFwXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dC5mbltlXT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbihlLHQpfX0pfShaZXB0byksZnVuY3Rpb24odCxlKXtmdW5jdGlvbiB2KHQpe3JldHVybiB0LnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pLyxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24geSh0KXtyZXR1cm4gaT9pK3Q6dC50b0xvd2VyQ2FzZSgpfXZhciBpLHMsdSxmLGMsbCxoLHAsZCxtLG49XCJcIixyPXtXZWJraXQ6XCJ3ZWJraXRcIixNb3o6XCJcIixPOlwib1wifSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYT0vXigodHJhbnNsYXRlfHJvdGF0ZXxzY2FsZSkoWHxZfFp8M2QpP3xtYXRyaXgoM2QpP3xwZXJzcGVjdGl2ZXxza2V3KFh8WSk/KSQvaSxnPXt9O3QuZWFjaChyLGZ1bmN0aW9uKHQscil7cmV0dXJuIG8uc3R5bGVbdCtcIlRyYW5zaXRpb25Qcm9wZXJ0eVwiXSE9PWU/KG49XCItXCIrdC50b0xvd2VyQ2FzZSgpK1wiLVwiLGk9ciwhMSk6dm9pZCAwfSkscz1uK1widHJhbnNmb3JtXCIsZ1t1PW4rXCJ0cmFuc2l0aW9uLXByb3BlcnR5XCJdPWdbZj1uK1widHJhbnNpdGlvbi1kdXJhdGlvblwiXT1nW2w9bitcInRyYW5zaXRpb24tZGVsYXlcIl09Z1tjPW4rXCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiXT1nW2g9bitcImFuaW1hdGlvbi1uYW1lXCJdPWdbcD1uK1wiYW5pbWF0aW9uLWR1cmF0aW9uXCJdPWdbbT1uK1wiYW5pbWF0aW9uLWRlbGF5XCJdPWdbZD1uK1wiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblwiXT1cIlwiLHQuZng9e29mZjppPT09ZSYmby5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHk9PT1lLHNwZWVkczp7X2RlZmF1bHQ6NDAwLGZhc3Q6MjAwLHNsb3c6NjAwfSxjc3NQcmVmaXg6bix0cmFuc2l0aW9uRW5kOnkoXCJUcmFuc2l0aW9uRW5kXCIpLGFuaW1hdGlvbkVuZDp5KFwiQW5pbWF0aW9uRW5kXCIpfSx0LmZuLmFuaW1hdGU9ZnVuY3Rpb24obixpLHIsbyxhKXtyZXR1cm4gdC5pc0Z1bmN0aW9uKGkpJiYobz1pLHI9ZSxpPWUpLHQuaXNGdW5jdGlvbihyKSYmKG89cixyPWUpLHQuaXNQbGFpbk9iamVjdChpKSYmKHI9aS5lYXNpbmcsbz1pLmNvbXBsZXRlLGE9aS5kZWxheSxpPWkuZHVyYXRpb24pLGkmJihpPShcIm51bWJlclwiPT10eXBlb2YgaT9pOnQuZnguc3BlZWRzW2ldfHx0LmZ4LnNwZWVkcy5fZGVmYXVsdCkvMWUzKSxhJiYoYT1wYXJzZUZsb2F0KGEpLzFlMyksdGhpcy5hbmltKG4saSxyLG8sYSl9LHQuZm4uYW5pbT1mdW5jdGlvbihuLGkscixvLHkpe3ZhciB4LGIsaix3PXt9LEU9XCJcIixUPXRoaXMsUz10LmZ4LnRyYW5zaXRpb25FbmQsQz0hMTtpZihpPT09ZSYmKGk9dC5meC5zcGVlZHMuX2RlZmF1bHQvMWUzKSx5PT09ZSYmKHk9MCksdC5meC5vZmYmJihpPTApLFwic3RyaW5nXCI9PXR5cGVvZiBuKXdbaF09bix3W3BdPWkrXCJzXCIsd1ttXT15K1wic1wiLHdbZF09cnx8XCJsaW5lYXJcIixTPXQuZnguYW5pbWF0aW9uRW5kO2Vsc2V7Yj1bXTtmb3IoeCBpbiBuKWEudGVzdCh4KT9FKz14K1wiKFwiK25beF0rXCIpIFwiOih3W3hdPW5beF0sYi5wdXNoKHYoeCkpKTtFJiYod1tzXT1FLGIucHVzaChzKSksaT4wJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmKHdbdV09Yi5qb2luKFwiLCBcIiksd1tmXT1pK1wic1wiLHdbbF09eStcInNcIix3W2NdPXJ8fFwibGluZWFyXCIpfXJldHVybiBqPWZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlKXtpZihlLnRhcmdldCE9PWUuY3VycmVudFRhcmdldClyZXR1cm47dChlLnRhcmdldCkudW5iaW5kKFMsail9ZWxzZSB0KHRoaXMpLnVuYmluZChTLGopO0M9ITAsdCh0aGlzKS5jc3MoZyksbyYmby5jYWxsKHRoaXMpfSxpPjAmJih0aGlzLmJpbmQoUyxqKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q3x8ai5jYWxsKFQpfSwxZTMqKGkreSkrMjUpKSx0aGlzLnNpemUoKSYmdGhpcy5nZXQoMCkuY2xpZW50TGVmdCx0aGlzLmNzcyh3KSwwPj1pJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5lYWNoKGZ1bmN0aW9uKCl7ai5jYWxsKHRoaXMpfSl9LDApLHRoaXN9LG89bnVsbH0oWmVwdG8pLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcyhuLGkscixvLGEpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIGl8fGF8fChhPWksaT1lKTt2YXIgcz17b3BhY2l0eTpyfTtyZXR1cm4gbyYmKHMuc2NhbGU9byxuLmNzcyh0LmZ4LmNzc1ByZWZpeCtcInRyYW5zZm9ybS1vcmlnaW5cIixcIjAgMFwiKSksbi5hbmltYXRlKHMsaSxudWxsLGEpfWZ1bmN0aW9uIHUoZSxuLGkscil7cmV0dXJuIHMoZSxuLDAsaSxmdW5jdGlvbigpe28uY2FsbCh0KHRoaXMpKSxyJiZyLmNhbGwodGhpcyl9KX12YXIgbj13aW5kb3cuZG9jdW1lbnQscj0obi5kb2N1bWVudEVsZW1lbnQsdC5mbi5zaG93KSxvPXQuZm4uaGlkZSxhPXQuZm4udG9nZ2xlO3QuZm4uc2hvdz1mdW5jdGlvbih0LG4pe3JldHVybiByLmNhbGwodGhpcyksdD09PWU/dD0wOnRoaXMuY3NzKFwib3BhY2l0eVwiLDApLHModGhpcyx0LDEsXCIxLDFcIixuKX0sdC5mbi5oaWRlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ9PT1lP28uY2FsbCh0aGlzKTp1KHRoaXMsdCxcIjAsMFwiLG4pfSx0LmZuLnRvZ2dsZT1mdW5jdGlvbihuLGkpe3JldHVybiBuPT09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBuP2EuY2FsbCh0aGlzLG4pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7ZVtcIm5vbmVcIj09ZS5jc3MoXCJkaXNwbGF5XCIpP1wic2hvd1wiOlwiaGlkZVwiXShuLGkpfSl9LHQuZm4uZmFkZVRvPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcyh0aGlzLHQsZSxudWxsLG4pfSx0LmZuLmZhZGVJbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY3NzKFwib3BhY2l0eVwiKTtyZXR1cm4gbj4wP3RoaXMuY3NzKFwib3BhY2l0eVwiLDApOm49MSxyLmNhbGwodGhpcykuZmFkZVRvKHQsbixlKX0sdC5mbi5mYWRlT3V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHUodGhpcyx0LG51bGwsZSl9LHQuZm4uZmFkZVRvZ2dsZT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10KHRoaXMpO2lbMD09aS5jc3MoXCJvcGFjaXR5XCIpfHxcIm5vbmVcIj09aS5jc3MoXCJkaXNwbGF5XCIpP1wiZmFkZUluXCI6XCJmYWRlT3V0XCJdKGUsbil9KX19KFplcHRvKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvemVwdG8ubWluLmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMTAgMTEgMTIgMTcgMTggMTkgMjRcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },

/***/ 17:
/***/ function(module, exports) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n//     Zepto.js\r\n//     (c) 2010-2016 Thomas Fuchs\r\n//     Zepto.js may be freely distributed under the MIT license.\r\n\r\n;(function($){\r\n  var touch = {},\r\n    touchTimeout, tapTimeout, swipeTimeout, longTapTimeout,\r\n    longTapDelay = 750,\r\n    gesture\r\n\r\n  function swipeDirection(x1, x2, y1, y2) {\r\n    return Math.abs(x1 - x2) >=\r\n      Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'Left' : 'Right') : (y1 - y2 > 0 ? 'Up' : 'Down')\r\n  }\r\n\r\n  function longTap() {\r\n    longTapTimeout = null\r\n    if (touch.last) {\r\n      touch.el.trigger('longTap')\r\n      touch = {}\r\n    }\r\n  }\r\n\r\n  function cancelLongTap() {\r\n    if (longTapTimeout) clearTimeout(longTapTimeout)\r\n    longTapTimeout = null\r\n  }\r\n\r\n  function cancelAll() {\r\n    if (touchTimeout) clearTimeout(touchTimeout)\r\n    if (tapTimeout) clearTimeout(tapTimeout)\r\n    if (swipeTimeout) clearTimeout(swipeTimeout)\r\n    if (longTapTimeout) clearTimeout(longTapTimeout)\r\n    touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null\r\n    touch = {}\r\n  }\r\n\r\n  function isPrimaryTouch(event){\r\n    return (event.pointerType == 'touch' ||\r\n      event.pointerType == event.MSPOINTER_TYPE_TOUCH)\r\n      && event.isPrimary\r\n  }\r\n\r\n  function isPointerEventType(e, type){\r\n    return (e.type == 'pointer'+type ||\r\n      e.type.toLowerCase() == 'mspointer'+type)\r\n  }\r\n\r\n  $(document).ready(function(){\r\n    var now, delta, deltaX = 0, deltaY = 0, firstTouch, _isPointerType\r\n\r\n    if ('MSGesture' in window) {\r\n      gesture = new MSGesture()\r\n      gesture.target = document.body\r\n    }\r\n\r\n    $(document)\r\n      .bind('MSGestureEnd', function(e){\r\n        var swipeDirectionFromVelocity =\r\n          e.velocityX > 1 ? 'Right' : e.velocityX < -1 ? 'Left' : e.velocityY > 1 ? 'Down' : e.velocityY < -1 ? 'Up' : null;\r\n        if (swipeDirectionFromVelocity) {\r\n          touch.el.trigger('swipe')\r\n          touch.el.trigger('swipe'+ swipeDirectionFromVelocity)\r\n        }\r\n      })\r\n      .on('touchstart MSPointerDown pointerdown', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'down')) &&\r\n          !isPrimaryTouch(e)) return\r\n        firstTouch = _isPointerType ? e : e.touches[0]\r\n        if (e.touches && e.touches.length === 1 && touch.x2) {\r\n          // Clear out touch movement data if we have it sticking around\r\n          // This can occur if touchcancel doesn't fire due to preventDefault, etc.\r\n          touch.x2 = undefined\r\n          touch.y2 = undefined\r\n        }\r\n        now = Date.now()\r\n        delta = now - (touch.last || now)\r\n        touch.el = $('tagName' in firstTouch.target ?\r\n          firstTouch.target : firstTouch.target.parentNode)\r\n        touchTimeout && clearTimeout(touchTimeout)\r\n        touch.x1 = firstTouch.pageX\r\n        touch.y1 = firstTouch.pageY\r\n        if (delta > 0 && delta <= 250) touch.isDoubleTap = true\r\n        touch.last = now\r\n        longTapTimeout = setTimeout(longTap, longTapDelay)\r\n        // adds the current touch contact for IE gesture recognition\r\n        if (gesture && _isPointerType) gesture.addPointer(e.pointerId);\r\n      })\r\n      .on('touchmove MSPointerMove pointermove', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'move')) &&\r\n          !isPrimaryTouch(e)) return\r\n        firstTouch = _isPointerType ? e : e.touches[0]\r\n        cancelLongTap()\r\n        touch.x2 = firstTouch.pageX\r\n        touch.y2 = firstTouch.pageY\r\n\r\n        deltaX += Math.abs(touch.x1 - touch.x2)\r\n        deltaY += Math.abs(touch.y1 - touch.y2)\r\n      })\r\n      .on('touchend MSPointerUp pointerup', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'up')) &&\r\n          !isPrimaryTouch(e)) return\r\n        cancelLongTap()\r\n\r\n        // swipe\r\n        if ((touch.x2 && Math.abs(touch.x1 - touch.x2) > 30) ||\r\n            (touch.y2 && Math.abs(touch.y1 - touch.y2) > 30))\r\n\r\n          swipeTimeout = setTimeout(function() {\r\n            touch.el.trigger('swipe')\r\n            touch.el.trigger('swipe' + (swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2)))\r\n            touch = {}\r\n          }, 0)\r\n\r\n        // normal tap\r\n        else if ('last' in touch)\r\n          // don't fire tap when delta position changed by more than 30 pixels,\r\n          // for instance when moving to a point and back to origin\r\n          if (deltaX < 30 && deltaY < 30) {\r\n            // delay by one tick so we can cancel the 'tap' event if 'scroll' fires\r\n            // ('tap' fires before 'scroll')\r\n            tapTimeout = setTimeout(function() {\r\n\r\n              // trigger universal 'tap' with the option to cancelTouch()\r\n              // (cancelTouch cancels processing of single vs double taps for faster 'tap' response)\r\n              var event = $.Event('tap')\r\n              event.cancelTouch = cancelAll\r\n              touch.el.trigger(event)\r\n\r\n              // trigger double tap immediately\r\n              if (touch.isDoubleTap) {\r\n                if (touch.el) touch.el.trigger('doubleTap')\r\n                touch = {}\r\n              }\r\n\r\n              // trigger single tap after 250ms of inactivity\r\n              else {\r\n                touchTimeout = setTimeout(function(){\r\n                  touchTimeout = null\r\n                  if (touch.el) touch.el.trigger('singleTap')\r\n                  touch = {}\r\n                }, 250)\r\n              }\r\n            }, 0)\r\n          } else {\r\n            touch = {}\r\n          }\r\n          deltaX = deltaY = 0\r\n\r\n      })\r\n      // when the browser window loses focus,\r\n      // for example when a modal dialog is shown,\r\n      // cancel all ongoing events\r\n      .on('touchcancel MSPointerCancel pointercancel', cancelAll)\r\n\r\n    // scrolling the window indicates intention of the user\r\n    // to scroll, not tap or swipe, so cancel all ongoing events\r\n    $(window).on('scroll', cancelAll)\r\n  })\r\n\r\n  ;['swipe', 'swipeLeft', 'swipeRight', 'swipeUp', 'swipeDown',\r\n    'doubleTap', 'tap', 'singleTap', 'longTap'].forEach(function(eventName){\r\n    $.fn[eventName] = function(callback){ return this.on(eventName, callback) }\r\n  })\r\n})(Zepto)\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvemVwdG8tdGFwLmpzPzI4ZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsR0FBRztBQUNIO0FBQ0EseUNBQXlDO0FBQ3pDLEdBQUc7QUFDSCxDQUFDIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xudmFyIGRlZmluZSA9IGZhbHNlO1xuXG4vLyAgICAgWmVwdG8uanNcclxuLy8gICAgIChjKSAyMDEwLTIwMTYgVGhvbWFzIEZ1Y2hzXHJcbi8vICAgICBaZXB0by5qcyBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuXHJcbjsoZnVuY3Rpb24oJCl7XHJcbiAgdmFyIHRvdWNoID0ge30sXHJcbiAgICB0b3VjaFRpbWVvdXQsIHRhcFRpbWVvdXQsIHN3aXBlVGltZW91dCwgbG9uZ1RhcFRpbWVvdXQsXHJcbiAgICBsb25nVGFwRGVsYXkgPSA3NTAsXHJcbiAgICBnZXN0dXJlXHJcblxyXG4gIGZ1bmN0aW9uIHN3aXBlRGlyZWN0aW9uKHgxLCB4MiwgeTEsIHkyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMoeDEgLSB4MikgPj1cclxuICAgICAgTWF0aC5hYnMoeTEgLSB5MikgPyAoeDEgLSB4MiA+IDAgPyAnTGVmdCcgOiAnUmlnaHQnKSA6ICh5MSAtIHkyID4gMCA/ICdVcCcgOiAnRG93bicpXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBsb25nVGFwKCkge1xyXG4gICAgbG9uZ1RhcFRpbWVvdXQgPSBudWxsXHJcbiAgICBpZiAodG91Y2gubGFzdCkge1xyXG4gICAgICB0b3VjaC5lbC50cmlnZ2VyKCdsb25nVGFwJylcclxuICAgICAgdG91Y2ggPSB7fVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FuY2VsTG9uZ1RhcCgpIHtcclxuICAgIGlmIChsb25nVGFwVGltZW91dCkgY2xlYXJUaW1lb3V0KGxvbmdUYXBUaW1lb3V0KVxyXG4gICAgbG9uZ1RhcFRpbWVvdXQgPSBudWxsXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWxBbGwoKSB7XHJcbiAgICBpZiAodG91Y2hUaW1lb3V0KSBjbGVhclRpbWVvdXQodG91Y2hUaW1lb3V0KVxyXG4gICAgaWYgKHRhcFRpbWVvdXQpIGNsZWFyVGltZW91dCh0YXBUaW1lb3V0KVxyXG4gICAgaWYgKHN3aXBlVGltZW91dCkgY2xlYXJUaW1lb3V0KHN3aXBlVGltZW91dClcclxuICAgIGlmIChsb25nVGFwVGltZW91dCkgY2xlYXJUaW1lb3V0KGxvbmdUYXBUaW1lb3V0KVxyXG4gICAgdG91Y2hUaW1lb3V0ID0gdGFwVGltZW91dCA9IHN3aXBlVGltZW91dCA9IGxvbmdUYXBUaW1lb3V0ID0gbnVsbFxyXG4gICAgdG91Y2ggPSB7fVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNQcmltYXJ5VG91Y2goZXZlbnQpe1xyXG4gICAgcmV0dXJuIChldmVudC5wb2ludGVyVHlwZSA9PSAndG91Y2gnIHx8XHJcbiAgICAgIGV2ZW50LnBvaW50ZXJUeXBlID09IGV2ZW50Lk1TUE9JTlRFUl9UWVBFX1RPVUNIKVxyXG4gICAgICAmJiBldmVudC5pc1ByaW1hcnlcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzUG9pbnRlckV2ZW50VHlwZShlLCB0eXBlKXtcclxuICAgIHJldHVybiAoZS50eXBlID09ICdwb2ludGVyJyt0eXBlIHx8XHJcbiAgICAgIGUudHlwZS50b0xvd2VyQ2FzZSgpID09ICdtc3BvaW50ZXInK3R5cGUpXHJcbiAgfVxyXG5cclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgdmFyIG5vdywgZGVsdGEsIGRlbHRhWCA9IDAsIGRlbHRhWSA9IDAsIGZpcnN0VG91Y2gsIF9pc1BvaW50ZXJUeXBlXHJcblxyXG4gICAgaWYgKCdNU0dlc3R1cmUnIGluIHdpbmRvdykge1xyXG4gICAgICBnZXN0dXJlID0gbmV3IE1TR2VzdHVyZSgpXHJcbiAgICAgIGdlc3R1cmUudGFyZ2V0ID0gZG9jdW1lbnQuYm9keVxyXG4gICAgfVxyXG5cclxuICAgICQoZG9jdW1lbnQpXHJcbiAgICAgIC5iaW5kKCdNU0dlc3R1cmVFbmQnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICB2YXIgc3dpcGVEaXJlY3Rpb25Gcm9tVmVsb2NpdHkgPVxyXG4gICAgICAgICAgZS52ZWxvY2l0eVggPiAxID8gJ1JpZ2h0JyA6IGUudmVsb2NpdHlYIDwgLTEgPyAnTGVmdCcgOiBlLnZlbG9jaXR5WSA+IDEgPyAnRG93bicgOiBlLnZlbG9jaXR5WSA8IC0xID8gJ1VwJyA6IG51bGw7XHJcbiAgICAgICAgaWYgKHN3aXBlRGlyZWN0aW9uRnJvbVZlbG9jaXR5KSB7XHJcbiAgICAgICAgICB0b3VjaC5lbC50cmlnZ2VyKCdzd2lwZScpXHJcbiAgICAgICAgICB0b3VjaC5lbC50cmlnZ2VyKCdzd2lwZScrIHN3aXBlRGlyZWN0aW9uRnJvbVZlbG9jaXR5KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLm9uKCd0b3VjaHN0YXJ0IE1TUG9pbnRlckRvd24gcG9pbnRlcmRvd24nLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBpZigoX2lzUG9pbnRlclR5cGUgPSBpc1BvaW50ZXJFdmVudFR5cGUoZSwgJ2Rvd24nKSkgJiZcclxuICAgICAgICAgICFpc1ByaW1hcnlUb3VjaChlKSkgcmV0dXJuXHJcbiAgICAgICAgZmlyc3RUb3VjaCA9IF9pc1BvaW50ZXJUeXBlID8gZSA6IGUudG91Y2hlc1swXVxyXG4gICAgICAgIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiB0b3VjaC54Mikge1xyXG4gICAgICAgICAgLy8gQ2xlYXIgb3V0IHRvdWNoIG1vdmVtZW50IGRhdGEgaWYgd2UgaGF2ZSBpdCBzdGlja2luZyBhcm91bmRcclxuICAgICAgICAgIC8vIFRoaXMgY2FuIG9jY3VyIGlmIHRvdWNoY2FuY2VsIGRvZXNuJ3QgZmlyZSBkdWUgdG8gcHJldmVudERlZmF1bHQsIGV0Yy5cclxuICAgICAgICAgIHRvdWNoLngyID0gdW5kZWZpbmVkXHJcbiAgICAgICAgICB0b3VjaC55MiA9IHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuICAgICAgICBub3cgPSBEYXRlLm5vdygpXHJcbiAgICAgICAgZGVsdGEgPSBub3cgLSAodG91Y2gubGFzdCB8fCBub3cpXHJcbiAgICAgICAgdG91Y2guZWwgPSAkKCd0YWdOYW1lJyBpbiBmaXJzdFRvdWNoLnRhcmdldCA/XHJcbiAgICAgICAgICBmaXJzdFRvdWNoLnRhcmdldCA6IGZpcnN0VG91Y2gudGFyZ2V0LnBhcmVudE5vZGUpXHJcbiAgICAgICAgdG91Y2hUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0b3VjaFRpbWVvdXQpXHJcbiAgICAgICAgdG91Y2gueDEgPSBmaXJzdFRvdWNoLnBhZ2VYXHJcbiAgICAgICAgdG91Y2gueTEgPSBmaXJzdFRvdWNoLnBhZ2VZXHJcbiAgICAgICAgaWYgKGRlbHRhID4gMCAmJiBkZWx0YSA8PSAyNTApIHRvdWNoLmlzRG91YmxlVGFwID0gdHJ1ZVxyXG4gICAgICAgIHRvdWNoLmxhc3QgPSBub3dcclxuICAgICAgICBsb25nVGFwVGltZW91dCA9IHNldFRpbWVvdXQobG9uZ1RhcCwgbG9uZ1RhcERlbGF5KVxyXG4gICAgICAgIC8vIGFkZHMgdGhlIGN1cnJlbnQgdG91Y2ggY29udGFjdCBmb3IgSUUgZ2VzdHVyZSByZWNvZ25pdGlvblxyXG4gICAgICAgIGlmIChnZXN0dXJlICYmIF9pc1BvaW50ZXJUeXBlKSBnZXN0dXJlLmFkZFBvaW50ZXIoZS5wb2ludGVySWQpO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oJ3RvdWNobW92ZSBNU1BvaW50ZXJNb3ZlIHBvaW50ZXJtb3ZlJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgaWYoKF9pc1BvaW50ZXJUeXBlID0gaXNQb2ludGVyRXZlbnRUeXBlKGUsICdtb3ZlJykpICYmXHJcbiAgICAgICAgICAhaXNQcmltYXJ5VG91Y2goZSkpIHJldHVyblxyXG4gICAgICAgIGZpcnN0VG91Y2ggPSBfaXNQb2ludGVyVHlwZSA/IGUgOiBlLnRvdWNoZXNbMF1cclxuICAgICAgICBjYW5jZWxMb25nVGFwKClcclxuICAgICAgICB0b3VjaC54MiA9IGZpcnN0VG91Y2gucGFnZVhcclxuICAgICAgICB0b3VjaC55MiA9IGZpcnN0VG91Y2gucGFnZVlcclxuXHJcbiAgICAgICAgZGVsdGFYICs9IE1hdGguYWJzKHRvdWNoLngxIC0gdG91Y2gueDIpXHJcbiAgICAgICAgZGVsdGFZICs9IE1hdGguYWJzKHRvdWNoLnkxIC0gdG91Y2gueTIpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5vbigndG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgaWYoKF9pc1BvaW50ZXJUeXBlID0gaXNQb2ludGVyRXZlbnRUeXBlKGUsICd1cCcpKSAmJlxyXG4gICAgICAgICAgIWlzUHJpbWFyeVRvdWNoKGUpKSByZXR1cm5cclxuICAgICAgICBjYW5jZWxMb25nVGFwKClcclxuXHJcbiAgICAgICAgLy8gc3dpcGVcclxuICAgICAgICBpZiAoKHRvdWNoLngyICYmIE1hdGguYWJzKHRvdWNoLngxIC0gdG91Y2gueDIpID4gMzApIHx8XHJcbiAgICAgICAgICAgICh0b3VjaC55MiAmJiBNYXRoLmFicyh0b3VjaC55MSAtIHRvdWNoLnkyKSA+IDMwKSlcclxuXHJcbiAgICAgICAgICBzd2lwZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0b3VjaC5lbC50cmlnZ2VyKCdzd2lwZScpXHJcbiAgICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJyArIChzd2lwZURpcmVjdGlvbih0b3VjaC54MSwgdG91Y2gueDIsIHRvdWNoLnkxLCB0b3VjaC55MikpKVxyXG4gICAgICAgICAgICB0b3VjaCA9IHt9XHJcbiAgICAgICAgICB9LCAwKVxyXG5cclxuICAgICAgICAvLyBub3JtYWwgdGFwXHJcbiAgICAgICAgZWxzZSBpZiAoJ2xhc3QnIGluIHRvdWNoKVxyXG4gICAgICAgICAgLy8gZG9uJ3QgZmlyZSB0YXAgd2hlbiBkZWx0YSBwb3NpdGlvbiBjaGFuZ2VkIGJ5IG1vcmUgdGhhbiAzMCBwaXhlbHMsXHJcbiAgICAgICAgICAvLyBmb3IgaW5zdGFuY2Ugd2hlbiBtb3ZpbmcgdG8gYSBwb2ludCBhbmQgYmFjayB0byBvcmlnaW5cclxuICAgICAgICAgIGlmIChkZWx0YVggPCAzMCAmJiBkZWx0YVkgPCAzMCkge1xyXG4gICAgICAgICAgICAvLyBkZWxheSBieSBvbmUgdGljayBzbyB3ZSBjYW4gY2FuY2VsIHRoZSAndGFwJyBldmVudCBpZiAnc2Nyb2xsJyBmaXJlc1xyXG4gICAgICAgICAgICAvLyAoJ3RhcCcgZmlyZXMgYmVmb3JlICdzY3JvbGwnKVxyXG4gICAgICAgICAgICB0YXBUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gdHJpZ2dlciB1bml2ZXJzYWwgJ3RhcCcgd2l0aCB0aGUgb3B0aW9uIHRvIGNhbmNlbFRvdWNoKClcclxuICAgICAgICAgICAgICAvLyAoY2FuY2VsVG91Y2ggY2FuY2VscyBwcm9jZXNzaW5nIG9mIHNpbmdsZSB2cyBkb3VibGUgdGFwcyBmb3IgZmFzdGVyICd0YXAnIHJlc3BvbnNlKVxyXG4gICAgICAgICAgICAgIHZhciBldmVudCA9ICQuRXZlbnQoJ3RhcCcpXHJcbiAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsVG91Y2ggPSBjYW5jZWxBbGxcclxuICAgICAgICAgICAgICB0b3VjaC5lbC50cmlnZ2VyKGV2ZW50KVxyXG5cclxuICAgICAgICAgICAgICAvLyB0cmlnZ2VyIGRvdWJsZSB0YXAgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgICBpZiAodG91Y2guaXNEb3VibGVUYXApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b3VjaC5lbCkgdG91Y2guZWwudHJpZ2dlcignZG91YmxlVGFwJylcclxuICAgICAgICAgICAgICAgIHRvdWNoID0ge31cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIHRyaWdnZXIgc2luZ2xlIHRhcCBhZnRlciAyNTBtcyBvZiBpbmFjdGl2aXR5XHJcbiAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0b3VjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgIHRvdWNoVGltZW91dCA9IG51bGxcclxuICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoLmVsKSB0b3VjaC5lbC50cmlnZ2VyKCdzaW5nbGVUYXAnKVxyXG4gICAgICAgICAgICAgICAgICB0b3VjaCA9IHt9XHJcbiAgICAgICAgICAgICAgICB9LCAyNTApXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAwKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG91Y2ggPSB7fVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGVsdGFYID0gZGVsdGFZID0gMFxyXG5cclxuICAgICAgfSlcclxuICAgICAgLy8gd2hlbiB0aGUgYnJvd3NlciB3aW5kb3cgbG9zZXMgZm9jdXMsXHJcbiAgICAgIC8vIGZvciBleGFtcGxlIHdoZW4gYSBtb2RhbCBkaWFsb2cgaXMgc2hvd24sXHJcbiAgICAgIC8vIGNhbmNlbCBhbGwgb25nb2luZyBldmVudHNcclxuICAgICAgLm9uKCd0b3VjaGNhbmNlbCBNU1BvaW50ZXJDYW5jZWwgcG9pbnRlcmNhbmNlbCcsIGNhbmNlbEFsbClcclxuXHJcbiAgICAvLyBzY3JvbGxpbmcgdGhlIHdpbmRvdyBpbmRpY2F0ZXMgaW50ZW50aW9uIG9mIHRoZSB1c2VyXHJcbiAgICAvLyB0byBzY3JvbGwsIG5vdCB0YXAgb3Igc3dpcGUsIHNvIGNhbmNlbCBhbGwgb25nb2luZyBldmVudHNcclxuICAgICQod2luZG93KS5vbignc2Nyb2xsJywgY2FuY2VsQWxsKVxyXG4gIH0pXHJcblxyXG4gIDtbJ3N3aXBlJywgJ3N3aXBlTGVmdCcsICdzd2lwZVJpZ2h0JywgJ3N3aXBlVXAnLCAnc3dpcGVEb3duJyxcclxuICAgICdkb3VibGVUYXAnLCAndGFwJywgJ3NpbmdsZVRhcCcsICdsb25nVGFwJ10uZm9yRWFjaChmdW5jdGlvbihldmVudE5hbWUpe1xyXG4gICAgJC5mbltldmVudE5hbWVdID0gZnVuY3Rpb24oY2FsbGJhY2speyByZXR1cm4gdGhpcy5vbihldmVudE5hbWUsIGNhbGxiYWNrKSB9XHJcbiAgfSlcclxufSkoWmVwdG8pXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2pzL3plcHRvLXRhcC5qc1xuICoqIG1vZHVsZSBpZCA9IDE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDEwIDExIDEyIDE3IDE4IDE5IDIzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },

/***/ 18:
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n\r\n__webpack_require__(16);\r\n__webpack_require__(17);\r\nvar thisScroll = __webpack_require__(11);\r\n// 把iscroll插件 依赖给 thisScroll  所以所thisScroll 有 iScroll() 这个方法\r\n\r\nvar myScroll,\r\n\tpullDownEl, pullDownOffset,_maxScrollY,\r\n\tpullUpEl, pullUpOffset,num=1,\r\n\tgeneratedCount = 0;\r\n\r\nfunction getGoodsData(classID,pageCode,linenumber,slide,flag){\r\n\tvar thisClassID = classID?classID:0;\r\n\tvar thisPageCode = pageCode?pageCode:0;\r\n\tvar thisSlide = slide?slide:0;\r\n\tvar thisLineNumber = linenumber?linenumber:6;\r\n\tvar params = {\r\n\t\tclassID:thisClassID,\r\n\t\tpageCode:thisPageCode,\r\n\t\tlinenumber:thisLineNumber\r\n\t}\r\n\t$.ajax({\r\n\t\turl:'http://datainfo.duapp.com/shopdata/getGoods.php',\r\n\t\ttype:'get',\r\n\t\tdata:params,\r\n\t\tdataType:'jsonp',\r\n\t\tsuccess:function(data){\r\n\t\t\tconsole.log(data.length);\r\n\t\t\tif(data.length){\r\n\t\t\t\t$.each(data,function(i){\r\n\t\t\t\t\tvar oldPrice = parseInt(data[i].price*data[i].discount*0.1);\r\n\t\t\t\t\tvar oLi = $(\"<li><dl><dt><img src=\"+data[i].goodsListImg+\"></dt><dd><h3>\"+data[i].goodsName+\"</h3><div><b class='price'>￥\"+oldPrice+\"</b><span class='oldprice'>￥\"+data[i].price+\"</span></div><span class='discount'>\"+data[i].discount+\"折</span><a href='#'></a></dd></dl></li>\");\r\n\t\t\t\t\tif(flag){\r\n\t\t\t\t\t\t$('#thelist').append(oLi);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$('#thelist').prepend(oLi);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tmyScroll.refresh();\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction pullDownAction () {\r\n\tsetTimeout(function () {\t// <-- Simulate network congestion, remove setTimeout from production!\r\n\t\t\r\n\t\t//刷新myscroll\r\n\t\tgetGoodsData(0,0,3,0,false);\r\n\t\t// myScroll.refresh();\t\t// Remember to refresh when contents are loaded (ie: on ajax completion)\r\n\t}, 1000);\t// <-- Simulate network congestion, remove setTimeout from production!\r\n}\r\n\r\n\r\nfunction pullUpAction () {\r\n\tsetTimeout(function () {\r\n\t\t// <-- Simulate network congestion, remove setTimeout from production!\r\n\t\tgetGoodsData(0,0,3,0,true);\r\n\t\t\r\n\t\t\t// Remember to refresh when contents are loaded (ie: on ajax completion)\r\n\t}, 1000);\t// <-- Simulate network congestion, remove setTimeout from production!\r\n}\r\n\r\nfunction loaded() {\r\n\tpullDownEl = document.getElementById('pullDown');\r\n\tpullDownOffset = pullDownEl.offsetHeight;\r\n\tpullUpEl = document.getElementById('pullUp');\r\n\tpullUpOffset = pullUpEl.offsetHeight; \r\n\r\n\t//初始化scroll  \r\n\tmyScroll = new thisScroll.iScroll('wrapper', {\r\n\t\tuseTransition: true,       //是否使用css 变形\r\n\t\ttopOffset: pullDownOffset,   //已经滚动的基准值\r\n\t\thideScrollbar:true,          //表示用户没有操作scroll时会隐藏滚动条\r\n\t\tfadeScrollbar:false,\r\n\t\tlockDirection:true,\r\n\t\t//表示滚动条重新 刷新 \r\n\t\tonRefresh: function () {\r\n            _maxScrollY = this.maxScrollY = this.maxScrollY + pullUpOffset;\r\n            //match\r\n\t\t\tif (pullDownEl.className.match('loading')) {\r\n\t\t\t\tpullDownEl.className = '';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新...';\r\n\t\t\t} else if (pullUpEl.className.match('loading')) {\r\n\t\t\t\tpullUpEl.className = '';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载更多...';\r\n\t\t\t}\r\n\t\t},\r\n\t\t//表示滚动条开始滑动\r\n\t\tonScrollMove: function () {\r\n\t\t\t// y:滚动条距离垂直初始位置 (负值)\r\n\t\t\tif (this.y > 5 && !pullDownEl.className.match('flip')) {\r\n\r\n\t\t\t\tpullDownEl.className = 'flip';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '松开刷新...';  //松开刷新\r\n\t\t\t\tthis.minScrollY = 0;\r\n\t\t\t\t\r\n\t\t\t} else if (this.y < 5 && pullDownEl.className.match('flip')) {\r\n\t\t\t\tpullDownEl.className = '';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新...';\r\n\t\t\t\tthis.minScrollY = -pullDownOffset;\r\n\t\t\t\t\r\n\t\t\t} else if (this.y <= (_maxScrollY - pullUpOffset) && !pullUpEl.className.match('flip')) {\r\n\t\t\t\tpullUpEl.className = 'flip';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '松开加载...';\r\n                this.maxScrollY = this.maxScrollY - pullUpOffset;\r\n\t\t\t}\r\n\t\t\t else if (this.y > (_maxScrollY - pullUpOffset) && pullUpEl.className.match('flip')) {\r\n\t\t\t\tpullUpEl.className = '';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载更多...';\r\n                this.maxScrollY = this.maxScrollY + pullUpOffset;\r\n\t\t\t}\r\n\t\t},\r\n\t\t//表示滚动条滑动结束时候\r\n\t\tonScrollEnd: function () {\r\n\t\t\tif (pullDownEl.className.match('flip')) {\r\n\t\t\t\tpullDownEl.className = 'loading';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '加载中...';\r\n\t\t\t\tpullDownAction();\t// Execute custom function (ajax call?)\r\n\t\t\t} else if (pullUpEl.className.match('flip')) {\r\n\t\t\t\tpullUpEl.className = 'loading';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载中...';\r\n\t\t\t\tpullUpAction();\t// Execute custom function (ajax call?)\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nsetTimeout(function () { document.getElementById('wrapper').style.left = '0'; }, 800);\r\n}\r\n\r\n//处理浏览器默认事件\r\ndocument.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);\r\n//当 DOM 元素 已经加载好内容后执行\r\ndocument.addEventListener('DOMContentLoaded', function () { setTimeout(loaded, 200); }, false);\r\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbXlpc2Nyb2xsLmpzPzk5YWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsRUFBRSxRQUFRO0FBQ1Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxRQUFRO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFFQUFxRTtBQUNyRTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixJQUFJO0FBQ0o7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsRUFBRTs7QUFFRix3QkFBd0IscURBQXFELEVBQUU7QUFDL0U7O0FBRUE7QUFDQSxxREFBcUQsb0JBQW9CLEVBQUU7QUFDM0U7QUFDQSwyREFBMkQseUJBQXlCLEVBQUUiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cblxyXG5yZXF1aXJlKCcuL3plcHRvLm1pbicpO1xyXG5yZXF1aXJlKCcuL3plcHRvLXRhcCcpO1xyXG52YXIgdGhpc1Njcm9sbCA9IHJlcXVpcmUoJy4vaXNjcm9sbCcpO1xyXG4vLyDmioppc2Nyb2xs5o+S5Lu2IOS+nei1lue7mSB0aGlzU2Nyb2xsICDmiYDku6XmiYB0aGlzU2Nyb2xsIOaciSBpU2Nyb2xsKCkg6L+Z5Liq5pa55rOVXHJcblxyXG52YXIgbXlTY3JvbGwsXHJcblx0cHVsbERvd25FbCwgcHVsbERvd25PZmZzZXQsX21heFNjcm9sbFksXHJcblx0cHVsbFVwRWwsIHB1bGxVcE9mZnNldCxudW09MSxcclxuXHRnZW5lcmF0ZWRDb3VudCA9IDA7XHJcblxyXG5mdW5jdGlvbiBnZXRHb29kc0RhdGEoY2xhc3NJRCxwYWdlQ29kZSxsaW5lbnVtYmVyLHNsaWRlLGZsYWcpe1xyXG5cdHZhciB0aGlzQ2xhc3NJRCA9IGNsYXNzSUQ/Y2xhc3NJRDowO1xyXG5cdHZhciB0aGlzUGFnZUNvZGUgPSBwYWdlQ29kZT9wYWdlQ29kZTowO1xyXG5cdHZhciB0aGlzU2xpZGUgPSBzbGlkZT9zbGlkZTowO1xyXG5cdHZhciB0aGlzTGluZU51bWJlciA9IGxpbmVudW1iZXI/bGluZW51bWJlcjo2O1xyXG5cdHZhciBwYXJhbXMgPSB7XHJcblx0XHRjbGFzc0lEOnRoaXNDbGFzc0lELFxyXG5cdFx0cGFnZUNvZGU6dGhpc1BhZ2VDb2RlLFxyXG5cdFx0bGluZW51bWJlcjp0aGlzTGluZU51bWJlclxyXG5cdH1cclxuXHQkLmFqYXgoe1xyXG5cdFx0dXJsOidodHRwOi8vZGF0YWluZm8uZHVhcHAuY29tL3Nob3BkYXRhL2dldEdvb2RzLnBocCcsXHJcblx0XHR0eXBlOidnZXQnLFxyXG5cdFx0ZGF0YTpwYXJhbXMsXHJcblx0XHRkYXRhVHlwZTonanNvbnAnLFxyXG5cdFx0c3VjY2VzczpmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0Y29uc29sZS5sb2coZGF0YS5sZW5ndGgpO1xyXG5cdFx0XHRpZihkYXRhLmxlbmd0aCl7XHJcblx0XHRcdFx0JC5lYWNoKGRhdGEsZnVuY3Rpb24oaSl7XHJcblx0XHRcdFx0XHR2YXIgb2xkUHJpY2UgPSBwYXJzZUludChkYXRhW2ldLnByaWNlKmRhdGFbaV0uZGlzY291bnQqMC4xKTtcclxuXHRcdFx0XHRcdHZhciBvTGkgPSAkKFwiPGxpPjxkbD48ZHQ+PGltZyBzcmM9XCIrZGF0YVtpXS5nb29kc0xpc3RJbWcrXCI+PC9kdD48ZGQ+PGgzPlwiK2RhdGFbaV0uZ29vZHNOYW1lK1wiPC9oMz48ZGl2PjxiIGNsYXNzPSdwcmljZSc+77+lXCIrb2xkUHJpY2UrXCI8L2I+PHNwYW4gY2xhc3M9J29sZHByaWNlJz7vv6VcIitkYXRhW2ldLnByaWNlK1wiPC9zcGFuPjwvZGl2PjxzcGFuIGNsYXNzPSdkaXNjb3VudCc+XCIrZGF0YVtpXS5kaXNjb3VudCtcIuaKmDwvc3Bhbj48YSBocmVmPScjJz48L2E+PC9kZD48L2RsPjwvbGk+XCIpO1xyXG5cdFx0XHRcdFx0aWYoZmxhZyl7XHJcblx0XHRcdFx0XHRcdCQoJyN0aGVsaXN0JykuYXBwZW5kKG9MaSk7XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0JCgnI3RoZWxpc3QnKS5wcmVwZW5kKG9MaSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRteVNjcm9sbC5yZWZyZXNoKCk7XHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuZnVuY3Rpb24gcHVsbERvd25BY3Rpb24gKCkge1xyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1x0Ly8gPC0tIFNpbXVsYXRlIG5ldHdvcmsgY29uZ2VzdGlvbiwgcmVtb3ZlIHNldFRpbWVvdXQgZnJvbSBwcm9kdWN0aW9uIVxyXG5cdFx0XHJcblx0XHQvL+WIt+aWsG15c2Nyb2xsXHJcblx0XHRnZXRHb29kc0RhdGEoMCwwLDMsMCxmYWxzZSk7XHJcblx0XHQvLyBteVNjcm9sbC5yZWZyZXNoKCk7XHRcdC8vIFJlbWVtYmVyIHRvIHJlZnJlc2ggd2hlbiBjb250ZW50cyBhcmUgbG9hZGVkIChpZTogb24gYWpheCBjb21wbGV0aW9uKVxyXG5cdH0sIDEwMDApO1x0Ly8gPC0tIFNpbXVsYXRlIG5ldHdvcmsgY29uZ2VzdGlvbiwgcmVtb3ZlIHNldFRpbWVvdXQgZnJvbSBwcm9kdWN0aW9uIVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gcHVsbFVwQWN0aW9uICgpIHtcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdC8vIDwtLSBTaW11bGF0ZSBuZXR3b3JrIGNvbmdlc3Rpb24sIHJlbW92ZSBzZXRUaW1lb3V0IGZyb20gcHJvZHVjdGlvbiFcclxuXHRcdGdldEdvb2RzRGF0YSgwLDAsMywwLHRydWUpO1xyXG5cdFx0XHJcblx0XHRcdC8vIFJlbWVtYmVyIHRvIHJlZnJlc2ggd2hlbiBjb250ZW50cyBhcmUgbG9hZGVkIChpZTogb24gYWpheCBjb21wbGV0aW9uKVxyXG5cdH0sIDEwMDApO1x0Ly8gPC0tIFNpbXVsYXRlIG5ldHdvcmsgY29uZ2VzdGlvbiwgcmVtb3ZlIHNldFRpbWVvdXQgZnJvbSBwcm9kdWN0aW9uIVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkZWQoKSB7XHJcblx0cHVsbERvd25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWxsRG93bicpO1xyXG5cdHB1bGxEb3duT2Zmc2V0ID0gcHVsbERvd25FbC5vZmZzZXRIZWlnaHQ7XHJcblx0cHVsbFVwRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVsbFVwJyk7XHJcblx0cHVsbFVwT2Zmc2V0ID0gcHVsbFVwRWwub2Zmc2V0SGVpZ2h0OyBcclxuXHJcblx0Ly/liJ3lp4vljJZzY3JvbGwgIFxyXG5cdG15U2Nyb2xsID0gbmV3IHRoaXNTY3JvbGwuaVNjcm9sbCgnd3JhcHBlcicsIHtcclxuXHRcdHVzZVRyYW5zaXRpb246IHRydWUsICAgICAgIC8v5piv5ZCm5L2/55SoY3NzIOWPmOW9olxyXG5cdFx0dG9wT2Zmc2V0OiBwdWxsRG93bk9mZnNldCwgICAvL+W3sue7j+a7muWKqOeahOWfuuWHhuWAvFxyXG5cdFx0aGlkZVNjcm9sbGJhcjp0cnVlLCAgICAgICAgICAvL+ihqOekuueUqOaIt+ayoeacieaTjeS9nHNjcm9sbOaXtuS8mumakOiXj+a7muWKqOadoVxyXG5cdFx0ZmFkZVNjcm9sbGJhcjpmYWxzZSxcclxuXHRcdGxvY2tEaXJlY3Rpb246dHJ1ZSxcclxuXHRcdC8v6KGo56S65rua5Yqo5p2h6YeN5pawIOWIt+aWsCBcclxuXHRcdG9uUmVmcmVzaDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfbWF4U2Nyb2xsWSA9IHRoaXMubWF4U2Nyb2xsWSA9IHRoaXMubWF4U2Nyb2xsWSArIHB1bGxVcE9mZnNldDtcclxuICAgICAgICAgICAgLy9tYXRjaFxyXG5cdFx0XHRpZiAocHVsbERvd25FbC5jbGFzc05hbWUubWF0Y2goJ2xvYWRpbmcnKSkge1xyXG5cdFx0XHRcdHB1bGxEb3duRWwuY2xhc3NOYW1lID0gJyc7XHJcblx0XHRcdFx0cHVsbERvd25FbC5xdWVyeVNlbGVjdG9yKCcucHVsbERvd25MYWJlbCcpLmlubmVySFRNTCA9ICfkuIvmi4nliLfmlrAuLi4nO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHB1bGxVcEVsLmNsYXNzTmFtZS5tYXRjaCgnbG9hZGluZycpKSB7XHJcblx0XHRcdFx0cHVsbFVwRWwuY2xhc3NOYW1lID0gJyc7XHJcblx0XHRcdFx0cHVsbFVwRWwucXVlcnlTZWxlY3RvcignLnB1bGxVcExhYmVsJykuaW5uZXJIVE1MID0gJ+WKoOi9veabtOWkmi4uLic7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvL+ihqOekuua7muWKqOadoeW8gOWni+a7keWKqFxyXG5cdFx0b25TY3JvbGxNb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdC8vIHk65rua5Yqo5p2h6Led56a75Z6C55u05Yid5aeL5L2N572uICjotJ/lgLwpXHJcblx0XHRcdGlmICh0aGlzLnkgPiA1ICYmICFwdWxsRG93bkVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblxyXG5cdFx0XHRcdHB1bGxEb3duRWwuY2xhc3NOYW1lID0gJ2ZsaXAnO1xyXG5cdFx0XHRcdHB1bGxEb3duRWwucXVlcnlTZWxlY3RvcignLnB1bGxEb3duTGFiZWwnKS5pbm5lckhUTUwgPSAn5p2+5byA5Yi35pawLi4uJzsgIC8v5p2+5byA5Yi35pawXHJcblx0XHRcdFx0dGhpcy5taW5TY3JvbGxZID0gMDtcclxuXHRcdFx0XHRcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnkgPCA1ICYmIHB1bGxEb3duRWwuY2xhc3NOYW1lLm1hdGNoKCdmbGlwJykpIHtcclxuXHRcdFx0XHRwdWxsRG93bkVsLmNsYXNzTmFtZSA9ICcnO1xyXG5cdFx0XHRcdHB1bGxEb3duRWwucXVlcnlTZWxlY3RvcignLnB1bGxEb3duTGFiZWwnKS5pbm5lckhUTUwgPSAn5LiL5ouJ5Yi35pawLi4uJztcclxuXHRcdFx0XHR0aGlzLm1pblNjcm9sbFkgPSAtcHVsbERvd25PZmZzZXQ7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy55IDw9IChfbWF4U2Nyb2xsWSAtIHB1bGxVcE9mZnNldCkgJiYgIXB1bGxVcEVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblx0XHRcdFx0cHVsbFVwRWwuY2xhc3NOYW1lID0gJ2ZsaXAnO1xyXG5cdFx0XHRcdHB1bGxVcEVsLnF1ZXJ5U2VsZWN0b3IoJy5wdWxsVXBMYWJlbCcpLmlubmVySFRNTCA9ICfmnb7lvIDliqDovb0uLi4nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhTY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZIC0gcHVsbFVwT2Zmc2V0O1xyXG5cdFx0XHR9XHJcblx0XHRcdCBlbHNlIGlmICh0aGlzLnkgPiAoX21heFNjcm9sbFkgLSBwdWxsVXBPZmZzZXQpICYmIHB1bGxVcEVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblx0XHRcdFx0cHVsbFVwRWwuY2xhc3NOYW1lID0gJyc7XHJcblx0XHRcdFx0cHVsbFVwRWwucXVlcnlTZWxlY3RvcignLnB1bGxVcExhYmVsJykuaW5uZXJIVE1MID0gJ+WKoOi9veabtOWkmi4uLic7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heFNjcm9sbFkgPSB0aGlzLm1heFNjcm9sbFkgKyBwdWxsVXBPZmZzZXQ7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvL+ihqOekuua7muWKqOadoea7keWKqOe7k+adn+aXtuWAmVxyXG5cdFx0b25TY3JvbGxFbmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHB1bGxEb3duRWwuY2xhc3NOYW1lLm1hdGNoKCdmbGlwJykpIHtcclxuXHRcdFx0XHRwdWxsRG93bkVsLmNsYXNzTmFtZSA9ICdsb2FkaW5nJztcclxuXHRcdFx0XHRwdWxsRG93bkVsLnF1ZXJ5U2VsZWN0b3IoJy5wdWxsRG93bkxhYmVsJykuaW5uZXJIVE1MID0gJ+WKoOi9veS4rS4uLic7XHJcblx0XHRcdFx0cHVsbERvd25BY3Rpb24oKTtcdC8vIEV4ZWN1dGUgY3VzdG9tIGZ1bmN0aW9uIChhamF4IGNhbGw/KVxyXG5cdFx0XHR9IGVsc2UgaWYgKHB1bGxVcEVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblx0XHRcdFx0cHVsbFVwRWwuY2xhc3NOYW1lID0gJ2xvYWRpbmcnO1xyXG5cdFx0XHRcdHB1bGxVcEVsLnF1ZXJ5U2VsZWN0b3IoJy5wdWxsVXBMYWJlbCcpLmlubmVySFRNTCA9ICfliqDovb3kuK0uLi4nO1xyXG5cdFx0XHRcdHB1bGxVcEFjdGlvbigpO1x0Ly8gRXhlY3V0ZSBjdXN0b20gZnVuY3Rpb24gKGFqYXggY2FsbD8pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcbnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcHBlcicpLnN0eWxlLmxlZnQgPSAnMCc7IH0sIDgwMCk7XHJcbn1cclxuXHJcbi8v5aSE55CG5rWP6KeI5Zmo6buY6K6k5LqL5Lu2XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChlKSB7IGUucHJldmVudERlZmF1bHQoKTsgfSwgZmFsc2UpO1xyXG4vL+W9kyBET00g5YWD57SgIOW3sue7j+WKoOi9veWlveWGheWuueWQjuaJp+ihjFxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkgeyBzZXRUaW1lb3V0KGxvYWRlZCwgMjAwKTsgfSwgZmFsc2UpO1xyXG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvbXlpc2Nyb2xsLmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMTEgMThcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ }

/******/ });